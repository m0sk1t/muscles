!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t="length"in e&&e.length,n=J.type(e);return"function"!==n&&!J.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e))}function r(e,t,n){if(J.isFunction(t))return J.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return J.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(se.test(t))return J.filter(t,e,n);t=J.filter(t,e)}return J.grep(e,function(e){return q.call(t,e)>=0!==n})}function i(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function o(e){var t=pe[e]={};return J.each(e.match(he)||[],function(e,n){t[n]=!0}),t}function a(){Z.removeEventListener("DOMContentLoaded",a,!1),e.removeEventListener("load",a,!1),J.ready()}function s(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=J.expando+s.uid++}function l(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace($e,"-$1").toLowerCase(),n=e.getAttribute(r),"string"==typeof n){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:be.test(n)?J.parseJSON(n):n)}catch(i){}ye.set(e,t,n)}else n=void 0;return n}function u(){return!0}function c(){return!1}function d(){try{return Z.activeElement}catch(e){}}function f(e,t){return J.nodeName(e,"table")&&J.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function h(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function p(e){var t=Ie.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function g(e,t){for(var n=0,r=e.length;r>n;n++)ve.set(e[n],"globalEval",!t||ve.get(t[n],"globalEval"))}function m(e,t){var n,r,i,o,a,s,l,u;if(1===t.nodeType){if(ve.hasData(e)&&(o=ve.access(e),a=ve.set(t,o),u=o.events)){delete a.handle,a.events={};for(i in u)for(n=0,r=u[i].length;r>n;n++)J.event.add(t,i,u[i][n])}ye.hasData(e)&&(s=ye.access(e),l=J.extend({},s),ye.set(t,l))}}function v(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&J.nodeName(e,t)?J.merge([e],n):n}function y(e,t){var n=t.nodeName.toLowerCase();"input"===n&&xe.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function b(t,n){var r,i=J(n.createElement(t)).appendTo(n.body),o=e.getDefaultComputedStyle&&(r=e.getDefaultComputedStyle(i[0]))?r.display:J.css(i[0],"display");return i.detach(),o}function $(e){var t=Z,n=Be[e];return n||(n=b(e,t),"none"!==n&&n||(He=(He||J("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=He[0].contentDocument,t.write(),t.close(),n=b(e,t),He.detach()),Be[e]=n),n}function E(e,t,n){var r,i,o,a,s=e.style;return n=n||ze(e),n&&(a=n.getPropertyValue(t)||n[t]),n&&(""!==a||J.contains(e.ownerDocument,e)||(a=J.style(e,t)),je.test(a)&&Ue.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function w(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function S(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),r=t,i=Ke.length;i--;)if(t=Ke[i]+n,t in e)return t;return r}function x(e,t,n){var r=We.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function C(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=J.css(e,n+we[o],!0,i)),r?("content"===n&&(a-=J.css(e,"padding"+we[o],!0,i)),"margin"!==n&&(a-=J.css(e,"border"+we[o]+"Width",!0,i))):(a+=J.css(e,"padding"+we[o],!0,i),"padding"!==n&&(a+=J.css(e,"border"+we[o]+"Width",!0,i)));return a}function T(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=ze(e),a="border-box"===J.css(e,"boxSizing",!1,o);if(0>=i||null==i){if(i=E(e,t,o),(0>i||null==i)&&(i=e.style[t]),je.test(i))return i;r=a&&(X.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+C(e,t,n||(a?"border":"content"),r,o)+"px"}function D(e,t){for(var n,r,i,o=[],a=0,s=e.length;s>a;a++)r=e[a],r.style&&(o[a]=ve.get(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&Se(r)&&(o[a]=ve.access(r,"olddisplay",$(r.nodeName)))):(i=Se(r),"none"===n&&i||ve.set(r,"olddisplay",i?n:J.css(r,"display"))));for(a=0;s>a;a++)r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}function k(e,t,n,r,i){return new k.prototype.init(e,t,n,r,i)}function N(){return setTimeout(function(){Xe=void 0}),Xe=J.now()}function _(e,t){var n,r=0,i={height:e};for(t=t?1:0;4>r;r+=2-t)n=we[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function A(e,t,n){for(var r,i=(nt[t]||[]).concat(nt["*"]),o=0,a=i.length;a>o;o++)if(r=i[o].call(n,t,e))return r}function M(e,t,n){var r,i,o,a,s,l,u,c,d=this,f={},h=e.style,p=e.nodeType&&Se(e),g=ve.get(e,"fxshow");n.queue||(s=J._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,J.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],u=J.css(e,"display"),c="none"===u?ve.get(e,"olddisplay")||$(e.nodeName):u,"inline"===c&&"none"===J.css(e,"float")&&(h.display="inline-block")),n.overflow&&(h.overflow="hidden",d.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],Qe.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(p?"hide":"show")){if("show"!==i||!g||void 0===g[r])continue;p=!0}f[r]=g&&g[r]||J.style(e,r)}else u=void 0;if(J.isEmptyObject(f))"inline"===("none"===u?$(e.nodeName):u)&&(h.display=u);else{g?"hidden"in g&&(p=g.hidden):g=ve.access(e,"fxshow",{}),o&&(g.hidden=!p),p?J(e).show():d.done(function(){J(e).hide()}),d.done(function(){var t;ve.remove(e,"fxshow");for(t in f)J.style(e,t,f[t])});for(r in f)a=A(p?g[r]:0,r,d),r in g||(g[r]=a.start,p&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function O(e,t){var n,r,i,o,a;for(n in e)if(r=J.camelCase(n),i=t[r],o=e[n],J.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),a=J.cssHooks[r],a&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function F(e,t,n){var r,i,o=0,a=tt.length,s=J.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;for(var t=Xe||N(),n=Math.max(0,u.startTime+u.duration-t),r=n/u.duration||0,o=1-r,a=0,l=u.tweens.length;l>a;a++)u.tweens[a].run(o);return s.notifyWith(e,[u,o,n]),1>o&&l?n:(s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:J.extend({},t),opts:J.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Xe||N(),duration:n.duration,tweens:[],createTween:function(t,n){var r=J.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(r),r},stop:function(t){var n=0,r=t?u.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)u.tweens[n].run(1);return t?s.resolveWith(e,[u,t]):s.rejectWith(e,[u,t]),this}}),c=u.props;for(O(c,u.opts.specialEasing);a>o;o++)if(r=tt[o].call(u,e,c,u.opts))return r;return J.map(c,A,u),J.isFunction(u.opts.start)&&u.opts.start.call(e,u),J.fx.timer(J.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function R(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(he)||[];if(J.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function I(e,t,n,r){function i(s){var l;return o[s]=!0,J.each(e[s]||[],function(e,s){var u=s(t,n,r);return"string"!=typeof u||a||o[u]?a?!(l=u):void 0:(t.dataTypes.unshift(u),i(u),!1)}),l}var o={},a=e===bt;return i(t.dataTypes[0])||!o["*"]&&i("*")}function L(e,t){var n,r,i=J.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&J.extend(!0,e,r),e}function P(e,t,n){for(var r,i,o,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){l.unshift(i);break}if(l[0]in n)o=l[0];else{for(i in n){if(!l[0]||e.converters[i+" "+l[0]]){o=i;break}a||(a=i)}o=o||a}return o?(o!==l[0]&&l.unshift(o),n[o]):void 0}function H(e,t,n,r){var i,o,a,s,l,u={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(a=u[l+" "+o]||u["* "+o],!a)for(i in u)if(s=i.split(" "),s[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){a===!0?a=u[i]:u[i]!==!0&&(o=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(d){return{state:"parsererror",error:a?d:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}function B(e,t,n,r){var i;if(J.isArray(t))J.each(t,function(t,i){n||xt.test(e)?r(e,i):B(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==J.type(t))r(e,t);else for(i in t)B(e+"["+i+"]",t[i],n,r)}function U(e){return J.isWindow(e)?e:9===e.nodeType&&e.defaultView}var j=[],z=j.slice,V=j.concat,W=j.push,q=j.indexOf,Y={},G=Y.toString,K=Y.hasOwnProperty,X={},Z=e.document,Q="2.1.4",J=function(e,t){return new J.fn.init(e,t)},ee=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,te=/^-ms-/,ne=/-([\da-z])/gi,re=function(e,t){return t.toUpperCase()};J.fn=J.prototype={jquery:Q,constructor:J,selector:"",length:0,toArray:function(){return z.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:z.call(this)},pushStack:function(e){var t=J.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return J.each(this,e,t)},map:function(e){return this.pushStack(J.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(z.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:W,sort:j.sort,splice:j.splice},J.extend=J.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||J.isFunction(a)||(a={}),s===l&&(a=this,s--);l>s;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],r=e[t],a!==r&&(u&&r&&(J.isPlainObject(r)||(i=J.isArray(r)))?(i?(i=!1,o=n&&J.isArray(n)?n:[]):o=n&&J.isPlainObject(n)?n:{},a[t]=J.extend(u,o,r)):void 0!==r&&(a[t]=r));return a},J.extend({expando:"jQuery"+(Q+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===J.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!J.isArray(e)&&e-parseFloat(e)+1>=0},isPlainObject:function(e){return"object"===J.type(e)&&!e.nodeType&&!J.isWindow(e)&&!(e.constructor&&!K.call(e.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?Y[G.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;e=J.trim(e),e&&(1===e.indexOf("use strict")?(t=Z.createElement("script"),t.text=e,Z.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(te,"ms-").replace(ne,re)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var i,o=0,a=e.length,s=n(e);if(r){if(s)for(;a>o&&(i=t.apply(e[o],r),i!==!1);o++);else for(o in e)if(i=t.apply(e[o],r),i===!1)break}else if(s)for(;a>o&&(i=t.call(e[o],o,e[o]),i!==!1);o++);else for(o in e)if(i=t.call(e[o],o,e[o]),i===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(ee,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?J.merge(r,"string"==typeof e?[e]:e):W.call(r,e)),r},inArray:function(e,t,n){return null==t?-1:q.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;n>r;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,a=e.length,s=!n;a>o;o++)r=!t(e[o],o),r!==s&&i.push(e[o]);return i},map:function(e,t,r){var i,o=0,a=e.length,s=n(e),l=[];if(s)for(;a>o;o++)i=t(e[o],o,r),null!=i&&l.push(i);else for(o in e)i=t(e[o],o,r),null!=i&&l.push(i);return V.apply([],l)},guid:1,proxy:function(e,t){var n,r,i;return"string"==typeof t&&(n=e[t],t=e,e=n),J.isFunction(e)?(r=z.call(arguments,2),i=function(){return e.apply(t||this,r.concat(z.call(arguments)))},i.guid=e.guid=e.guid||J.guid++,i):void 0},now:Date.now,support:X}),J.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Y["[object "+t+"]"]=t.toLowerCase()});var ie=function(e){function t(e,t,n,r){var i,o,a,s,l,u,d,h,p,g;if((t?t.ownerDocument||t:B)!==M&&A(t),t=t||M,n=n||[],s=t.nodeType,"string"!=typeof e||!e||1!==s&&9!==s&&11!==s)return n;if(!r&&F){if(11!==s&&(i=ye.exec(e)))if(a=i[1]){if(9===s){if(o=t.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&P(t,o)&&o.id===a)return n.push(o),n}else{if(i[2])return Q.apply(n,t.getElementsByTagName(e)),n;if((a=i[3])&&E.getElementsByClassName)return Q.apply(n,t.getElementsByClassName(a)),n}if(E.qsa&&(!R||!R.test(e))){if(h=d=H,p=t,g=1!==s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(u=C(e),(d=t.getAttribute("id"))?h=d.replace($e,"\\$&"):t.setAttribute("id",h),h="[id='"+h+"'] ",l=u.length;l--;)u[l]=h+f(u[l]);p=be.test(e)&&c(t.parentNode)||t,g=u.join(",")}if(g)try{return Q.apply(n,p.querySelectorAll(g)),n}catch(m){}finally{d||t.removeAttribute("id")}}}return D(e.replace(le,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>w.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[H]=!0,e}function i(e){var t=M.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=e.length;r--;)w.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||Y)-(~e.sourceIndex||Y);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function u(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function c(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function d(){}function f(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function h(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=j++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var s,l,u=[U,o];if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if(l=t[H]||(t[H]={}),(s=l[r])&&s[0]===U&&s[1]===o)return u[2]=s[2];if(l[r]=u,u[2]=e(t,n,a))return!0}}}function p(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function g(e,n,r){for(var i=0,o=n.length;o>i;i++)t(e,n[i],r);return r}function m(e,t,n,r,i){for(var o,a=[],s=0,l=e.length,u=null!=t;l>s;s++)(o=e[s])&&(!n||n(o,r,i))&&(a.push(o),u&&t.push(s));return a}function v(e,t,n,i,o,a){return i&&!i[H]&&(i=v(i)),o&&!o[H]&&(o=v(o,a)),r(function(r,a,s,l){var u,c,d,f=[],h=[],p=a.length,v=r||g(t||"*",s.nodeType?[s]:s,[]),y=!e||!r&&t?v:m(v,f,e,s,l),b=n?o||(r?e:p||i)?[]:a:y;if(n&&n(y,b,s,l),i)for(u=m(b,h),i(u,[],s,l),c=u.length;c--;)(d=u[c])&&(b[h[c]]=!(y[h[c]]=d));if(r){if(o||e){if(o){for(u=[],c=b.length;c--;)(d=b[c])&&u.push(y[c]=d);o(null,b=[],u,l)}for(c=b.length;c--;)(d=b[c])&&(u=o?ee(r,d):f[c])>-1&&(r[u]=!(a[u]=d))}}else b=m(b===a?b.splice(p,b.length):b),o?o(null,a,b,l):Q.apply(a,b)})}function y(e){for(var t,n,r,i=e.length,o=w.relative[e[0].type],a=o||w.relative[" "],s=o?1:0,l=h(function(e){return e===t},a,!0),u=h(function(e){return ee(t,e)>-1},a,!0),c=[function(e,n,r){var i=!o&&(r||n!==k)||((t=n).nodeType?l(e,n,r):u(e,n,r));return t=null,i}];i>s;s++)if(n=w.relative[e[s].type])c=[h(p(c),n)];else{if(n=w.filter[e[s].type].apply(null,e[s].matches),n[H]){for(r=++s;i>r&&!w.relative[e[r].type];r++);return v(s>1&&p(c),s>1&&f(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(le,"$1"),n,r>s&&y(e.slice(s,r)),i>r&&y(e=e.slice(r)),i>r&&f(e))}c.push(n)}return p(c)}function b(e,n){var i=n.length>0,o=e.length>0,a=function(r,a,s,l,u){var c,d,f,h=0,p="0",g=r&&[],v=[],y=k,b=r||o&&w.find.TAG("*",u),$=U+=null==y?1:Math.random()||.1,E=b.length;for(u&&(k=a!==M&&a);p!==E&&null!=(c=b[p]);p++){if(o&&c){for(d=0;f=e[d++];)if(f(c,a,s)){l.push(c);break}u&&(U=$)}i&&((c=!f&&c)&&h--,r&&g.push(c))}if(h+=p,i&&p!==h){for(d=0;f=n[d++];)f(g,v,a,s);if(r){if(h>0)for(;p--;)g[p]||v[p]||(v[p]=X.call(l));v=m(v)}Q.apply(l,v),u&&!r&&v.length>0&&h+n.length>1&&t.uniqueSort(l)}return u&&(U=$,k=y),g};return i?r(a):a}var $,E,w,S,x,C,T,D,k,N,_,A,M,O,F,R,I,L,P,H="sizzle"+1*new Date,B=e.document,U=0,j=0,z=n(),V=n(),W=n(),q=function(e,t){return e===t&&(_=!0),0},Y=1<<31,G={}.hasOwnProperty,K=[],X=K.pop,Z=K.push,Q=K.push,J=K.slice,ee=function(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ie=re.replace("w","w#"),oe="\\["+ne+"*("+re+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+ne+"*\\]",ae=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",se=new RegExp(ne+"+","g"),le=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),ue=new RegExp("^"+ne+"*,"+ne+"*"),ce=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),de=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),fe=new RegExp(ae),he=new RegExp("^"+ie+"$"),pe={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re.replace("w","w*")+")"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+ae),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},ge=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,$e=/'|\\/g,Ee=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),we=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},Se=function(){A()};try{Q.apply(K=J.call(B.childNodes),B.childNodes),K[B.childNodes.length].nodeType}catch(xe){Q={apply:K.length?function(e,t){Z.apply(e,J.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}E=t.support={},x=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},A=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:B;return r!==M&&9===r.nodeType&&r.documentElement?(M=r,O=r.documentElement,n=r.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",Se,!1):n.attachEvent&&n.attachEvent("onunload",Se)),F=!x(r),E.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),E.getElementsByTagName=i(function(e){return e.appendChild(r.createComment("")),!e.getElementsByTagName("*").length}),E.getElementsByClassName=ve.test(r.getElementsByClassName),E.getById=i(function(e){return O.appendChild(e).id=H,!r.getElementsByName||!r.getElementsByName(H).length}),E.getById?(w.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&F){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},w.filter.ID=function(e){var t=e.replace(Ee,we);return function(e){return e.getAttribute("id")===t}}):(delete w.find.ID,w.filter.ID=function(e){var t=e.replace(Ee,we);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),w.find.TAG=E.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):E.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},w.find.CLASS=E.getElementsByClassName&&function(e,t){return F?t.getElementsByClassName(e):void 0},I=[],R=[],(E.qsa=ve.test(r.querySelectorAll))&&(i(function(e){O.appendChild(e).innerHTML="<a id='"+H+"'></a><select id='"+H+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&R.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||R.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+H+"-]").length||R.push("~="),e.querySelectorAll(":checked").length||R.push(":checked"),e.querySelectorAll("a#"+H+"+*").length||R.push(".#.+[+~]")}),i(function(e){var t=r.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&R.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||R.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),R.push(",.*:")})),(E.matchesSelector=ve.test(L=O.matches||O.webkitMatchesSelector||O.mozMatchesSelector||O.oMatchesSelector||O.msMatchesSelector))&&i(function(e){E.disconnectedMatch=L.call(e,"div"),L.call(e,"[s!='']:x"),I.push("!=",ae)}),R=R.length&&new RegExp(R.join("|")),I=I.length&&new RegExp(I.join("|")),t=ve.test(O.compareDocumentPosition),P=t||ve.test(O.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},q=t?function(e,t){if(e===t)return _=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!E.sortDetached&&t.compareDocumentPosition(e)===n?e===r||e.ownerDocument===B&&P(B,e)?-1:t===r||t.ownerDocument===B&&P(B,t)?1:N?ee(N,e)-ee(N,t):0:4&n?-1:1)}:function(e,t){if(e===t)return _=!0,0;var n,i=0,o=e.parentNode,s=t.parentNode,l=[e],u=[t];if(!o||!s)return e===r?-1:t===r?1:o?-1:s?1:N?ee(N,e)-ee(N,t):0;if(o===s)return a(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;l[i]===u[i];)i++;return i?a(l[i],u[i]):l[i]===B?-1:u[i]===B?1:0},r):M},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==M&&A(e),n=n.replace(de,"='$1']"),!(!E.matchesSelector||!F||I&&I.test(n)||R&&R.test(n)))try{var r=L.call(e,n);if(r||E.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(i){}return t(n,M,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==M&&A(e),P(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==M&&A(e);var n=w.attrHandle[t.toLowerCase()],r=n&&G.call(w.attrHandle,t.toLowerCase())?n(e,t,!F):void 0;return void 0!==r?r:E.attributes||!F?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(_=!E.detectDuplicates,N=!E.sortStable&&e.slice(0),e.sort(q),_){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return N=null,e},S=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=S(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=S(t);return n},w=t.selectors={cacheLength:50,createPseudo:r,match:pe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Ee,we),e[3]=(e[3]||e[4]||e[5]||"").replace(Ee,we),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return pe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&fe.test(n)&&(t=C(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Ee,we).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=z[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&z(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:!n||(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(se," ")+" ").indexOf(r)>-1:"|="===n&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var u,c,d,f,h,p,g=o!==a?"nextSibling":"previousSibling",m=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s;if(m){if(o){for(;g;){for(d=t;d=d[g];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=g="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?m.firstChild:m.lastChild],a&&y){for(c=m[H]||(m[H]={}),u=c[e]||[],h=u[0]===U&&u[1],f=u[0]===U&&u[2],d=h&&m.childNodes[h];d=++h&&d&&d[g]||(f=h=0)||p.pop();)if(1===d.nodeType&&++f&&d===t){c[e]=[U,h,f];break}}else if(y&&(u=(t[H]||(t[H]={}))[e])&&u[0]===U)f=u[1];else for(;(d=++h&&d&&d[g]||(f=h=0)||p.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++f||(y&&((d[H]||(d[H]={}))[e]=[U,f]),d!==t)););return f-=i,f===r||f%r===0&&f/r>=0}}},PSEUDO:function(e,n){var i,o=w.pseudos[e]||w.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[H]?o(n):o.length>1?(i=[e,e,"",n],w.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),a=i.length;a--;)r=ee(e,i[a]),e[r]=!(t[r]=i[a])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=T(e.replace(le,"$1"));return i[H]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(Ee,we),function(t){return(t.textContent||t.innerText||S(t)).indexOf(e)>-1}}),lang:r(function(e){return he.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(Ee,we).toLowerCase(),function(t){var n;do if(n=F?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===O},focus:function(e){return e===M.activeElement&&(!M.hasFocus||M.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return me.test(e.nodeName)},input:function(e){return ge.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[0>n?n+t:n]}),even:u(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:u(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}},w.pseudos.nth=w.pseudos.eq;for($ in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[$]=s($);for($ in{submit:!0,reset:!0})w.pseudos[$]=l($);return d.prototype=w.filters=w.pseudos,w.setFilters=new d,C=t.tokenize=function(e,n){var r,i,o,a,s,l,u,c=V[e+" "];if(c)return n?0:c.slice(0);for(s=e,l=[],u=w.preFilter;s;){(!r||(i=ue.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),l.push(o=[])),r=!1,(i=ce.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(le," ")}),s=s.slice(r.length));for(a in w.filter)!(i=pe[a].exec(s))||u[a]&&!(i=u[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):V(e,l).slice(0)},T=t.compile=function(e,t){var n,r=[],i=[],o=W[e+" "];if(!o){for(t||(t=C(e)),n=t.length;n--;)o=y(t[n]),o[H]?r.push(o):i.push(o);o=W(e,b(i,r)),o.selector=e}return o},D=t.select=function(e,t,n,r){var i,o,a,s,l,u="function"==typeof e&&e,d=!r&&C(e=u.selector||e);if(n=n||[],1===d.length){if(o=d[0]=d[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&E.getById&&9===t.nodeType&&F&&w.relative[o[1].type]){if(t=(w.find.ID(a.matches[0].replace(Ee,we),t)||[])[0],!t)return n;u&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=pe.needsContext.test(e)?0:o.length;i--&&(a=o[i],!w.relative[s=a.type]);)if((l=w.find[s])&&(r=l(a.matches[0].replace(Ee,we),be.test(o[0].type)&&c(t.parentNode)||t))){if(o.splice(i,1),e=r.length&&f(o),!e)return Q.apply(n,r),n;break}}return(u||T(e,d))(r,t,!F,n,be.test(e)&&c(t.parentNode)||t),n},E.sortStable=H.split("").sort(q).join("")===H,E.detectDuplicates=!!_,A(),E.sortDetached=i(function(e){return 1&e.compareDocumentPosition(M.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),E.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(te,function(e,t,n){var r;return n?void 0:e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);J.find=ie,J.expr=ie.selectors,J.expr[":"]=J.expr.pseudos,J.unique=ie.uniqueSort,J.text=ie.getText,J.isXMLDoc=ie.isXML,J.contains=ie.contains;var oe=J.expr.match.needsContext,ae=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,se=/^.[^:#\[\.,]*$/;J.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?J.find.matchesSelector(r,e)?[r]:[]:J.find.matches(e,J.grep(t,function(e){return 1===e.nodeType}))},J.fn.extend({find:function(e){var t,n=this.length,r=[],i=this;
if("string"!=typeof e)return this.pushStack(J(e).filter(function(){for(t=0;n>t;t++)if(J.contains(i[t],this))return!0}));for(t=0;n>t;t++)J.find(e,i[t],r);return r=this.pushStack(n>1?J.unique(r):r),r.selector=this.selector?this.selector+" "+e:e,r},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&oe.test(e)?J(e):e||[],!1).length}});var le,ue=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ce=J.fn.init=function(e,t){var n,r;if(!e)return this;if("string"==typeof e){if(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:ue.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||le).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof J?t[0]:t,J.merge(this,J.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:Z,!0)),ae.test(n[1])&&J.isPlainObject(t))for(n in t)J.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return r=Z.getElementById(n[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=Z,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):J.isFunction(e)?"undefined"!=typeof le.ready?le.ready(e):e(J):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),J.makeArray(e,this))};ce.prototype=J.fn,le=J(Z);var de=/^(?:parents|prev(?:Until|All))/,fe={children:!0,contents:!0,next:!0,prev:!0};J.extend({dir:function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&J(e).is(n))break;r.push(e)}return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),J.fn.extend({has:function(e){var t=J(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(J.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=oe.test(e)||"string"!=typeof e?J(e,t||this.context):0;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&J.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?J.unique(o):o)},index:function(e){return e?"string"==typeof e?q.call(J(e),this[0]):q.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(J.unique(J.merge(this.get(),J(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),J.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return J.dir(e,"parentNode")},parentsUntil:function(e,t,n){return J.dir(e,"parentNode",n)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return J.dir(e,"nextSibling")},prevAll:function(e){return J.dir(e,"previousSibling")},nextUntil:function(e,t,n){return J.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return J.dir(e,"previousSibling",n)},siblings:function(e){return J.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return J.sibling(e.firstChild)},contents:function(e){return e.contentDocument||J.merge([],e.childNodes)}},function(e,t){J.fn[e]=function(n,r){var i=J.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=J.filter(r,i)),this.length>1&&(fe[e]||J.unique(i),de.test(e)&&i.reverse()),this.pushStack(i)}});var he=/\S+/g,pe={};J.Callbacks=function(e){e="string"==typeof e?pe[e]||o(e):J.extend({},e);var t,n,r,i,a,s,l=[],u=!e.once&&[],c=function(o){for(t=e.memory&&o,n=!0,s=i||0,i=0,a=l.length,r=!0;l&&a>s;s++)if(l[s].apply(o[0],o[1])===!1&&e.stopOnFalse){t=!1;break}r=!1,l&&(u?u.length&&c(u.shift()):t?l=[]:d.disable())},d={add:function(){if(l){var n=l.length;!function o(t){J.each(t,function(t,n){var r=J.type(n);"function"===r?e.unique&&d.has(n)||l.push(n):n&&n.length&&"string"!==r&&o(n)})}(arguments),r?a=l.length:t&&(i=n,c(t))}return this},remove:function(){return l&&J.each(arguments,function(e,t){for(var n;(n=J.inArray(t,l,n))>-1;)l.splice(n,1),r&&(a>=n&&a--,s>=n&&s--)}),this},has:function(e){return e?J.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],a=0,this},disable:function(){return l=u=t=void 0,this},disabled:function(){return!l},lock:function(){return u=void 0,t||d.disable(),this},locked:function(){return!u},fireWith:function(e,t){return!l||n&&!u||(t=t||[],t=[e,t.slice?t.slice():t],r?u.push(t):c(t)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!n}};return d},J.extend({Deferred:function(e){var t=[["resolve","done",J.Callbacks("once memory"),"resolved"],["reject","fail",J.Callbacks("once memory"),"rejected"],["notify","progress",J.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return J.Deferred(function(n){J.each(t,function(t,o){var a=J.isFunction(e[t])&&e[t];i[o[1]](function(){var e=a&&a.apply(this,arguments);e&&J.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?J.extend(e,r):r}},i={};return r.pipe=r.then,J.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,o=z.call(arguments),a=o.length,s=1!==a||e&&J.isFunction(e.promise)?a:0,l=1===s?e:J.Deferred(),u=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?z.call(arguments):i,r===t?l.notifyWith(n,r):--s||l.resolveWith(n,r)}};if(a>1)for(t=new Array(a),n=new Array(a),r=new Array(a);a>i;i++)o[i]&&J.isFunction(o[i].promise)?o[i].promise().done(u(i,r,o)).fail(l.reject).progress(u(i,n,t)):--s;return s||l.resolveWith(r,o),l.promise()}});var ge;J.fn.ready=function(e){return J.ready.promise().done(e),this},J.extend({isReady:!1,readyWait:1,holdReady:function(e){e?J.readyWait++:J.ready(!0)},ready:function(e){(e===!0?--J.readyWait:J.isReady)||(J.isReady=!0,e!==!0&&--J.readyWait>0||(ge.resolveWith(Z,[J]),J.fn.triggerHandler&&(J(Z).triggerHandler("ready"),J(Z).off("ready"))))}}),J.ready.promise=function(t){return ge||(ge=J.Deferred(),"complete"===Z.readyState?setTimeout(J.ready):(Z.addEventListener("DOMContentLoaded",a,!1),e.addEventListener("load",a,!1))),ge.promise(t)},J.ready.promise();var me=J.access=function(e,t,n,r,i,o,a){var s=0,l=e.length,u=null==n;if("object"===J.type(n)){i=!0;for(s in n)J.access(e,t,s,n[s],!0,o,a)}else if(void 0!==r&&(i=!0,J.isFunction(r)||(a=!0),u&&(a?(t.call(e,r),t=null):(u=t,t=function(e,t,n){return u.call(J(e),n)})),t))for(;l>s;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:u?t.call(e):l?t(e[0],n):o};J.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},s.uid=1,s.accepts=J.acceptData,s.prototype={key:function(e){if(!s.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=s.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(r){t[this.expando]=n,J.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var r,i=this.key(e),o=this.cache[i];if("string"==typeof t)o[t]=n;else if(J.isEmptyObject(o))J.extend(this.cache[i],t);else for(r in t)o[r]=t[r];return o},get:function(e,t){var n=this.cache[this.key(e)];return void 0===t?n:n[t]},access:function(e,t,n){var r;return void 0===t||t&&"string"==typeof t&&void 0===n?(r=this.get(e,t),void 0!==r?r:this.get(e,J.camelCase(t))):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r,i,o=this.key(e),a=this.cache[o];if(void 0===t)this.cache[o]={};else{J.isArray(t)?r=t.concat(t.map(J.camelCase)):(i=J.camelCase(t),t in a?r=[t,i]:(r=i,r=r in a?[r]:r.match(he)||[])),n=r.length;for(;n--;)delete a[r[n]]}},hasData:function(e){return!J.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var ve=new s,ye=new s,be=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,$e=/([A-Z])/g;J.extend({hasData:function(e){return ye.hasData(e)||ve.hasData(e)},data:function(e,t,n){return ye.access(e,t,n)},removeData:function(e,t){ye.remove(e,t)},_data:function(e,t,n){return ve.access(e,t,n)},_removeData:function(e,t){ve.remove(e,t)}}),J.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=ye.get(o),1===o.nodeType&&!ve.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=J.camelCase(r.slice(5)),l(o,r,i[r])));ve.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){ye.set(this,e)}):me(this,function(t){var n,r=J.camelCase(e);if(o&&void 0===t){if(n=ye.get(o,e),void 0!==n)return n;if(n=ye.get(o,r),void 0!==n)return n;if(n=l(o,r,void 0),void 0!==n)return n}else this.each(function(){var n=ye.get(this,r);ye.set(this,r,t),-1!==e.indexOf("-")&&void 0!==n&&ye.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){ye.remove(this,e)})}}),J.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=ve.get(e,t),n&&(!r||J.isArray(n)?r=ve.access(e,t,J.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=J.queue(e,t),r=n.length,i=n.shift(),o=J._queueHooks(e,t),a=function(){J.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ve.get(e,n)||ve.access(e,n,{empty:J.Callbacks("once memory").add(function(){ve.remove(e,[t+"queue",n])})})}}),J.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?J.queue(this[0],e):void 0===t?this:this.each(function(){var n=J.queue(this,e,t);J._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&J.dequeue(this,e)})},dequeue:function(e){return this.each(function(){J.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=J.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=ve.get(o[a],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var Ee=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,we=["Top","Right","Bottom","Left"],Se=function(e,t){return e=t||e,"none"===J.css(e,"display")||!J.contains(e.ownerDocument,e)},xe=/^(?:checkbox|radio)$/i;!function(){var e=Z.createDocumentFragment(),t=e.appendChild(Z.createElement("div")),n=Z.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),X.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",X.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var Ce="undefined";X.focusinBubbles="onfocusin"in e;var Te=/^key/,De=/^(?:mouse|pointer|contextmenu)|click/,ke=/^(?:focusinfocus|focusoutblur)$/,Ne=/^([^.]*)(?:\.(.+)|)$/;J.event={global:{},add:function(e,t,n,r,i){var o,a,s,l,u,c,d,f,h,p,g,m=ve.get(e);if(m)for(n.handler&&(o=n,n=o.handler,i=o.selector),n.guid||(n.guid=J.guid++),(l=m.events)||(l=m.events={}),(a=m.handle)||(a=m.handle=function(t){return typeof J!==Ce&&J.event.triggered!==t.type?J.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(he)||[""],u=t.length;u--;)s=Ne.exec(t[u])||[],h=g=s[1],p=(s[2]||"").split(".").sort(),h&&(d=J.event.special[h]||{},h=(i?d.delegateType:d.bindType)||h,d=J.event.special[h]||{},c=J.extend({type:h,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&J.expr.match.needsContext.test(i),namespace:p.join(".")},o),(f=l[h])||(f=l[h]=[],f.delegateCount=0,d.setup&&d.setup.call(e,r,p,a)!==!1||e.addEventListener&&e.addEventListener(h,a,!1)),d.add&&(d.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?f.splice(f.delegateCount++,0,c):f.push(c),J.event.global[h]=!0)},remove:function(e,t,n,r,i){var o,a,s,l,u,c,d,f,h,p,g,m=ve.hasData(e)&&ve.get(e);if(m&&(l=m.events)){for(t=(t||"").match(he)||[""],u=t.length;u--;)if(s=Ne.exec(t[u])||[],h=g=s[1],p=(s[2]||"").split(".").sort(),h){for(d=J.event.special[h]||{},h=(r?d.delegateType:d.bindType)||h,f=l[h]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=f.length;o--;)c=f[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(f.splice(o,1),c.selector&&f.delegateCount--,d.remove&&d.remove.call(e,c));a&&!f.length&&(d.teardown&&d.teardown.call(e,p,m.handle)!==!1||J.removeEvent(e,h,m.handle),delete l[h])}else for(h in l)J.event.remove(e,h+t[u],n,r,!0);J.isEmptyObject(l)&&(delete m.handle,ve.remove(e,"events"))}},trigger:function(t,n,r,i){var o,a,s,l,u,c,d,f=[r||Z],h=K.call(t,"type")?t.type:t,p=K.call(t,"namespace")?t.namespace.split("."):[];if(a=s=r=r||Z,3!==r.nodeType&&8!==r.nodeType&&!ke.test(h+J.event.triggered)&&(h.indexOf(".")>=0&&(p=h.split("."),h=p.shift(),p.sort()),u=h.indexOf(":")<0&&"on"+h,t=t[J.expando]?t:new J.Event(h,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=p.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:J.makeArray(n,[t]),d=J.event.special[h]||{},i||!d.trigger||d.trigger.apply(r,n)!==!1)){if(!i&&!d.noBubble&&!J.isWindow(r)){for(l=d.delegateType||h,ke.test(l+h)||(a=a.parentNode);a;a=a.parentNode)f.push(a),s=a;s===(r.ownerDocument||Z)&&f.push(s.defaultView||s.parentWindow||e)}for(o=0;(a=f[o++])&&!t.isPropagationStopped();)t.type=o>1?l:d.bindType||h,c=(ve.get(a,"events")||{})[t.type]&&ve.get(a,"handle"),c&&c.apply(a,n),c=u&&a[u],c&&c.apply&&J.acceptData(a)&&(t.result=c.apply(a,n),t.result===!1&&t.preventDefault());return t.type=h,i||t.isDefaultPrevented()||d._default&&d._default.apply(f.pop(),n)!==!1||!J.acceptData(r)||u&&J.isFunction(r[h])&&!J.isWindow(r)&&(s=r[u],s&&(r[u]=null),J.event.triggered=h,r[h](),J.event.triggered=void 0,s&&(r[u]=s)),t.result}},dispatch:function(e){e=J.event.fix(e);var t,n,r,i,o,a=[],s=z.call(arguments),l=(ve.get(this,"events")||{})[e.type]||[],u=J.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,e)!==!1){for(a=J.event.handlers.call(this,e,l),t=0;(i=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(o.namespace))&&(e.handleObj=o,e.data=o.data,r=((J.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s),void 0!==r&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,a=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!==this;l=l.parentNode||this)if(l.disabled!==!0||"click"!==e.type){for(r=[],n=0;s>n;n++)o=t[n],i=o.selector+" ",void 0===r[i]&&(r[i]=o.needsContext?J(i,this).index(l)>=0:J.find(i,this,null,[l]).length),r[i]&&r.push(o);r.length&&a.push({elem:l,handlers:r})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||Z,r=n.documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[J.expando])return e;var t,n,r,i=e.type,o=e,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=De.test(i)?this.mouseHooks:Te.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new J.Event(o),t=r.length;t--;)n=r[t],e[n]=o[n];return e.target||(e.target=Z),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==d()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===d()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&J.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return J.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=J.extend(new J.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?J.event.trigger(i,null,t):J.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},J.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},J.Event=function(e,t){return this instanceof J.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?u:c):this.type=e,t&&J.extend(this,t),this.timeStamp=e&&e.timeStamp||J.now(),void(this[J.expando]=!0)):new J.Event(e,t)},J.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=u,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=u,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=u,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},J.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){J.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==r&&!J.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),X.focusinBubbles||J.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){J.event.simulate(t,e.target,J.event.fix(e),!0)};J.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=ve.access(r,t);i||r.addEventListener(e,n,!0),ve.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=ve.access(r,t)-1;i?ve.access(r,t,i):(r.removeEventListener(e,n,!0),ve.remove(r,t))}}}),J.fn.extend({on:function(e,t,n,r,i){var o,a;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(a in e)this.on(a,t,n,e[a],i);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),r===!1)r=c;else if(!r)return this;return 1===i&&(o=r,r=function(e){return J().off(e),o.apply(this,arguments)},r.guid=o.guid||(o.guid=J.guid++)),this.each(function(){J.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,J(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=c),this.each(function(){J.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){J.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?J.event.trigger(e,t,n,!0):void 0}});var _e=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ae=/<([\w:]+)/,Me=/<|&#?\w+;/,Oe=/<(?:script|style|link)/i,Fe=/checked\s*(?:[^=]|=\s*.checked.)/i,Re=/^$|\/(?:java|ecma)script/i,Ie=/^true\/(.*)/,Le=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Pe={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Pe.optgroup=Pe.option,Pe.tbody=Pe.tfoot=Pe.colgroup=Pe.caption=Pe.thead,Pe.th=Pe.td,J.extend({clone:function(e,t,n){var r,i,o,a,s=e.cloneNode(!0),l=J.contains(e.ownerDocument,e);if(!(X.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||J.isXMLDoc(e)))for(a=v(s),o=v(e),r=0,i=o.length;i>r;r++)y(o[r],a[r]);if(t)if(n)for(o=o||v(e),a=a||v(s),r=0,i=o.length;i>r;r++)m(o[r],a[r]);else m(e,s);return a=v(s,"script"),a.length>0&&g(a,!l&&v(e,"script")),s},buildFragment:function(e,t,n,r){for(var i,o,a,s,l,u,c=t.createDocumentFragment(),d=[],f=0,h=e.length;h>f;f++)if(i=e[f],i||0===i)if("object"===J.type(i))J.merge(d,i.nodeType?[i]:i);else if(Me.test(i)){for(o=o||c.appendChild(t.createElement("div")),a=(Ae.exec(i)||["",""])[1].toLowerCase(),s=Pe[a]||Pe._default,o.innerHTML=s[1]+i.replace(_e,"<$1></$2>")+s[2],u=s[0];u--;)o=o.lastChild;J.merge(d,o.childNodes),o=c.firstChild,o.textContent=""}else d.push(t.createTextNode(i));for(c.textContent="",f=0;i=d[f++];)if((!r||-1===J.inArray(i,r))&&(l=J.contains(i.ownerDocument,i),o=v(c.appendChild(i),"script"),l&&g(o),n))for(u=0;i=o[u++];)Re.test(i.type||"")&&n.push(i);return c},cleanData:function(e){for(var t,n,r,i,o=J.event.special,a=0;void 0!==(n=e[a]);a++){if(J.acceptData(n)&&(i=n[ve.expando],i&&(t=ve.cache[i]))){if(t.events)for(r in t.events)o[r]?J.event.remove(n,r):J.removeEvent(n,r,t.handle);ve.cache[i]&&delete ve.cache[i]}delete ye.cache[n[ye.expando]]}}}),J.fn.extend({text:function(e){return me(this,function(e){return void 0===e?J.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=f(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=f(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?J.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||J.cleanData(v(n)),n.parentNode&&(t&&J.contains(n.ownerDocument,n)&&g(v(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(J.cleanData(v(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return J.clone(this,e,t)})},html:function(e){return me(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Oe.test(e)&&!Pe[(Ae.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(_e,"<$1></$2>");try{for(;r>n;n++)t=this[n]||{},1===t.nodeType&&(J.cleanData(v(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,J.cleanData(v(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=V.apply([],e);var n,r,i,o,a,s,l=0,u=this.length,c=this,d=u-1,f=e[0],g=J.isFunction(f);if(g||u>1&&"string"==typeof f&&!X.checkClone&&Fe.test(f))return this.each(function(n){var r=c.eq(n);g&&(e[0]=f.call(this,n,r.html())),r.domManip(e,t)});if(u&&(n=J.buildFragment(e,this[0].ownerDocument,!1,this),r=n.firstChild,1===n.childNodes.length&&(n=r),r)){for(i=J.map(v(n,"script"),h),o=i.length;u>l;l++)a=n,l!==d&&(a=J.clone(a,!0,!0),o&&J.merge(i,v(a,"script"))),t.call(this[l],a,l);if(o)for(s=i[i.length-1].ownerDocument,J.map(i,p),l=0;o>l;l++)a=i[l],Re.test(a.type||"")&&!ve.access(a,"globalEval")&&J.contains(s,a)&&(a.src?J._evalUrl&&J._evalUrl(a.src):J.globalEval(a.textContent.replace(Le,"")))}return this}}),J.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){J.fn[e]=function(e){for(var n,r=[],i=J(e),o=i.length-1,a=0;o>=a;a++)n=a===o?this:this.clone(!0),J(i[a])[t](n),W.apply(r,n.get());return this.pushStack(r)}});var He,Be={},Ue=/^margin/,je=new RegExp("^("+Ee+")(?!px)[a-z%]+$","i"),ze=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)};!function(){function t(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",a.innerHTML="",i.appendChild(o);var t=e.getComputedStyle(a,null);n="1%"!==t.top,r="4px"===t.width,i.removeChild(o)}var n,r,i=Z.documentElement,o=Z.createElement("div"),a=Z.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",X.clearCloneStyle="content-box"===a.style.backgroundClip,o.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",o.appendChild(a),e.getComputedStyle&&J.extend(X,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return null==r&&t(),r},reliableMarginRight:function(){var t,n=a.appendChild(Z.createElement("div"));return n.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",a.style.width="1px",i.appendChild(o),t=!parseFloat(e.getComputedStyle(n,null).marginRight),i.removeChild(o),a.removeChild(n),t}}))}(),J.swap=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i};var Ve=/^(none|table(?!-c[ea]).+)/,We=new RegExp("^("+Ee+")(.*)$","i"),qe=new RegExp("^([+-])=("+Ee+")","i"),Ye={position:"absolute",visibility:"hidden",display:"block"},Ge={letterSpacing:"0",fontWeight:"400"},Ke=["Webkit","O","Moz","ms"];J.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=E(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=J.camelCase(t),l=e.style;return t=J.cssProps[s]||(J.cssProps[s]=S(l,s)),a=J.cssHooks[t]||J.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t]:(o=typeof n,"string"===o&&(i=qe.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(J.css(e,t)),o="number"),void(null!=n&&n===n&&("number"!==o||J.cssNumber[s]||(n+="px"),X.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(l[t]=n))))}},css:function(e,t,n,r){var i,o,a,s=J.camelCase(t);return t=J.cssProps[s]||(J.cssProps[s]=S(e.style,s)),a=J.cssHooks[t]||J.cssHooks[s],a&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=E(e,t,r)),"normal"===i&&t in Ge&&(i=Ge[t]),""===n||n?(o=parseFloat(i),n===!0||J.isNumeric(o)?o||0:i):i}}),J.each(["height","width"],function(e,t){J.cssHooks[t]={get:function(e,n,r){return n?Ve.test(J.css(e,"display"))&&0===e.offsetWidth?J.swap(e,Ye,function(){return T(e,t,r)}):T(e,t,r):void 0},set:function(e,n,r){var i=r&&ze(e);return x(e,n,r?C(e,t,r,"border-box"===J.css(e,"boxSizing",!1,i),i):0)}}}),J.cssHooks.marginRight=w(X.reliableMarginRight,function(e,t){return t?J.swap(e,{display:"inline-block"},E,[e,"marginRight"]):void 0}),J.each({margin:"",padding:"",border:"Width"},function(e,t){J.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+we[r]+t]=o[r]||o[r-2]||o[0];return i}},Ue.test(e)||(J.cssHooks[e+t].set=x)}),J.fn.extend({css:function(e,t){return me(this,function(e,t,n){var r,i,o={},a=0;if(J.isArray(t)){for(r=ze(e),i=t.length;i>a;a++)o[t[a]]=J.css(e,t[a],!1,r);return o}return void 0!==n?J.style(e,t,n):J.css(e,t)},e,t,arguments.length>1)},show:function(){return D(this,!0)},hide:function(){return D(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Se(this)?J(this).show():J(this).hide()})}}),J.Tween=k,k.prototype={constructor:k,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(J.cssNumber[n]?"":"px")},cur:function(){var e=k.propHooks[this.prop];return e&&e.get?e.get(this):k.propHooks._default.get(this)},run:function(e){var t,n=k.propHooks[this.prop];return this.options.duration?this.pos=t=J.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):k.propHooks._default.set(this),this}},k.prototype.init.prototype=k.prototype,k.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=J.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){J.fx.step[e.prop]?J.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[J.cssProps[e.prop]]||J.cssHooks[e.prop])?J.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},k.propHooks.scrollTop=k.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},J.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},J.fx=k.prototype.init,J.fx.step={};var Xe,Ze,Qe=/^(?:toggle|show|hide)$/,Je=new RegExp("^(?:([+-])=|)("+Ee+")([a-z%]*)$","i"),et=/queueHooks$/,tt=[M],nt={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=Je.exec(t),o=i&&i[3]||(J.cssNumber[e]?"":"px"),a=(J.cssNumber[e]||"px"!==o&&+r)&&Je.exec(J.css(n.elem,e)),s=1,l=20;if(a&&a[3]!==o){o=o||a[3],i=i||[],a=+r||1;do s=s||".5",a/=s,J.style(n.elem,e,a+o);while(s!==(s=n.cur()/r)&&1!==s&&--l)}return i&&(a=n.start=+a||+r||0,n.unit=o,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};J.Animation=J.extend(F,{tweener:function(e,t){J.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;i>r;r++)n=e[r],nt[n]=nt[n]||[],nt[n].unshift(t)},prefilter:function(e,t){t?tt.unshift(e):tt.push(e)}}),J.speed=function(e,t,n){var r=e&&"object"==typeof e?J.extend({},e):{complete:n||!n&&t||J.isFunction(e)&&e,duration:e,easing:n&&t||t&&!J.isFunction(t)&&t};return r.duration=J.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in J.fx.speeds?J.fx.speeds[r.duration]:J.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){J.isFunction(r.old)&&r.old.call(this),r.queue&&J.dequeue(this,r.queue)},r},J.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Se).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=J.isEmptyObject(e),o=J.speed(t,n,r),a=function(){var t=F(this,J.extend({},e),o);(i||ve.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=J.timers,a=ve.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&et.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));(t||!n)&&J.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=ve.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=J.timers,a=r?r.length:0;for(n.finish=!0,J.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),
t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),J.each(["toggle","show","hide"],function(e,t){var n=J.fn[t];J.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(_(t,!0),e,r,i)}}),J.each({slideDown:_("show"),slideUp:_("hide"),slideToggle:_("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){J.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),J.timers=[],J.fx.tick=function(){var e,t=0,n=J.timers;for(Xe=J.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||J.fx.stop(),Xe=void 0},J.fx.timer=function(e){J.timers.push(e),e()?J.fx.start():J.timers.pop()},J.fx.interval=13,J.fx.start=function(){Ze||(Ze=setInterval(J.fx.tick,J.fx.interval))},J.fx.stop=function(){clearInterval(Ze),Ze=null},J.fx.speeds={slow:600,fast:200,_default:400},J.fn.delay=function(e,t){return e=J.fx?J.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e=Z.createElement("input"),t=Z.createElement("select"),n=t.appendChild(Z.createElement("option"));e.type="checkbox",X.checkOn=""!==e.value,X.optSelected=n.selected,t.disabled=!0,X.optDisabled=!n.disabled,e=Z.createElement("input"),e.value="t",e.type="radio",X.radioValue="t"===e.value}();var rt,it,ot=J.expr.attrHandle;J.fn.extend({attr:function(e,t){return me(this,J.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){J.removeAttr(this,e)})}}),J.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===Ce?J.prop(e,t,n):(1===o&&J.isXMLDoc(e)||(t=t.toLowerCase(),r=J.attrHooks[t]||(J.expr.match.bool.test(t)?it:rt)),void 0===n?r&&"get"in r&&null!==(i=r.get(e,t))?i:(i=J.find.attr(e,t),null==i?void 0:i):null!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):void J.removeAttr(e,t))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(he);if(o&&1===e.nodeType)for(;n=o[i++];)r=J.propFix[n]||n,J.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!X.radioValue&&"radio"===t&&J.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),it={set:function(e,t,n){return t===!1?J.removeAttr(e,n):e.setAttribute(n,n),n}},J.each(J.expr.match.bool.source.match(/\w+/g),function(e,t){var n=ot[t]||J.find.attr;ot[t]=function(e,t,r){var i,o;return r||(o=ot[t],ot[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,ot[t]=o),i}});var at=/^(?:input|select|textarea|button)$/i;J.fn.extend({prop:function(e,t){return me(this,J.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[J.propFix[e]||e]})}}),J.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var r,i,o,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return o=1!==a||!J.isXMLDoc(e),o&&(t=J.propFix[t]||t,i=J.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||at.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),X.optSelected||(J.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),J.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){J.propFix[this.toLowerCase()]=this});var st=/[\t\r\n\f]/g;J.fn.extend({addClass:function(e){var t,n,r,i,o,a,s="string"==typeof e&&e,l=0,u=this.length;if(J.isFunction(e))return this.each(function(t){J(this).addClass(e.call(this,t,this.className))});if(s)for(t=(e||"").match(he)||[];u>l;l++)if(n=this[l],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(st," "):" ")){for(o=0;i=t[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");a=J.trim(r),n.className!==a&&(n.className=a)}return this},removeClass:function(e){var t,n,r,i,o,a,s=0===arguments.length||"string"==typeof e&&e,l=0,u=this.length;if(J.isFunction(e))return this.each(function(t){J(this).removeClass(e.call(this,t,this.className))});if(s)for(t=(e||"").match(he)||[];u>l;l++)if(n=this[l],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(st," "):"")){for(o=0;i=t[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");a=e?J.trim(r):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(J.isFunction(e)?function(n){J(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,r=0,i=J(this),o=e.match(he)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else(n===Ce||"boolean"===n)&&(this.className&&ve.set(this,"__className__",this.className),this.className=this.className||e===!1?"":ve.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(st," ").indexOf(t)>=0)return!0;return!1}});var lt=/\r/g;J.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=J.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,J(this).val()):e,null==i?i="":"number"==typeof i?i+="":J.isArray(i)&&(i=J.map(i,function(e){return null==e?"":e+""})),t=J.valHooks[this.type]||J.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))})):i?(t=J.valHooks[i.type]||J.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(lt,""):null==n?"":n)):void 0}}),J.extend({valHooks:{option:{get:function(e){var t=J.find.attr(e,"value");return null!=t?t:J.trim(J.text(e))}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,a=o?null:[],s=o?i+1:r.length,l=0>i?s:o?i:0;s>l;l++)if(n=r[l],!(!n.selected&&l!==i||(X.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&J.nodeName(n.parentNode,"optgroup"))){if(t=J(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=J.makeArray(t),a=i.length;a--;)r=i[a],(r.selected=J.inArray(r.value,o)>=0)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),J.each(["radio","checkbox"],function(){J.valHooks[this]={set:function(e,t){return J.isArray(t)?e.checked=J.inArray(J(e).val(),t)>=0:void 0}},X.checkOn||(J.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),J.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){J.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),J.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var ut=J.now(),ct=/\?/;J.parseJSON=function(e){return JSON.parse(e+"")},J.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{n=new DOMParser,t=n.parseFromString(e,"text/xml")}catch(r){t=void 0}return(!t||t.getElementsByTagName("parsererror").length)&&J.error("Invalid XML: "+e),t};var dt=/#.*$/,ft=/([?&])_=[^&]*/,ht=/^(.*?):[ \t]*([^\r\n]*)$/gm,pt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,gt=/^(?:GET|HEAD)$/,mt=/^\/\//,vt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,yt={},bt={},$t="*/".concat("*"),Et=e.location.href,wt=vt.exec(Et.toLowerCase())||[];J.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Et,type:"GET",isLocal:pt.test(wt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":$t,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":J.parseJSON,"text xml":J.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?L(L(e,J.ajaxSettings),t):L(J.ajaxSettings,e)},ajaxPrefilter:R(yt),ajaxTransport:R(bt),ajax:function(e,t){function n(e,t,n,a){var l,c,v,y,$,w=t;2!==b&&(b=2,s&&clearTimeout(s),r=void 0,o=a||"",E.readyState=e>0?4:0,l=e>=200&&300>e||304===e,n&&(y=P(d,E,n)),y=H(d,y,E,l),l?(d.ifModified&&($=E.getResponseHeader("Last-Modified"),$&&(J.lastModified[i]=$),$=E.getResponseHeader("etag"),$&&(J.etag[i]=$)),204===e||"HEAD"===d.type?w="nocontent":304===e?w="notmodified":(w=y.state,c=y.data,v=y.error,l=!v)):(v=w,(e||!w)&&(w="error",0>e&&(e=0))),E.status=e,E.statusText=(t||w)+"",l?p.resolveWith(f,[c,w,E]):p.rejectWith(f,[E,w,v]),E.statusCode(m),m=void 0,u&&h.trigger(l?"ajaxSuccess":"ajaxError",[E,d,l?c:v]),g.fireWith(f,[E,w]),u&&(h.trigger("ajaxComplete",[E,d]),--J.active||J.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,i,o,a,s,l,u,c,d=J.ajaxSetup({},t),f=d.context||d,h=d.context&&(f.nodeType||f.jquery)?J(f):J.event,p=J.Deferred(),g=J.Callbacks("once memory"),m=d.statusCode||{},v={},y={},b=0,$="canceled",E={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!a)for(a={};t=ht.exec(o);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?o:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,v[e]=t),this},overrideMimeType:function(e){return b||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)m[t]=[m[t],e[t]];else E.always(e[E.status]);return this},abort:function(e){var t=e||$;return r&&r.abort(t),n(0,t),this}};if(p.promise(E).complete=g.add,E.success=E.done,E.error=E.fail,d.url=((e||d.url||Et)+"").replace(dt,"").replace(mt,wt[1]+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=J.trim(d.dataType||"*").toLowerCase().match(he)||[""],null==d.crossDomain&&(l=vt.exec(d.url.toLowerCase()),d.crossDomain=!(!l||l[1]===wt[1]&&l[2]===wt[2]&&(l[3]||("http:"===l[1]?"80":"443"))===(wt[3]||("http:"===wt[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=J.param(d.data,d.traditional)),I(yt,d,t,E),2===b)return E;u=J.event&&d.global,u&&0===J.active++&&J.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!gt.test(d.type),i=d.url,d.hasContent||(d.data&&(i=d.url+=(ct.test(i)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=ft.test(i)?i.replace(ft,"$1_="+ut++):i+(ct.test(i)?"&":"?")+"_="+ut++)),d.ifModified&&(J.lastModified[i]&&E.setRequestHeader("If-Modified-Since",J.lastModified[i]),J.etag[i]&&E.setRequestHeader("If-None-Match",J.etag[i])),(d.data&&d.hasContent&&d.contentType!==!1||t.contentType)&&E.setRequestHeader("Content-Type",d.contentType),E.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+$t+"; q=0.01":""):d.accepts["*"]);for(c in d.headers)E.setRequestHeader(c,d.headers[c]);if(d.beforeSend&&(d.beforeSend.call(f,E,d)===!1||2===b))return E.abort();$="abort";for(c in{success:1,error:1,complete:1})E[c](d[c]);if(r=I(bt,d,t,E)){E.readyState=1,u&&h.trigger("ajaxSend",[E,d]),d.async&&d.timeout>0&&(s=setTimeout(function(){E.abort("timeout")},d.timeout));try{b=1,r.send(v,n)}catch(w){if(!(2>b))throw w;n(-1,w)}}else n(-1,"No Transport");return E},getJSON:function(e,t,n){return J.get(e,t,n,"json")},getScript:function(e,t){return J.get(e,void 0,t,"script")}}),J.each(["get","post"],function(e,t){J[t]=function(e,n,r,i){return J.isFunction(n)&&(i=i||r,r=n,n=void 0),J.ajax({url:e,type:t,dataType:i,data:n,success:r})}}),J._evalUrl=function(e){return J.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},J.fn.extend({wrapAll:function(e){var t;return J.isFunction(e)?this.each(function(t){J(this).wrapAll(e.call(this,t))}):(this[0]&&(t=J(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return this.each(J.isFunction(e)?function(t){J(this).wrapInner(e.call(this,t))}:function(){var t=J(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=J.isFunction(e);return this.each(function(n){J(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){J.nodeName(this,"body")||J(this).replaceWith(this.childNodes)}).end()}}),J.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},J.expr.filters.visible=function(e){return!J.expr.filters.hidden(e)};var St=/%20/g,xt=/\[\]$/,Ct=/\r?\n/g,Tt=/^(?:submit|button|image|reset|file)$/i,Dt=/^(?:input|select|textarea|keygen)/i;J.param=function(e,t){var n,r=[],i=function(e,t){t=J.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=J.ajaxSettings&&J.ajaxSettings.traditional),J.isArray(e)||e.jquery&&!J.isPlainObject(e))J.each(e,function(){i(this.name,this.value)});else for(n in e)B(n,e[n],t,i);return r.join("&").replace(St,"+")},J.fn.extend({serialize:function(){return J.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=J.prop(this,"elements");return e?J.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!J(this).is(":disabled")&&Dt.test(this.nodeName)&&!Tt.test(e)&&(this.checked||!xe.test(e))}).map(function(e,t){var n=J(this).val();return null==n?null:J.isArray(n)?J.map(n,function(e){return{name:t.name,value:e.replace(Ct,"\r\n")}}):{name:t.name,value:n.replace(Ct,"\r\n")}}).get()}}),J.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var kt=0,Nt={},_t={0:200,1223:204},At=J.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in Nt)Nt[e]()}),X.cors=!!At&&"withCredentials"in At,X.ajax=At=!!At,J.ajaxTransport(function(e){var t;return X.cors||At&&!e.crossDomain?{send:function(n,r){var i,o=e.xhr(),a=++kt;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)o[i]=e.xhrFields[i];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)o.setRequestHeader(i,n[i]);t=function(e){return function(){t&&(delete Nt[a],t=o.onload=o.onerror=null,"abort"===e?o.abort():"error"===e?r(o.status,o.statusText):r(_t[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:void 0,o.getAllResponseHeaders()))}},o.onload=t(),o.onerror=t("error"),t=Nt[a]=t("abort");try{o.send(e.hasContent&&e.data||null)}catch(s){if(t)throw s}},abort:function(){t&&t()}}:void 0}),J.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return J.globalEval(e),e}}}),J.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),J.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,i){t=J("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),Z.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Mt=[],Ot=/(=)\?(?=&|$)|\?\?/;J.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Mt.pop()||J.expando+"_"+ut++;return this[e]=!0,e}}),J.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=t.jsonp!==!1&&(Ot.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ot.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=J.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Ot,"$1"+i):t.jsonp!==!1&&(t.url+=(ct.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||J.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,Mt.push(i)),a&&J.isFunction(o)&&o(a[0]),a=o=void 0}),"script"):void 0}),J.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||Z;var r=ae.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=J.buildFragment([e],t,i),i&&i.length&&J(i).remove(),J.merge([],r.childNodes))};var Ft=J.fn.load;J.fn.load=function(e,t,n){if("string"!=typeof e&&Ft)return Ft.apply(this,arguments);var r,i,o,a=this,s=e.indexOf(" ");return s>=0&&(r=J.trim(e.slice(s)),e=e.slice(0,s)),J.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&J.ajax({url:e,type:i,dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?J("<div>").append(J.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){a.each(n,o||[e.responseText,t,e])}),this},J.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){J.fn[t]=function(e){return this.on(t,e)}}),J.expr.filters.animated=function(e){return J.grep(J.timers,function(t){return e===t.elem}).length};var Rt=e.document.documentElement;J.offset={setOffset:function(e,t,n){var r,i,o,a,s,l,u,c=J.css(e,"position"),d=J(e),f={};"static"===c&&(e.style.position="relative"),s=d.offset(),o=J.css(e,"top"),l=J.css(e,"left"),u=("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1,u?(r=d.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(l)||0),J.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):d.css(f)}},J.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){J.offset.setOffset(this,e,t)});var t,n,r=this[0],i={top:0,left:0},o=r&&r.ownerDocument;return o?(t=o.documentElement,J.contains(t,r)?(typeof r.getBoundingClientRect!==Ce&&(i=r.getBoundingClientRect()),n=U(o),{top:i.top+n.pageYOffset-t.clientTop,left:i.left+n.pageXOffset-t.clientLeft}):i):void 0},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===J.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),J.nodeName(e[0],"html")||(r=e.offset()),r.top+=J.css(e[0],"borderTopWidth",!0),r.left+=J.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-J.css(n,"marginTop",!0),left:t.left-r.left-J.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Rt;e&&!J.nodeName(e,"html")&&"static"===J.css(e,"position");)e=e.offsetParent;return e||Rt})}}),J.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var r="pageYOffset"===n;J.fn[t]=function(i){return me(this,function(t,i,o){var a=U(t);return void 0===o?a?a[n]:t[i]:void(a?a.scrollTo(r?e.pageXOffset:o,r?o:e.pageYOffset):t[i]=o)},t,i,arguments.length,null)}}),J.each(["top","left"],function(e,t){J.cssHooks[t]=w(X.pixelPosition,function(e,n){return n?(n=E(e,t),je.test(n)?J(e).position()[t]+"px":n):void 0})}),J.each({Height:"height",Width:"width"},function(e,t){J.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){J.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(r===!0||i===!0?"margin":"border");return me(this,function(t,n,r){var i;return J.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?J.css(t,n,a):J.style(t,n,r,a)},t,o?r:void 0,o,null)}})}),J.fn.size=function(){return this.length},J.fn.andSelf=J.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return J});var It=e.jQuery,Lt=e.$;return J.noConflict=function(t){return e.$===J&&(e.$=Lt),t&&e.jQuery===J&&(e.jQuery=It),J},typeof t===Ce&&(e.jQuery=e.$=J),J}),function(e){"use strict";function t(e){return function(){var t,n=arguments[0];for(t="["+(e?e+":":"")+n+"] http://errors.angularjs.org/1.5.8/"+(e?e+"/":"")+n,n=1;n<arguments.length;n++){t=t+(1==n?"?":"&")+"p"+(n-1)+"=";var r,i=encodeURIComponent;r=arguments[n],r="function"==typeof r?r.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof r?"undefined":"string"!=typeof r?JSON.stringify(r):r,t+=i(r)}return Error(t)}}function n(e){if(null==e||C(e))return!1;if(ar(e)||$(e)||Wn&&e instanceof Wn)return!0;var t="length"in Object(e)&&e.length;return E(t)&&(0<=t&&(t-1 in e||e instanceof Array)||"function"==typeof e.item)}function r(e,t,i){var o,a;if(e)if(S(e))for(o in e)"prototype"==o||"length"==o||"name"==o||e.hasOwnProperty&&!e.hasOwnProperty(o)||t.call(i,e[o],o,e);else if(ar(e)||n(e)){var s="object"!=typeof e;for(o=0,a=e.length;o<a;o++)(s||o in e)&&t.call(i,e[o],o,e)}else if(e.forEach&&e.forEach!==r)e.forEach(t,i,e);else if(b(e))for(o in e)t.call(i,e[o],o,e);else if("function"==typeof e.hasOwnProperty)for(o in e)e.hasOwnProperty(o)&&t.call(i,e[o],o,e);else for(o in e)Kn.call(e,o)&&t.call(i,e[o],o,e);return e}function i(e,t,n){for(var r=Object.keys(e).sort(),i=0;i<r.length;i++)t.call(n,e[r[i]],r[i]);return r}function o(e){return function(t,n){e(n,t)}}function a(){return++or}function s(e,t,n){for(var r=e.$$hashKey,i=0,o=t.length;i<o;++i){var a=t[i];if(y(a)||S(a))for(var l=Object.keys(a),u=0,c=l.length;u<c;u++){var d=l[u],f=a[d];n&&y(f)?w(f)?e[d]=new Date(f.valueOf()):x(f)?e[d]=new RegExp(f):f.nodeName?e[d]=f.cloneNode(!0):N(f)?e[d]=f.clone():(y(e[d])||(e[d]=ar(f)?[]:{}),s(e[d],[f],!0)):e[d]=f}}return r?e.$$hashKey=r:delete e.$$hashKey,e}function l(e){return s(e,Qn.call(arguments,1),!1)}function u(e){return s(e,Qn.call(arguments,1),!0)}function c(e){return parseInt(e,10)}function d(e,t){return l(Object.create(e),t)}function f(){}function h(e){return e}function p(e){return function(){return e}}function g(e){return S(e.toString)&&e.toString!==tr}function m(e){return"undefined"==typeof e}function v(e){return"undefined"!=typeof e}function y(e){return null!==e&&"object"==typeof e}function b(e){return null!==e&&"object"==typeof e&&!nr(e)}function $(e){return"string"==typeof e}function E(e){return"number"==typeof e}function w(e){return"[object Date]"===tr.call(e)}function S(e){return"function"==typeof e}function x(e){return"[object RegExp]"===tr.call(e)}function C(e){return e&&e.window===e}function T(e){return e&&e.$evalAsync&&e.$watch}function D(e){return"boolean"==typeof e}function k(e){return e&&E(e.length)&&sr.test(tr.call(e))}function N(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function _(e){var t={};e=e.split(",");var n;for(n=0;n<e.length;n++)t[e[n]]=!0;return t}function A(e){return Xn(e.nodeName||e[0]&&e[0].nodeName)}function M(e,t){var n=e.indexOf(t);return 0<=n&&e.splice(n,1),n}function O(e,t){function n(e,t){var n,r=t.$$hashKey;if(ar(e)){n=0;for(var o=e.length;n<o;n++)t.push(i(e[n]))}else if(b(e))for(n in e)t[n]=i(e[n]);else if(e&&"function"==typeof e.hasOwnProperty)for(n in e)e.hasOwnProperty(n)&&(t[n]=i(e[n]));else for(n in e)Kn.call(e,n)&&(t[n]=i(e[n]));return r?t.$$hashKey=r:delete t.$$hashKey,t}function i(e){if(!y(e))return e;var t=a.indexOf(e);if(-1!==t)return s[t];if(C(e)||T(e))throw rr("cpws");var t=!1,r=o(e);return void 0===r&&(r=ar(e)?[]:Object.create(nr(e)),t=!0),a.push(e),s.push(r),t?n(e,r):r}function o(e){switch(tr.call(e)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new e.constructor(i(e.buffer),e.byteOffset,e.length);case"[object ArrayBuffer]":if(!e.slice){var t=new ArrayBuffer(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t}return e.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new e.constructor(e.valueOf());case"[object RegExp]":return t=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0]),t.lastIndex=e.lastIndex,t;case"[object Blob]":return new e.constructor([e],{type:e.type})}if(S(e.cloneNode))return e.cloneNode(!0)}var a=[],s=[];if(t){if(k(t)||"[object ArrayBuffer]"===tr.call(t))throw rr("cpta");if(e===t)throw rr("cpi");return ar(t)?t.length=0:r(t,function(e,n){"$$hashKey"!==n&&delete t[n]}),a.push(e),s.push(t),n(e,t)}return i(e)}function F(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var n,r=typeof e;if(r==typeof t&&"object"==r){if(!ar(e)){if(w(e))return!!w(t)&&F(e.getTime(),t.getTime());if(x(e))return!!x(t)&&e.toString()==t.toString();if(T(e)||T(t)||C(e)||C(t)||ar(t)||w(t)||x(t))return!1;r=ae();for(n in e)if("$"!==n.charAt(0)&&!S(e[n])){if(!F(e[n],t[n]))return!1;r[n]=!0}for(n in t)if(!(n in r)&&"$"!==n.charAt(0)&&v(t[n])&&!S(t[n]))return!1;return!0}if(!ar(t))return!1;if((r=e.length)==t.length){for(n=0;n<r;n++)if(!F(e[n],t[n]))return!1;return!0}}return!1}function R(e,t,n){return e.concat(Qn.call(t,n))}function I(e,t){var n=2<arguments.length?Qn.call(arguments,2):[];return!S(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,R(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function L(t,n){var r=n;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?r=void 0:C(n)?r="$WINDOW":n&&e.document===n?r="$DOCUMENT":T(n)&&(r="$SCOPE"),r}function P(e,t){if(!m(e))return E(t)||(t=t?2:null),JSON.stringify(e,L,t)}function H(e){return $(e)?JSON.parse(e):e}function B(e,t){e=e.replace(fr,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function U(e,t,n){n=n?-1:1;var r=e.getTimezoneOffset();return t=B(t,r),n*=t-r,e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+n),e}function j(e){e=Wn(e).clone();try{e.empty()}catch(t){}var n=Wn("<div>").append(e).html();try{return e[0].nodeType===mr?Xn(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,t){return"<"+Xn(t)})}catch(r){return Xn(n)}}function z(e){try{return decodeURIComponent(e)}catch(t){}}function V(e){var t={};return r((e||"").split("&"),function(e){var n,r,i;e&&(r=e=e.replace(/\+/g,"%20"),n=e.indexOf("="),-1!==n&&(r=e.substring(0,n),i=e.substring(n+1)),r=z(r),v(r)&&(i=!v(i)||z(i),Kn.call(t,r)?ar(t[r])?t[r].push(i):t[r]=[t[r],i]:t[r]=i))}),t}function W(e){var t=[];return r(e,function(e,n){ar(e)?r(e,function(e){t.push(Y(n,!0)+(!0===e?"":"="+Y(e,!0)))}):t.push(Y(n,!0)+(!0===e?"":"="+Y(e,!0)))}),t.length?t.join("&"):""}function q(e){return Y(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function Y(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function G(e,t){var n,r,i=hr.length;for(r=0;r<i;++r)if(n=hr[r]+t,$(n=e.getAttribute(n)))return n;return null}function K(e,t){var n,i,o={};r(hr,function(t){t+="app",!n&&e.hasAttribute&&e.hasAttribute(t)&&(n=e,i=e.getAttribute(t))}),r(hr,function(t){t+="app";var r;!n&&(r=e.querySelector("["+t.replace(":","\\:")+"]"))&&(n=r,i=r.getAttribute(t))}),n&&(o.strictDi=null!==G(n,"strict-di"),t(n,i?[i]:[],o))}function X(t,n,i){y(i)||(i={}),i=l({strictDi:!1},i);var o=function(){if(t=Wn(t),t.injector()){var r=t[0]===e.document?"document":j(t);throw rr("btstrpd",r.replace(/</,"&lt;").replace(/>/,"&gt;"))}return n=n||[],n.unshift(["$provide",function(e){e.value("$rootElement",t)}]),i.debugInfoEnabled&&n.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),n.unshift("ng"),r=He(n,i.strictDi),r.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,r){e.$apply(function(){t.data("$injector",r),n(t)(e)})}]),r},a=/^NG_ENABLE_DEBUG_INFO!/,s=/^NG_DEFER_BOOTSTRAP!/;return e&&a.test(e.name)&&(i.debugInfoEnabled=!0,e.name=e.name.replace(a,"")),e&&!s.test(e.name)?o():(e.name=e.name.replace(s,""),ir.resumeBootstrap=function(e){return r(e,function(e){n.push(e)}),o()},void(S(ir.resumeDeferredBootstrap)&&ir.resumeDeferredBootstrap()))}function Z(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function Q(e){if(e=ir.element(e).injector(),!e)throw rr("test");return e.get("$$testability")}function J(e,t){return t=t||"_",e.replace(pr,function(e,n){return(n?t:"")+e.toLowerCase()})}function ee(){var t;if(!gr){var n=dr();(qn=m(n)?e.jQuery:n?e[n]:void 0)&&qn.fn.on?(Wn=qn,l(qn.fn,{scope:_r.scope,isolateScope:_r.isolateScope,controller:_r.controller,injector:_r.injector,inheritedData:_r.inheritedData}),t=qn.cleanData,qn.cleanData=function(e){for(var n,r,i=0;null!=(r=e[i]);i++)(n=qn._data(r,"events"))&&n.$destroy&&qn(r).triggerHandler("$destroy");t(e)}):Wn=pe,ir.element=Wn,gr=!0}}function te(e,t,n){if(!e)throw rr("areq",t||"?",n||"required");return e}function ne(e,t,n){return n&&ar(e)&&(e=e[e.length-1]),te(S(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function re(e,t){if("hasOwnProperty"===e)throw rr("badname",t)}function ie(e,t,n){if(!t)return e;t=t.split(".");for(var r,i=e,o=t.length,a=0;a<o;a++)r=t[a],e&&(e=(i=e)[r]);return!n&&S(e)?I(i,e):e}function oe(e){for(var t,n=e[0],r=e[e.length-1],i=1;n!==r&&(n=n.nextSibling);i++)(t||e[i]!==n)&&(t||(t=Wn(Qn.call(e,0,i))),t.push(n));return t||e}function ae(){return Object.create(null)}function se(e){function n(e,t,n){return e[t]||(e[t]=n())}var r=t("$injector"),i=t("ng");return e=n(e,"angular",Object),e.$$minErr=e.$$minErr||t,n(e,"module",function(){var e={};return function(t,o,a){if("hasOwnProperty"===t)throw i("badname","module");return o&&e.hasOwnProperty(t)&&(e[t]=null),n(e,t,function(){function e(e,t,n,r){return r||(r=i),function(){return r[n||"push"]([e,t,arguments]),c}}function n(e,n){return function(r,o){return o&&S(o)&&(o.$$moduleName=t),i.push([e,n,arguments]),c}}if(!o)throw r("nomod",t);var i=[],s=[],l=[],u=e("$injector","invoke","push",s),c={_invokeQueue:i,_configBlocks:s,_runBlocks:l,requires:o,name:t,provider:n("$provide","provider"),factory:n("$provide","factory"),service:n("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),decorator:n("$provide","decorator"),animation:n("$animateProvider","register"),filter:n("$filterProvider","register"),controller:n("$controllerProvider","register"),directive:n("$compileProvider","directive"),component:n("$compileProvider","component"),config:u,run:function(e){return l.push(e),this}};return a&&u(a),c})}})}function le(e,t){if(ar(e)){t=t||[];for(var n=0,r=e.length;n<r;n++)t[n]=e[n]}else if(y(e))for(n in t=t||{},e)"$"===n.charAt(0)&&"$"===n.charAt(1)||(t[n]=e[n]);return t||e}function ue(n){l(n,{bootstrap:X,copy:O,extend:l,merge:u,equals:F,element:Wn,forEach:r,injector:He,noop:f,bind:I,toJson:P,fromJson:H,identity:h,isUndefined:m,isDefined:v,isString:$,isFunction:S,isObject:y,isNumber:E,isElement:N,isArray:ar,version:vr,isDate:w,lowercase:Xn,uppercase:Zn,callbacks:{$$counter:0},getTestability:Q,$$minErr:t,$$csp:cr,reloadWithDebugInfo:Z}),(Yn=se(e))("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:Zt}),e.provider("$compile",Ge).directive({a:Ii,input:Ji,textarea:Ji,form:Bi,script:zo,select:qo,style:Go,option:Yo,ngBind:no,ngBindHtml:io,ngBindTemplate:ro,ngClass:ao,ngClassEven:lo,ngClassOdd:so,ngCloak:uo,ngController:co,ngForm:Ui,ngHide:Io,ngIf:po,ngInclude:go,ngInit:vo,ngNonBindable:No,ngPluralize:Oo,ngRepeat:Fo,ngShow:Ro,ngStyle:Lo,ngSwitch:Po,ngSwitchWhen:Ho,ngSwitchDefault:Bo,ngOptions:Mo,ngTransclude:jo,ngModel:To,ngList:yo,ngChange:oo,pattern:Xo,ngPattern:Xo,required:Ko,ngRequired:Ko,minlength:Qo,ngMinlength:Qo,maxlength:Zo,ngMaxlength:Zo,ngValue:to,ngModelOptions:ko}).directive({ngInclude:mo}).directive(Li).directive(fo),e.provider({$anchorScroll:Be,$animate:Vr,$animateCss:Yr,$$animateJs:jr,$$animateQueue:zr,$$AnimateRunner:qr,$$animateAsyncRun:Wr,
$browser:We,$cacheFactory:qe,$controller:et,$document:tt,$exceptionHandler:nt,$filter:fn,$$forceReflow:Jr,$interpolate:pt,$interval:gt,$http:ct,$httpParamSerializer:it,$httpParamSerializerJQLike:ot,$httpBackend:ft,$xhrFactory:dt,$jsonpCallbacks:li,$location:Dt,$log:kt,$parse:Wt,$rootScope:Xt,$q:qt,$$q:Yt,$sce:tn,$sceDelegate:en,$sniffer:nn,$templateCache:Ye,$templateRequest:rn,$$testability:on,$timeout:an,$window:un,$$rAF:Kt,$$jqLite:Fe,$$HashMap:Fr,$$cookieReader:dn})}])}function ce(e){return e.replace($r,function(e,t,n,r){return r?n.toUpperCase():n}).replace(Er,"Moz$1")}function de(e){return e=e.nodeType,1===e||!e||9===e}function fe(e,t){var n,i,o=t.createDocumentFragment(),a=[];if(Cr.test(e)){for(n=o.appendChild(t.createElement("div")),i=(Tr.exec(e)||["",""])[1].toLowerCase(),i=kr[i]||kr._default,n.innerHTML=i[1]+e.replace(Dr,"<$1></$2>")+i[2],i=i[0];i--;)n=n.lastChild;a=R(a,n.childNodes),n=o.firstChild,n.textContent=""}else a.push(t.createTextNode(e));return o.textContent="",o.innerHTML="",r(a,function(e){o.appendChild(e)}),o}function he(e,t){var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)}function pe(t){if(t instanceof pe)return t;var n;if($(t)&&(t=lr(t),n=!0),!(this instanceof pe)){if(n&&"<"!=t.charAt(0))throw Sr("nosel");return new pe(t)}if(n){n=e.document;var r;t=(r=xr.exec(t))?[n.createElement(r[1])]:(r=fe(t,n))?r.childNodes:[]}xe(this,t)}function ge(e){return e.cloneNode(!0)}function me(e,t){if(t||ye(e),e.querySelectorAll)for(var n=e.querySelectorAll("*"),r=0,i=n.length;r<i;r++)ye(n[r])}function ve(e,t,n,i){if(v(i))throw Sr("offargs");var o=(i=be(e))&&i.events,a=i&&i.handle;if(a)if(t){var s=function(t){var r=o[t];v(n)&&M(r||[],n),v(n)&&r&&0<r.length||(e.removeEventListener(t,a,!1),delete o[t])};r(t.split(" "),function(e){s(e),wr[e]&&s(wr[e])})}else for(t in o)"$destroy"!==t&&e.removeEventListener(t,a,!1),delete o[t]}function ye(e,t){var n=e.ng339,r=n&&yr[n];r&&(t?delete r.data[t]:(r.handle&&(r.events.$destroy&&r.handle({},"$destroy"),ve(e)),delete yr[n],e.ng339=void 0))}function be(e,t){var n=e.ng339,n=n&&yr[n];return t&&!n&&(e.ng339=n=++br,n=yr[n]={events:{},data:{},handle:void 0}),n}function $e(e,t,n){if(de(e)){var r=v(n),i=!r&&t&&!y(t),o=!t;if(e=(e=be(e,!i))&&e.data,r)e[t]=n;else{if(o)return e;if(i)return e&&e[t];l(e,t)}}}function Ee(e,t){return!!e.getAttribute&&-1<(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")}function we(e,t){t&&e.setAttribute&&r(t.split(" "),function(t){e.setAttribute("class",lr((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+lr(t)+" "," ")))})}function Se(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");r(t.split(" "),function(e){e=lr(e),-1===n.indexOf(" "+e+" ")&&(n+=e+" ")}),e.setAttribute("class",lr(n))}}function xe(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var r=0;r<n;r++)e[e.length++]=t[r]}else e[e.length++]=t}}function Ce(e,t){return Te(e,"$"+(t||"ngController")+"Controller")}function Te(e,t,n){for(9==e.nodeType&&(e=e.documentElement),t=ar(t)?t:[t];e;){for(var r=0,i=t.length;r<i;r++)if(v(n=Wn.data(e,t[r])))return n;e=e.parentNode||11===e.nodeType&&e.host}}function De(e){for(me(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function ke(e,t){t||me(e);var n=e.parentNode;n&&n.removeChild(e)}function Ne(t,n){n=n||e,"complete"===n.document.readyState?n.setTimeout(t):Wn(n).on("load",t)}function _e(e,t){var n=Ar[t.toLowerCase()];return n&&Mr[A(e)]&&n}function Ae(e,t){var n=function(n,r){n.isDefaultPrevented=function(){return n.defaultPrevented};var i=t[r||n.type],o=i?i.length:0;if(o){if(m(n.immediatePropagationStopped)){var a=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),a&&a.call(n)}}n.isImmediatePropagationStopped=function(){return!0===n.immediatePropagationStopped};var s=i.specialHandlerWrapper||Me;1<o&&(i=le(i));for(var l=0;l<o;l++)n.isImmediatePropagationStopped()||s(e,n,i[l])}};return n.elem=e,n}function Me(e,t,n){n.call(e,t)}function Oe(e,t,n){var r=t.relatedTarget;r&&(r===e||Nr.call(e,r))||n.call(e,t)}function Fe(){this.$get=function(){return l(pe,{hasClass:function(e,t){return e.attr&&(e=e[0]),Ee(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),Se(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),we(e,t)}})}}function Re(e,t){var n=e&&e.$$hashKey;return n?("function"==typeof n&&(n=e.$$hashKey()),n):(n=typeof e,n="function"==n||"object"==n&&null!==e?e.$$hashKey=n+":"+(t||a)():n+":"+e)}function Ie(e,t){if(t){var n=0;this.nextUid=function(){return++n}}r(e,this.put,this)}function Le(e){return e=(Function.prototype.toString.call(e)+" ").replace(Hr,""),e.match(Rr)||e.match(Ir)}function Pe(e){return(e=Le(e))?"function("+(e[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function He(e,t){function n(e){return function(t,n){return y(t)?void r(t,o(e)):e(t,n)}}function i(e,t){if(re(e,"service"),(S(t)||ar(t))&&(t=g.instantiate(t)),!t.$get)throw Br("pget",e);return h[e+"Provider"]=t}function a(e,t){return function(){var n=E.invoke(t,this);if(m(n))throw Br("undef",e);return n}}function s(e,t,n){return i(e,{$get:!1!==n?a(e,t):t})}function l(e){te(m(e)||ar(e),"modulesToLoad","not an array");var t,n=[];return r(e,function(e){function r(e){var t,n;for(t=0,n=e.length;t<n;t++){var r=e[t],i=g.get(r[0]);i[r[1]].apply(i,r[2])}}if(!f.get(e)){f.put(e,!0);try{$(e)?(t=Yn(e),n=n.concat(l(t.requires)).concat(t._runBlocks),r(t._invokeQueue),r(t._configBlocks)):S(e)?n.push(g.invoke(e)):ar(e)?n.push(g.invoke(e)):ne(e,"module")}catch(i){throw ar(e)&&(e=e[e.length-1]),i.message&&i.stack&&-1==i.stack.indexOf(i.message)&&(i=i.message+"\n"+i.stack),Br("modulerr",e,i.stack||i.message||i)}}}),n}function u(e,n){function r(t,r){if(e.hasOwnProperty(t)){if(e[t]===c)throw Br("cdep",t+" <- "+d.join(" <- "));return e[t]}try{return d.unshift(t),e[t]=c,e[t]=n(t,r)}catch(i){throw e[t]===c&&delete e[t],i}finally{d.shift()}}function i(e,n,i){var o=[];e=He.$$annotate(e,t,i);for(var a=0,s=e.length;a<s;a++){var l=e[a];if("string"!=typeof l)throw Br("itkn",l);o.push(n&&n.hasOwnProperty(l)?n[l]:r(l,i))}return o}return{invoke:function(e,t,n,r){return"string"==typeof n&&(r=n,n=null),n=i(e,n,r),ar(e)&&(e=e[e.length-1]),r=!(11>=Vn)&&("function"==typeof e&&/^(?:class\b|constructor\()/.test(Function.prototype.toString.call(e)+" ")),r?(n.unshift(null),new(Function.prototype.bind.apply(e,n))):e.apply(t,n)},instantiate:function(e,t,n){var r=ar(e)?e[e.length-1]:e;return e=i(e,t,n),e.unshift(null),new(Function.prototype.bind.apply(r,e))},get:r,annotate:He.$$annotate,has:function(t){return h.hasOwnProperty(t+"Provider")||e.hasOwnProperty(t)}}}t=!0===t;var c={},d=[],f=new Ie([],(!0)),h={$provide:{provider:n(i),factory:n(s),service:n(function(e,t){return s(e,["$injector",function(e){return e.instantiate(t)}])}),value:n(function(e,t){return s(e,p(t),!1)}),constant:n(function(e,t){re(e,"constant"),h[e]=t,v[e]=t}),decorator:function(e,t){var n=g.get(e+"Provider"),r=n.$get;n.$get=function(){var e=E.invoke(r,n);return E.invoke(t,null,{$delegate:e})}}}},g=h.$injector=u(h,function(e,t){throw ir.isString(t)&&d.push(t),Br("unpr",d.join(" <- "))}),v={},b=u(v,function(e,t){var n=g.get(e+"Provider",t);return E.invoke(n.$get,n,void 0,e)}),E=b;h.$injectorProvider={$get:p(b)};var w=l(e),E=b.get("$injector");return E.strictDi=t,r(w,function(e){e&&E.invoke(e)}),E}function Be(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,r){function i(e){var t=null;return Array.prototype.some.call(e,function(e){if("a"===A(e))return t=e,!0}),t}function o(e){if(e){e.scrollIntoView();var n;n=a.yOffset,S(n)?n=n():N(n)?(n=n[0],n="fixed"!==t.getComputedStyle(n).position?0:n.getBoundingClientRect().bottom):E(n)||(n=0),n&&(e=e.getBoundingClientRect().top,t.scrollBy(0,e-n))}else t.scrollTo(0,0)}function a(e){e=$(e)?e:n.hash();var t;e?(t=s.getElementById(e))?o(t):(t=i(s.getElementsByName(e)))?o(t):"top"===e&&o(null):o(null)}var s=t.document;return e&&r.$watch(function(){return n.hash()},function(e,t){e===t&&""===e||Ne(function(){r.$evalAsync(a)})}),a}]}function Ue(e,t){return e||t?e?t?(ar(e)&&(e=e.join(" ")),ar(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function je(e){$(e)&&(e=e.split(" "));var t=ae();return r(e,function(e){e.length&&(t[e]=!0)}),t}function ze(e){return y(e)?e:{}}function Ve(e,t,n,i){function o(e){try{e.apply(null,Qn.call(arguments,1))}finally{if(v--,0===v)for(;y.length;)try{y.pop()()}catch(t){n.error(t)}}}function a(){S=null,s(),l()}function s(){b=x(),b=m(b)?null:b,F(b,D)&&(b=D),D=b}function l(){E===u.url()&&$===b||(E=u.url(),$=b,r(C,function(e){e(u.url(),b)}))}var u=this,c=e.location,d=e.history,h=e.setTimeout,p=e.clearTimeout,g={};u.isMock=!1;var v=0,y=[];u.$$completeOutstandingRequest=o,u.$$incOutstandingRequestCount=function(){v++},u.notifyWhenNoOutstandingRequests=function(e){0===v?e():y.push(e)};var b,$,E=c.href,w=t.find("base"),S=null,x=i.history?function(){try{return d.state}catch(e){}}:f;s(),$=b,u.url=function(t,n,r){if(m(r)&&(r=null),c!==e.location&&(c=e.location),d!==e.history&&(d=e.history),t){var o=$===r;if(E===t&&(!i.history||o))return u;var a=E&&$t(E)===$t(t);return E=t,$=r,!i.history||a&&o?(a||(S=t),n?c.replace(t):a?(n=c,r=t.indexOf("#"),r=-1===r?"":t.substr(r),n.hash=r):c.href=t,c.href!==t&&(S=t)):(d[n?"replaceState":"pushState"](r,"",t),s(),$=b),S&&(S=t),u}return S||c.href.replace(/%27/g,"'")},u.state=function(){return b};var C=[],T=!1,D=null;u.onUrlChange=function(t){return T||(i.history&&Wn(e).on("popstate",a),Wn(e).on("hashchange",a),T=!0),C.push(t),t},u.$$applicationDestroyed=function(){Wn(e).off("hashchange popstate",a)},u.$$checkUrlChange=l,u.baseHref=function(){var e=w.attr("href");return e?e.replace(/^(https?\:)?\/\/[^\/]*/,""):""},u.defer=function(e,t){var n;return v++,n=h(function(){delete g[n],o(e)},t||0),g[n]=!0,n},u.defer.cancel=function(e){return!!g[e]&&(delete g[e],p(e),o(f),!0)}}function We(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,r){return new Ve(e,r,t,n)}]}function qe(){this.$get=function(){function e(e,r){function i(e){e!=f&&(h?h==e&&(h=e.n):h=e,o(e.n,e.p),o(e,f),f=e,f.n=null)}function o(e,t){e!=t&&(e&&(e.p=t),t&&(t.n=e))}if(e in n)throw t("$cacheFactory")("iid",e);var a=0,s=l({},r,{id:e}),u=ae(),c=r&&r.capacity||Number.MAX_VALUE,d=ae(),f=null,h=null;return n[e]={put:function(e,t){if(!m(t)){if(c<Number.MAX_VALUE){var n=d[e]||(d[e]={key:e});i(n)}return e in u||a++,u[e]=t,a>c&&this.remove(h.key),t}},get:function(e){if(c<Number.MAX_VALUE){var t=d[e];if(!t)return;i(t)}return u[e]},remove:function(e){if(c<Number.MAX_VALUE){var t=d[e];if(!t)return;t==f&&(f=t.p),t==h&&(h=t.n),o(t.n,t.p),delete d[e]}e in u&&(delete u[e],a--)},removeAll:function(){u=ae(),a=0,d=ae(),f=h=null},destroy:function(){d=s=u=null,delete n[e]},info:function(){return l({},s,{size:a})}}}var n={};return e.info=function(){var e={};return r(n,function(t,n){e[n]=t.info()}),e},e.get=function(e){return n[e]},e}}function Ye(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function Ge(t,n){function i(e,t,n){var i=/^\s*([@&<]|=(\*?))(\??)\s*(\w*)\s*$/,o=ae();return r(e,function(e,r){if(e in x)o[r]=x[e];else{var a=e.match(i);if(!a)throw Gr("iscp",t,r,e,n?"controller bindings definition":"isolate scope definition");o[r]={mode:a[1][0],collection:"*"===a[2],optional:"?"===a[3],attrName:a[4]||r},a[4]&&(x[e]=o[r])}}),o}function a(e){var t=e.charAt(0);if(!t||t!==Xn(t))throw Gr("baddir",e);if(e!==e.trim())throw Gr("baddir",e)}function s(e){var t=e.require||e.controller&&e.name;return!ar(t)&&y(t)&&r(t,function(e,n){var r=e.match(E);e.substring(r[0].length)||(t[n]=r[0]+n)}),t}var u={},c=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,g=/(([\w\-]+)(?:\:([^;]+))?;?)/,b=_("ngSrc,ngSrcset,src,srcset"),E=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,w=/^(on[a-z]+|formaction)$/,x=ae();this.directive=function N(e,n){return re(e,"directive"),$(e)?(a(e),te(n,"directiveFactory"),u.hasOwnProperty(e)||(u[e]=[],t.factory(e+"Directive",["$injector","$exceptionHandler",function(t,n){var i=[];return r(u[e],function(r,o){try{var a=t.invoke(r);S(a)?a={compile:p(a)}:!a.compile&&a.link&&(a.compile=p(a.link)),a.priority=a.priority||0,a.index=o,a.name=a.name||e,a.require=s(a),a.restrict=a.restrict||"EA",a.$$moduleName=r.$$moduleName,i.push(a)}catch(l){n(l)}}),i}])),u[e].push(n)):r(e,o(N)),this},this.component=function(e,t){function n(e){function n(t){return S(t)||ar(t)?function(n,r){return e.invoke(t,this,{$element:n,$attrs:r})}:t}var o=t.template||t.templateUrl?t.template:"",a={controller:i,controllerAs:Je(t.controller)||t.controllerAs||"$ctrl",template:n(o),templateUrl:n(t.templateUrl),transclude:t.transclude,scope:{},bindToController:t.bindings||{},restrict:"E",require:t.require};return r(t,function(e,t){"$"===t.charAt(0)&&(a[t]=e)}),a}var i=t.controller||function(){};return r(t,function(e,t){"$"===t.charAt(0)&&(n[t]=e,S(i)&&(i[t]=e))}),n.$inject=["$injector"],this.directive(e,n)},this.aHrefSanitizationWhitelist=function(e){return v(e)?(n.aHrefSanitizationWhitelist(e),this):n.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return v(e)?(n.imgSrcSanitizationWhitelist(e),this):n.imgSrcSanitizationWhitelist()};var C=!0;this.debugInfoEnabled=function(e){return v(e)?(C=e,this):C};var k=10;this.onChangesTtl=function(e){return arguments.length?(k=e,this):k},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(t,n,o,a,s,p,x,N,_,O){function R(){try{if(!--Ee)throw ye=void 0,Gr("infchng",k);x.$apply(function(){for(var e=[],t=0,n=ye.length;t<n;++t)try{ye[t]()}catch(r){e.push(r)}if(ye=void 0,e.length)throw e})}finally{Ee++}}function L(e,t){if(t){var n,r,i,o=Object.keys(t);for(n=0,r=o.length;n<r;n++)i=o[n],this[i]=t[i]}else this.$attr={};this.$$element=e}function P(e,t,n){$e.innerHTML="<span "+t+">",t=$e.firstChild.attributes;var r=t[0];t.removeNamedItem(r.name),r.value=n,e.attributes.setNamedItem(r)}function H(e,t){try{e.addClass(t)}catch(n){}}function B(t,n,r,i,o){t instanceof Wn||(t=Wn(t));for(var a=/\S+/,s=0,l=t.length;s<l;s++){var u=t[s];u.nodeType===mr&&u.nodeValue.match(a)&&he(u,t[s]=e.document.createElement("span"))}var c=U(t,n,t,r,i,o);B.$$addScopeClass(t);var d=null;return function(e,n,r){te(e,"scope"),o&&o.needsNewScope&&(e=e.$parent.$new()),r=r||{};var i=r.parentBoundTranscludeFn,a=r.transcludeControllers;if(r=r.futureParentElement,i&&i.$$boundTransclude&&(i=i.$$boundTransclude),d||(d=(r=r&&r[0])&&"foreignobject"!==A(r)&&tr.call(r).match(/SVG/)?"svg":"html"),r="html"!==d?Wn(ue(d,Wn("<div>").append(t).html())):n?_r.clone.call(t):t,a)for(var s in a)r.data("$"+s+"Controller",a[s].instance);return B.$$addScopeInfo(r,e),n&&n(r,e),c&&c(e,r,r,i),r}}function U(e,t,n,r,i,o){function a(e,n,r,i){var o,a,s,l,u,c,h;if(d)for(h=Array(n.length),l=0;l<f.length;l+=3)o=f[l],h[o]=n[o];else h=n;for(l=0,u=f.length;l<u;)a=h[f[l++]],n=f[l++],o=f[l++],n?(n.scope?(s=e.$new(),B.$$addScopeInfo(Wn(a),s)):s=e,c=n.transcludeOnThisElement?z(e,n.transclude,i):!n.templateOnThisElement&&i?i:!i&&t?z(e,t):null,n(o,s,a,r,c)):o&&o(e,a.childNodes,void 0,i)}for(var s,l,u,c,d,f=[],h=0;h<e.length;h++)s=new L,l=V(e[h],[],s,0===h?r:void 0,i),(o=l.length?K(l,e[h],s,t,n,null,[],[],o):null)&&o.scope&&B.$$addScopeClass(s.$$element),s=o&&o.terminal||!(u=e[h].childNodes)||!u.length?null:U(u,o?(o.transcludeOnThisElement||!o.templateOnThisElement)&&o.transclude:t),(o||s)&&(f.push(h,o,s),c=!0,d=d||o),o=null;return c?a:null}function z(e,t,n){function r(r,i,o,a,s){return r||(r=e.$new(!1,s),r.$$transcluded=!0),t(r,i,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:a})}var i,o=r.$$slots=ae();for(i in t.$$slots)o[i]=t.$$slots[i]?z(e,t.$$slots[i],n):null;return r}function V(e,t,n,r,i){var o=n.$attr;switch(e.nodeType){case 1:ee(t,Xe(A(e)),"E",r,i);for(var a,s,l,u,c=e.attributes,d=0,f=c&&c.length;d<f;d++){var h=!1,p=!1;a=c[d],s=a.name,l=lr(a.value),a=Xe(s),(u=Ce.test(a))&&(s=s.replace(Xr,"").substr(8).replace(/_(.)/g,function(e,t){return t.toUpperCase()})),(a=a.match(Te))&&ne(a[1])&&(h=s,p=s.substr(0,s.length-5)+"end",s=s.substr(0,s.length-6)),a=Xe(s.toLowerCase()),o[a]=s,!u&&n.hasOwnProperty(a)||(n[a]=l,_e(e,a)&&(n[a]=!0)),de(e,t,l,a,u),ee(t,a,"A",r,i,h,p)}if(o=e.className,y(o)&&(o=o.animVal),$(o)&&""!==o)for(;e=g.exec(o);)a=Xe(e[2]),ee(t,a,"C",r,i)&&(n[a]=lr(e[3])),o=o.substr(e.index+e[0].length);break;case mr:if(11===Vn)for(;e.parentNode&&e.nextSibling&&e.nextSibling.nodeType===mr;)e.nodeValue+=e.nextSibling.nodeValue,e.parentNode.removeChild(e.nextSibling);le(t,e.nodeValue);break;case 8:W(e,t,n,r,i)}return t.sort(oe),t}function W(e,t,n,r,i){try{var o=c.exec(e.nodeValue);if(o){var a=Xe(o[1]);ee(t,a,"M",r,i)&&(n[a]=lr(o[2]))}}catch(s){}}function q(e,t,n){var r=[],i=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e)throw Gr("uterdir",t,n);1==e.nodeType&&(e.hasAttribute(t)&&i++,e.hasAttribute(n)&&i--),r.push(e),e=e.nextSibling}while(0<i)}else r.push(e);return Wn(r)}function Y(e,t,n){return function(r,i,o,a,s){return i=q(i[0],t,n),e(r,i,o,a,s)}}function G(e,t,n,r,i,o){var a;return e?B(t,n,r,i,o):function(){return a||(a=B(t,n,r,i,o),t=n=o=null),a.apply(this,arguments)}}function K(e,t,n,i,a,s,u,c,d){function f(e,t,n,r){e&&(n&&(e=Y(e,n,r)),e.require=p.require,e.directiveName=g,(C===p||p.$$isolateScope)&&(e=pe(e,{isolateScope:!0})),u.push(e)),t&&(n&&(t=Y(t,n,r)),t.require=p.require,t.directiveName=g,(C===p||p.$$isolateScope)&&(t=pe(t,{isolateScope:!0})),c.push(t))}function h(e,i,a,s,d){function f(e,t,n,r){var i;if(T(e)||(r=n,n=t,t=e,e=void 0),M&&(i=$),n||(n=M?k.parent():k),!r)return d(e,t,i,n,A);var o=d.$$slots[r];if(o)return o(e,t,i,n,A);if(m(o))throw Gr("noslot",r,j(k))}var h,p,g,v,b,$,E,k;t===a?(s=n,k=n.$$element):(k=Wn(a),s=new L(k,n)),b=i,C?v=i.$new(!0):w&&(b=i.$parent),d&&(E=f,E.$$boundTransclude=d,E.isSlotFilled=function(e){return!!d.$$slots[e]}),x&&($=Z(k,s,E,x,v,i,C)),C&&(B.$$addScopeInfo(k,v,!0,!(D&&(D===C||D===C.$$originalDirective))),B.$$addScopeClass(k,!0),v.$$isolateBindings=C.$$isolateBindings,p=ve(i,s,v,v.$$isolateBindings,C),p.removeWatches&&v.$on("$destroy",p.removeWatches));for(h in $){p=x[h],g=$[h];var N=p.$$bindings.bindToController;g.bindingInfo=g.identifier&&N?ve(b,s,g.instance,N,p):{};var _=g();_!==g.instance&&(g.instance=_,k.data("$"+p.name+"Controller",_),g.bindingInfo.removeWatches&&g.bindingInfo.removeWatches(),g.bindingInfo=ve(b,s,g.instance,N,p))}for(r(x,function(e,t){var n=e.require;e.bindToController&&!ar(n)&&y(n)&&l($[t].instance,X(t,n,k,$))}),r($,function(e){var t=e.instance;if(S(t.$onChanges))try{t.$onChanges(e.bindingInfo.initialChanges)}catch(n){o(n)}if(S(t.$onInit))try{t.$onInit()}catch(r){o(r)}S(t.$doCheck)&&(b.$watch(function(){t.$doCheck()}),t.$doCheck()),S(t.$onDestroy)&&b.$on("$destroy",function(){t.$onDestroy()})}),h=0,p=u.length;h<p;h++)g=u[h],me(g,g.isolateScope?v:i,k,s,g.require&&X(g.directiveName,g.require,k,$),E);var A=i;for(C&&(C.template||null===C.templateUrl)&&(A=v),e&&e(A,a.childNodes,void 0,d),h=c.length-1;0<=h;h--)g=c[h],me(g,g.isolateScope?v:i,k,s,g.require&&X(g.directiveName,g.require,k,$),E);r($,function(e){e=e.instance,S(e.$postLink)&&e.$postLink()})}d=d||{};for(var p,g,v,b,$,E=-Number.MAX_VALUE,w=d.newScopeDirective,x=d.controllerDirectives,C=d.newIsolateScopeDirective,D=d.templateDirective,k=d.nonTlbTranscludeDirective,N=!1,_=!1,M=d.hasElementTranscludeDirective,O=n.$$element=Wn(t),F=i,R=!1,P=!1,H=0,U=e.length;H<U;H++){p=e[H];var z=p.$$start,W=p.$$end;if(z&&(O=q(t,z,W)),v=void 0,E>p.priority)break;if(($=p.scope)&&(p.templateUrl||(y($)?(se("new/isolated scope",C||w,p,O),C=p):se("new/isolated scope",C,p,O)),w=w||p),g=p.name,!R&&(p.replace&&(p.templateUrl||p.template)||p.transclude&&!p.$$tlb)){for($=H+1;R=e[$++];)if(R.transclude&&!R.$$tlb||R.replace&&(R.templateUrl||R.template)){P=!0;break}R=!0}if(!p.templateUrl&&p.controller&&($=p.controller,x=x||ae(),se("'"+g+"' controller",x[g],p,O),x[g]=p),$=p.transclude)if(N=!0,p.$$tlb||(se("transclusion",k,p,O),k=p),"element"==$)M=!0,E=p.priority,v=O,O=n.$$element=Wn(B.$$createComment(g,n[g])),t=O[0],fe(a,Qn.call(v,0),t),v[0].$$parentNode=v[0].parentNode,F=G(P,v,i,E,s&&s.name,{nonTlbTranscludeDirective:k});else{var K=ae();if(v=Wn(ge(t)).contents(),y($)){v=[];var J=ae(),ee=ae();r($,function(e,t){var n="?"===e.charAt(0);e=n?e.substring(1):e,J[e]=t,K[t]=null,ee[t]=n}),r(O.contents(),function(e){var t=J[Xe(A(e))];t?(ee[t]=!0,K[t]=K[t]||[],K[t].push(e)):v.push(e)}),r(ee,function(e,t){if(!e)throw Gr("reqslot",t)});for(var te in K)K[te]&&(K[te]=G(P,K[te],i))}O.empty(),F=G(P,v,i,void 0,void 0,{needsNewScope:p.$$isolateScope||p.$$newScope}),F.$$slots=K}if(p.template)if(_=!0,se("template",D,p,O),D=p,$=S(p.template)?p.template(O,n):p.template,$=xe($),p.replace){if(s=p,v=Cr.test($)?Qe(ue(p.templateNamespace,lr($))):[],t=v[0],1!=v.length||1!==t.nodeType)throw Gr("tplrt",g,"");fe(a,O,t),U={$attr:{}},$=V(t,[],U);var ne=e.splice(H+1,e.length-(H+1));(C||w)&&Q($,C,w),e=e.concat($).concat(ne),re(n,U),U=e.length}else O.html($);if(p.templateUrl)_=!0,se("template",D,p,O),D=p,p.replace&&(s=p),h=ie(e.splice(H,e.length-H),O,n,a,N&&F,u,c,{controllerDirectives:x,newScopeDirective:w!==p&&w,newIsolateScopeDirective:C,templateDirective:D,nonTlbTranscludeDirective:k}),U=e.length;else if(p.compile)try{b=p.compile(O,n,F);var oe=p.$$originalDirective||p;S(b)?f(null,I(oe,b),z,W):b&&f(I(oe,b.pre),I(oe,b.post),z,W)}catch(le){o(le,j(O))}p.terminal&&(h.terminal=!0,E=Math.max(E,p.priority))}return h.scope=w&&!0===w.scope,h.transcludeOnThisElement=N,h.templateOnThisElement=_,h.transclude=F,d.hasElementTranscludeDirective=M,h}function X(e,t,n,i){var o;if($(t)){var a=t.match(E);t=t.substring(a[0].length);var s=a[1]||a[3],a="?"===a[2];if("^^"===s?n=n.parent():o=(o=i&&i[t])&&o.instance,!o){var l="$"+t+"Controller";o=s?n.inheritedData(l):n.data(l)}if(!o&&!a)throw Gr("ctreq",t,e)}else if(ar(t))for(o=[],s=0,a=t.length;s<a;s++)o[s]=X(e,t[s],n,i);else y(t)&&(o={},r(t,function(t,r){o[r]=X(e,t,n,i)}));return o||null}function Z(e,t,n,r,i,o,a){var s,l=ae();for(s in r){var u=r[s],c={$scope:u===a||u.$$isolateScope?i:o,$element:e,$attrs:t,$transclude:n},d=u.controller;"@"==d&&(d=t[u.name]),c=p(d,c,!0,u.controllerAs),l[u.name]=c,e.data("$"+u.name+"Controller",c.instance)}return l}function Q(e,t,n){for(var r=0,i=e.length;r<i;r++)e[r]=d(e[r],{$$isolateScope:t,$$newScope:n})}function ee(e,n,r,a,s,l,c){if(n===s)return null;if(s=null,u.hasOwnProperty(n)){var f;n=t.get(n+"Directive");for(var h=0,p=n.length;h<p;h++)try{if(f=n[h],(m(a)||a>f.priority)&&-1!=f.restrict.indexOf(r)){if(l&&(f=d(f,{$$start:l,$$end:c})),!f.$$bindings){var g=f,v=f,b=f.name,$={isolateScope:null,bindToController:null};if(y(v.scope)&&(!0===v.bindToController?($.bindToController=i(v.scope,b,!0),$.isolateScope={}):$.isolateScope=i(v.scope,b,!1)),y(v.bindToController)&&($.bindToController=i(v.bindToController,b,!0)),y($.bindToController)){var E=v.controller,w=v.controllerAs;if(!E)throw Gr("noctrl",b);if(!Je(E,w))throw Gr("noident",b)}var S=g.$$bindings=$;y(S.isolateScope)&&(f.$$isolateBindings=S.isolateScope)}e.push(f),s=f}}catch(x){o(x)}}return s}function ne(e){if(u.hasOwnProperty(e))for(var n=t.get(e+"Directive"),r=0,i=n.length;r<i;r++)if(e=n[r],e.multiElement)return!0;return!1}function re(e,t){var n=t.$attr,i=e.$attr;r(e,function(r,i){"$"!=i.charAt(0)&&(t[i]&&t[i]!==r&&(r+=("style"===i?";":" ")+t[i]),e.$set(i,r,!0,n[i]))}),r(t,function(t,r){e.hasOwnProperty(r)||"$"===r.charAt(0)||(e[r]=t,"class"!==r&&"style"!==r&&(i[r]=n[r]))})}function ie(e,t,n,i,o,s,l,u){var c,f,h=[],p=t[0],g=e.shift(),m=d(g,{templateUrl:null,transclude:null,replace:null,$$originalDirective:g}),v=S(g.templateUrl)?g.templateUrl(t,n):g.templateUrl,b=g.templateNamespace;return t.empty(),a(v).then(function(a){var d,$;if(a=xe(a),g.replace){if(a=Cr.test(a)?Qe(ue(b,lr(a))):[],d=a[0],1!=a.length||1!==d.nodeType)throw Gr("tplrt",g.name,v);a={$attr:{}},fe(i,t,d);var E=V(d,[],a);y(g.scope)&&Q(E,!0),e=E.concat(e),re(n,a)}else d=p,t.html(a);for(e.unshift(m),c=K(e,d,n,o,t,g,s,l,u),r(i,function(e,n){e==d&&(i[n]=t[0])}),f=U(t[0].childNodes,o);h.length;){a=h.shift(),$=h.shift();var w=h.shift(),S=h.shift(),E=t[0];if(!a.$$destroyed){if($!==p){var x=$.className;u.hasElementTranscludeDirective&&g.replace||(E=ge(d)),fe(w,Wn($),E),H(Wn(E),x)}$=c.transcludeOnThisElement?z(a,c.transclude,S):S,c(f,a,E,i,$)}}h=null}),function(e,t,n,r,i){e=i,t.$$destroyed||(h?h.push(t,n,r,e):(c.transcludeOnThisElement&&(e=z(t,c.transclude,i)),c(f,t,n,r,e)))}}function oe(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function se(e,t,n,r){function i(e){return e?" (module: "+e+")":""}if(t)throw Gr("multidir",t.name,i(t.$$moduleName),n.name,i(n.$$moduleName),e,j(r))}function le(e,t){var r=n(t,!0);r&&e.push({priority:0,compile:function(e){e=e.parent();var t=!!e.length;return t&&B.$$addBindingClass(e),function(e,n){var i=n.parent();t||B.$$addBindingClass(i),B.$$addBindingInfo(i,r.expressions),e.$watch(r,function(e){n[0].nodeValue=e})}}})}function ue(t,n){switch(t=Xn(t||"html")){case"svg":case"math":var r=e.document.createElement("div");return r.innerHTML="<"+t+">"+n+"</"+t+">",r.childNodes[0].childNodes;default:return n}}function ce(e,t){if("srcdoc"==t)return N.HTML;var n=A(e);return"xlinkHref"==t||"form"==n&&"action"==t||"img"!=n&&("src"==t||"ngSrc"==t)?N.RESOURCE_URL:void 0}function de(e,t,r,i,o){var a=ce(e,i);o=b[i]||o;var s=n(r,!0,a,o);if(s){if("multiple"===i&&"select"===A(e))throw Gr("selmulti",j(e));t.push({priority:100,compile:function(){return{pre:function(e,t,l){if(t=l.$$observers||(l.$$observers=ae()),w.test(i))throw Gr("nodomevents");var u=l[i];u!==r&&(s=u&&n(u,!0,a,o),r=u),s&&(l[i]=s(e),(t[i]||(t[i]=[])).$$inter=!0,(l.$$observers&&l.$$observers[i].$$scope||e).$watch(s,function(e,t){"class"===i&&e!=t?l.$updateClass(e,t):l.$set(i,e)}))}}}})}}function fe(t,n,r){var i,o,a=n[0],s=n.length,l=a.parentNode;if(t)for(i=0,o=t.length;i<o;i++)if(t[i]==a){t[i++]=r,o=i+s-1;for(var u=t.length;i<u;i++,o++)o<u?t[i]=t[o]:delete t[i];t.length-=s-1,t.context===a&&(t.context=r);break}for(l&&l.replaceChild(r,a),t=e.document.createDocumentFragment(),i=0;i<s;i++)t.appendChild(n[i]);for(Wn.hasData(a)&&(Wn.data(r,Wn.data(a)),Wn(a).off("$destroy")),Wn.cleanData(t.querySelectorAll("*")),i=1;i<s;i++)delete n[i];n[0]=r,n.length=1}function pe(e,t){return l(function(){return e.apply(null,arguments)},e,t)}function me(e,t,n,r,i,a){try{e(t,n,r,i,a)}catch(s){o(s,j(n))}}function ve(e,t,i,o,a){function l(t,n,r){S(i.$onChanges)&&n!==r&&(ye||(e.$$postDigest(R),ye=[]),c||(c={},ye.push(u)),c[t]&&(r=c[t].previousValue),c[t]=new Ke(r,n))}function u(){i.$onChanges(c),c=void 0}var c,d=[],h={};return r(o,function(r,o){var u,c,p,g,m=r.attrName,v=r.optional;switch(r.mode){case"@":v||Kn.call(t,m)||(i[o]=t[m]=void 0),t.$observe(m,function(e){($(e)||D(e))&&(l(o,e,i[o]),i[o]=e)}),t.$$observers[m].$$scope=e,u=t[m],$(u)?i[o]=n(u)(e):D(u)&&(i[o]=u),h[o]=new Ke(Kr,i[o]);break;case"=":if(!Kn.call(t,m)){if(v)break;t[m]=void 0}if(v&&!t[m])break;c=s(t[m]),g=c.literal?F:function(e,t){return e===t||e!==e&&t!==t},p=c.assign||function(){throw u=i[o]=c(e),Gr("nonassign",t[m],m,a.name)},u=i[o]=c(e),v=function(t){return g(t,i[o])||(g(t,u)?p(e,t=i[o]):i[o]=t),u=t},v.$stateful=!0,v=r.collection?e.$watchCollection(t[m],v):e.$watch(s(t[m],v),null,c.literal),d.push(v);break;case"<":if(!Kn.call(t,m)){if(v)break;t[m]=void 0}if(v&&!t[m])break;c=s(t[m]);var y=i[o]=c(e);h[o]=new Ke(Kr,i[o]),v=e.$watch(c,function(e,t){if(t===e){if(t===y)return;t=y}l(o,e,t),i[o]=e},c.literal),d.push(v);break;case"&":if(c=t.hasOwnProperty(m)?s(t[m]):f,c===f&&v)break;i[o]=function(t){return c(e,t)}}}),{initialChanges:h,removeWatches:d.length&&function(){for(var e=0,t=d.length;e<t;++e)d[e]()}}}var ye,be=/^\w/,$e=e.document.createElement("div"),Ee=k;L.prototype={$normalize:Xe,$addClass:function(e){e&&0<e.length&&_.addClass(this.$$element,e)},$removeClass:function(e){e&&0<e.length&&_.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=Ze(e,t);n&&n.length&&_.addClass(this.$$element,n),(n=Ze(t,e))&&n.length&&_.removeClass(this.$$element,n)},$set:function(e,t,n,i){var a=_e(this.$$element[0],e),s=Or[e],l=e;if(a?(this.$$element.prop(e,t),i=a):s&&(this[s]=t,l=s),this[e]=t,i?this.$attr[e]=i:(i=this.$attr[e])||(this.$attr[e]=i=J(e,"-")),a=A(this.$$element),"a"===a&&("href"===e||"xlinkHref"===e)||"img"===a&&"src"===e)this[e]=t=O(t,"src"===e);else if("img"===a&&"srcset"===e&&v(t)){for(var a="",s=lr(t),u=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,u=/\s/.test(s)?u:/(,)/,s=s.split(u),u=Math.floor(s.length/2),c=0;c<u;c++)var d=2*c,a=a+O(lr(s[d]),!0),a=a+(" "+lr(s[d+1]));s=lr(s[2*c]).split(/\s/),a+=O(lr(s[0]),!0),2===s.length&&(a+=" "+lr(s[1])),this[e]=t=a}!1!==n&&(null===t||m(t)?this.$$element.removeAttr(i):be.test(i)?this.$$element.attr(i,t):P(this.$$element[0],i,t)),(e=this.$$observers)&&r(e[l],function(e){try{e(t)}catch(n){o(n)}})},$observe:function(e,t){var n=this,r=n.$$observers||(n.$$observers=ae()),i=r[e]||(r[e]=[]);return i.push(t),x.$evalAsync(function(){i.$$inter||!n.hasOwnProperty(e)||m(n[e])||t(n[e])}),function(){M(i,t)}}};var we=n.startSymbol(),Se=n.endSymbol(),xe="{{"==we&&"}}"==Se?h:function(e){return e.replace(/\{\{/g,we).replace(/}}/g,Se)},Ce=/^ngAttr[A-Z]/,Te=/^(.+)Start$/;return B.$$addBindingInfo=C?function(e,t){var n=e.data("$binding")||[];ar(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:f,B.$$addBindingClass=C?function(e){H(e,"ng-binding")}:f,B.$$addScopeInfo=C?function(e,t,n,r){e.data(n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope",t)}:f,B.$$addScopeClass=C?function(e,t){H(e,t?"ng-isolate-scope":"ng-scope")}:f,B.$$createComment=function(t,n){var r="";return C&&(r=" "+(t||"")+": ",n&&(r+=n+" ")),e.document.createComment(r)},B}]}function Ke(e,t){this.previousValue=e,this.currentValue=t}function Xe(e){return ce(e.replace(Xr,""))}function Ze(e,t){var n="",r=e.split(/\s+/),i=t.split(/\s+/),o=0;e:for(;o<r.length;o++){for(var a=r[o],s=0;s<i.length;s++)if(a==i[s])continue e;n+=(0<n.length?" ":"")+a}return n}function Qe(e){e=Wn(e);var t=e.length;if(1>=t)return e;for(;t--;)8===e[t].nodeType&&Jn.call(e,t,1);return e}function Je(e,t){if(t&&$(t))return t;if($(e)){var n=Qr.exec(e);if(n)return n[3]}}function et(){var e={},n=!1;this.has=function(t){return e.hasOwnProperty(t)},this.register=function(t,n){re(t,"controller"),y(t)?l(e,t):e[t]=n},this.allowGlobals=function(){n=!0},this.$get=["$injector","$window",function(r,i){function o(e,n,r,i){if(!e||!y(e.$scope))throw t("$controller")("noscp",i,n);e.$scope[n]=r}return function(t,a,s,u){var c,d,f;if(s=!0===s,u&&$(u)&&(f=u),$(t)){if(u=t.match(Qr),!u)throw Zr("ctrlfmt",t);d=u[1],f=f||u[3],t=e.hasOwnProperty(d)?e[d]:ie(a.$scope,d,!0)||(n?ie(i,d,!0):void 0),ne(t,d,!0)}return s?(s=(ar(t)?t[t.length-1]:t).prototype,c=Object.create(s||null),f&&o(a,f,c,d||t.name),l(function(){var e=r.invoke(t,c,a,d);return e!==c&&(y(e)||S(e))&&(c=e,f&&o(a,f,c,d||t.name)),c},{instance:c,identifier:f})):(c=r.instantiate(t,a,d),f&&o(a,f,c,d||t.name),c)}}]}function tt(){this.$get=["$window",function(e){return Wn(e.document)}]}function nt(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}function rt(e){return y(e)?w(e)?e.toISOString():P(e):e}function it(){this.$get=function(){return function(e){if(!e)return"";var t=[];return i(e,function(e,n){null===e||m(e)||(ar(e)?r(e,function(e){t.push(Y(n)+"="+Y(rt(e)))}):t.push(Y(n)+"="+Y(rt(e))))}),t.join("&")}}}function ot(){this.$get=function(){return function(e){function t(e,o,a){null===e||m(e)||(ar(e)?r(e,function(e,n){t(e,o+"["+(y(e)?n:"")+"]")}):y(e)&&!w(e)?i(e,function(e,n){t(e,o+(a?"":"[")+n+(a?"":"]"))}):n.push(Y(o)+"="+Y(rt(e))))}if(!e)return"";var n=[];return t(e,"",!0),n.join("&")}}}function at(e,t){if($(e)){var n=e.replace(ii,"").trim();if(n){var r=t("Content-Type");(r=r&&0===r.indexOf(ei))||(r=(r=n.match(ni))&&ri[r[0]].test(n)),r&&(e=H(n))}}return e}function st(e){var t,n=ae();return $(e)?r(e.split("\n"),function(e){t=e.indexOf(":");var r=Xn(lr(e.substr(0,t)));
e=lr(e.substr(t+1)),r&&(n[r]=n[r]?n[r]+", "+e:e)}):y(e)&&r(e,function(e,t){var r=Xn(t),i=lr(e);r&&(n[r]=n[r]?n[r]+", "+i:i)}),n}function lt(e){var t;return function(n){return t||(t=st(e)),n?(n=t[Xn(n)],void 0===n&&(n=null),n):t}}function ut(e,t,n,i){return S(i)?i(e,t,n):(r(i,function(r){e=r(e,t,n)}),e)}function ct(){var e=this.defaults={transformResponse:[at],transformRequest:[function(e){return y(e)&&"[object File]"!==tr.call(e)&&"[object Blob]"!==tr.call(e)&&"[object FormData]"!==tr.call(e)?P(e):e}],headers:{common:{Accept:"application/json, text/plain, */*"},post:le(ti),put:le(ti),patch:le(ti)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},n=!1;this.useApplyAsync=function(e){return v(e)?(n=!!e,this):n};var i=!0;this.useLegacyPromiseExtensions=function(e){return v(e)?(i=!!e,this):i};var o=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(a,s,u,c,d,f){function h(n){function o(e,t){for(var n=0,r=t.length;n<r;){var i=t[n++],o=t[n++];e=e.then(i,o)}return t.length=0,e}function a(e,t){var n,i={};return r(e,function(e,r){S(e)?(n=e(t),null!=n&&(i[r]=n)):i[r]=e}),i}function s(e){var t=l({},e);return t.data=ut(e.data,e.headers,e.status,u.transformResponse),e=e.status,200<=e&&300>e?t:d.reject(t)}if(!y(n))throw t("$http")("badreq",n);if(!$(n.url))throw t("$http")("badreq",n.url);var u=l({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse,paramSerializer:e.paramSerializer},n);u.headers=function(t){var n,r,i,o=e.headers,s=l({},t.headers),o=l({},o.common,o[Xn(t.method)]);e:for(n in o){r=Xn(n);for(i in s)if(Xn(i)===r)continue e;s[n]=o[n]}return a(s,le(t))}(n),u.method=Zn(u.method),u.paramSerializer=$(u.paramSerializer)?f.get(u.paramSerializer):u.paramSerializer;var c=[],h=[],g=d.when(u);return r(E,function(e){(e.request||e.requestError)&&c.unshift(e.request,e.requestError),(e.response||e.responseError)&&h.push(e.response,e.responseError)}),g=o(g,c),g=g.then(function(t){var n=t.headers,i=ut(t.data,lt(n),void 0,t.transformRequest);return m(i)&&r(n,function(e,t){"content-type"===Xn(t)&&delete n[t]}),m(t.withCredentials)&&!m(e.withCredentials)&&(t.withCredentials=e.withCredentials),p(t,i).then(s,s)}),g=o(g,h),i?(g.success=function(e){return ne(e,"fn"),g.then(function(t){e(t.data,t.status,t.headers,u)}),g},g.error=function(e){return ne(e,"fn"),g.then(null,function(t){e(t.data,t.status,t.headers,u)}),g}):(g.success=ai("success"),g.error=ai("error")),g}function p(t,i){function o(e){if(e){var t={};return r(e,function(e,r){t[r]=function(t){function r(){e(t)}n?c.$applyAsync(r):c.$$phase?r():c.$apply(r)}}),t}}function l(e,t,r,i){function o(){u(t,e,r,i)}$&&(200<=e&&300>e?$.put(T,[e,t,st(r),i]):$.remove(T)),n?c.$applyAsync(o):(o(),c.$$phase||c.$apply())}function u(e,n,r,i){n=-1<=n?n:0,(200<=n&&300>n?w.resolve:w.reject)({data:e,status:n,headers:lt(r),config:t,statusText:i})}function f(e){u(e.data,e.status,le(e.headers()),e.statusText)}function p(){var e=h.pendingRequests.indexOf(t);-1!==e&&h.pendingRequests.splice(e,1)}var $,E,w=d.defer(),x=w.promise,C=t.headers,T=g(t.url,t.paramSerializer(t.params));return h.pendingRequests.push(t),x.then(p,p),!t.cache&&!e.cache||!1===t.cache||"GET"!==t.method&&"JSONP"!==t.method||($=y(t.cache)?t.cache:y(e.cache)?e.cache:b),$&&(E=$.get(T),v(E)?E&&S(E.then)?E.then(f,f):ar(E)?u(E[1],E[0],le(E[2]),E[3]):u(E,200,{},"OK"):$.put(T,x)),m(E)&&((E=ln(t.url)?s()[t.xsrfCookieName||e.xsrfCookieName]:void 0)&&(C[t.xsrfHeaderName||e.xsrfHeaderName]=E),a(t.method,T,i,l,C,t.timeout,t.withCredentials,t.responseType,o(t.eventHandlers),o(t.uploadEventHandlers))),x}function g(e,t){return 0<t.length&&(e+=(-1==e.indexOf("?")?"?":"&")+t),e}var b=u("$http");e.paramSerializer=$(e.paramSerializer)?f.get(e.paramSerializer):e.paramSerializer;var E=[];return r(o,function(e){E.unshift($(e)?f.get(e):f.invoke(e))}),h.pendingRequests=[],function(e){r(arguments,function(e){h[e]=function(t,n){return h(l({},n||{},{method:e,url:t}))}})}("get","delete","head","jsonp"),function(e){r(arguments,function(e){h[e]=function(t,n,r){return h(l({},r||{},{method:e,url:t,data:n}))}})}("post","put","patch"),h.defaults=e,h}]}function dt(){this.$get=function(){return function(){return new e.XMLHttpRequest}}}function ft(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(e,t,n,r){return ht(e,r,e.defer,t,n[0])}]}function ht(e,t,n,i,o){function a(e,t,n){e=e.replace("JSON_CALLBACK",t);var r=o.createElement("script"),a=null;return r.type="text/javascript",r.src=e,r.async=!0,a=function(e){r.removeEventListener("load",a,!1),r.removeEventListener("error",a,!1),o.body.removeChild(r),r=null;var s=-1,l="unknown";e&&("load"!==e.type||i.wasCalled(t)||(e={type:"error"}),l=e.type,s="error"===e.type?404:200),n&&n(s,l)},r.addEventListener("load",a,!1),r.addEventListener("error",a,!1),o.body.appendChild(r),a}return function(o,s,l,u,c,d,h,p,g,y){function b(){w&&w(),x&&x.abort()}function $(t,r,i,o,a){v(T)&&n.cancel(T),w=x=null,t(r,i,o,a),e.$$completeOutstandingRequest(f)}if(e.$$incOutstandingRequestCount(),s=s||e.url(),"jsonp"===Xn(o))var E=i.createCallback(s),w=a(s,E,function(e,t){var n=200===e&&i.getResponse(E);$(u,e,n,"",t),i.removeCallback(E)});else{var x=t(o,s);if(x.open(o,s,!0),r(c,function(e,t){v(e)&&x.setRequestHeader(t,e)}),x.onload=function(){var e=x.statusText||"",t="response"in x?x.response:x.responseText,n=1223===x.status?204:x.status;0===n&&(n=t?200:"file"==sn(s).protocol?404:0),$(u,n,t,x.getAllResponseHeaders(),e)},o=function(){$(u,-1,null,null,"")},x.onerror=o,x.onabort=o,r(g,function(e,t){x.addEventListener(t,e)}),r(y,function(e,t){x.upload.addEventListener(t,e)}),h&&(x.withCredentials=!0),p)try{x.responseType=p}catch(C){if("json"!==p)throw C}x.send(m(l)?null:l)}if(0<d)var T=n(b,d);else d&&S(d.then)&&d.then(b)}}function pt(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){function o(e){return"\\\\\\"+e}function a(n){return n.replace(f,e).replace(h,t)}function s(e,t,n,r){var i;return i=e.$watch(function(e){return i(),r(e)},t,n)}function u(o,u,f,h){function g(e){try{var t=e;e=f?i.getTrusted(f,t):i.valueOf(t);var n;if(h&&!v(e))n=e;else if(null==e)n="";else{switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=P(e)}n=e}return n}catch(a){r(si.interr(o,a))}}if(!o.length||-1===o.indexOf(e)){var y;return u||(u=a(o),y=p(u),y.exp=o,y.expressions=[],y.$$watchDelegate=s),y}h=!!h;var b,$,E=0,w=[],x=[];y=o.length;for(var C=[],T=[];E<y;){if(-1==(b=o.indexOf(e,E))||-1==($=o.indexOf(t,b+c))){E!==y&&C.push(a(o.substring(E)));break}E!==b&&C.push(a(o.substring(E,b))),E=o.substring(b+c,$),w.push(E),x.push(n(E,g)),E=$+d,T.push(C.length),C.push("")}if(f&&1<C.length&&si.throwNoconcat(o),!u||w.length){var D=function(e){for(var t=0,n=w.length;t<n;t++){if(h&&m(e[t]))return;C[T[t]]=e[t]}return C.join("")};return l(function(e){var t=0,n=w.length,i=Array(n);try{for(;t<n;t++)i[t]=x[t](e);return D(i)}catch(a){r(si.interr(o,a))}},{exp:o,expressions:w,$$watchDelegate:function(e,t){var n;return e.$watchGroup(x,function(r,i){var o=D(r);S(t)&&t.call(this,o,r!==i?n:o,e),n=o})}})}}var c=e.length,d=t.length,f=new RegExp(e.replace(/./g,o),"g"),h=new RegExp(t.replace(/./g,o),"g");return u.startSymbol=function(){return e},u.endSymbol=function(){return t},u}]}function gt(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(e,t,n,r,i){function o(o,s,l,u){function c(){d?o.apply(null,f):o(g)}var d=4<arguments.length,f=d?Qn.call(arguments,4):[],h=t.setInterval,p=t.clearInterval,g=0,m=v(u)&&!u,y=(m?r:n).defer(),b=y.promise;return l=v(l)?l:0,b.$$intervalId=h(function(){m?i.defer(c):e.$evalAsync(c),y.notify(g++),0<l&&g>=l&&(y.resolve(g),p(b.$$intervalId),delete a[b.$$intervalId]),m||e.$apply()},s),a[b.$$intervalId]=y,b}var a={};return o.cancel=function(e){return!!(e&&e.$$intervalId in a)&&(a[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete a[e.$$intervalId],!0)},o}]}function mt(e){e=e.split("/");for(var t=e.length;t--;)e[t]=q(e[t]);return e.join("/")}function vt(e,t){var n=sn(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=c(n.port)||ci[n.protocol]||null}function yt(e,t){var n="/"!==e.charAt(0);n&&(e="/"+e);var r=sn(e);t.$$path=decodeURIComponent(n&&"/"===r.pathname.charAt(0)?r.pathname.substring(1):r.pathname),t.$$search=V(r.search),t.$$hash=decodeURIComponent(r.hash),t.$$path&&"/"!=t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function bt(e,t){if(0===t.lastIndexOf(e,0))return t.substr(e.length)}function $t(e){var t=e.indexOf("#");return-1==t?e:e.substr(0,t)}function Et(e){return e.replace(/(#.+)|#$/,"$1")}function wt(e,t,n){this.$$html5=!0,n=n||"",vt(e,this),this.$$parse=function(e){var n=bt(t,e);if(!$(n))throw di("ipthprfx",e,t);yt(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=W(this.$$search),n=this.$$hash?"#"+q(this.$$hash):"";this.$$url=mt(this.$$path)+(e?"?"+e:"")+n,this.$$absUrl=t+this.$$url.substr(1)},this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var o,a;return v(o=bt(e,r))?(a=o,a=v(o=bt(n,o))?t+(bt("/",o)||o):e+a):v(o=bt(t,r))?a=t+o:t==r+"/"&&(a=t),a&&this.$$parse(a),!!a}}function St(e,t,n){vt(e,this),this.$$parse=function(r){var i,o=bt(e,r)||bt(t,r);m(o)||"#"!==o.charAt(0)?this.$$html5?i=o:(i="",m(o)&&(e=r,this.replace())):(i=bt(n,o),m(i)&&(i=o)),yt(i,this),r=this.$$path;var o=e,a=/^\/[A-Z]:(\/.*)/;0===i.lastIndexOf(o,0)&&(i=i.replace(o,"")),a.exec(i)||(r=(i=a.exec(r))?i[1]:r),this.$$path=r,this.$$compose()},this.$$compose=function(){var t=W(this.$$search),r=this.$$hash?"#"+q(this.$$hash):"";this.$$url=mt(this.$$path)+(t?"?"+t:"")+r,this.$$absUrl=e+(this.$$url?n+this.$$url:"")},this.$$parseLinkUrl=function(t,n){return $t(e)==$t(t)&&(this.$$parse(t),!0)}}function xt(e,t,n){this.$$html5=!0,St.apply(this,arguments),this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var o,a;return e==$t(r)?o=r:(a=bt(t,r))?o=e+n+a:t===r+"/"&&(o=t),o&&this.$$parse(o),!!o},this.$$compose=function(){var t=W(this.$$search),r=this.$$hash?"#"+q(this.$$hash):"";this.$$url=mt(this.$$path)+(t?"?"+t:"")+r,this.$$absUrl=e+n+this.$$url}}function Ct(e){return function(){return this[e]}}function Tt(e,t){return function(n){return m(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function Dt(){var e="",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return v(t)?(e=t,this):e},this.html5Mode=function(e){return D(e)?(t.enabled=e,this):y(e)?(D(e.enabled)&&(t.enabled=e.enabled),D(e.requireBase)&&(t.requireBase=e.requireBase),D(e.rewriteLinks)&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,r,i,o,a){function s(e,t,n){var i=u.url(),o=u.$$state;try{r.url(e,t,n),u.$$state=r.state()}catch(a){throw u.url(i),u.$$state=o,a}}function l(e,t){n.$broadcast("$locationChangeSuccess",u.absUrl(),e,u.$$state,t)}var u,c;c=r.baseHref();var d,f=r.url();if(t.enabled){if(!c&&t.requireBase)throw di("nobase");d=f.substring(0,f.indexOf("/",f.indexOf("//")+2))+(c||"/"),c=i.history?wt:xt}else d=$t(f),c=St;var h=d.substr(0,$t(d).lastIndexOf("/")+1);u=new c(d,h,"#"+e),u.$$parseLinkUrl(f,f),u.$$state=r.state();var p=/^\s*(javascript|mailto):/i;o.on("click",function(e){if(t.rewriteLinks&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!=e.which&&2!=e.button){for(var i=Wn(e.target);"a"!==A(i[0]);)if(i[0]===o[0]||!(i=i.parent())[0])return;var s=i.prop("href"),l=i.attr("href")||i.attr("xlink:href");y(s)&&"[object SVGAnimatedString]"===s.toString()&&(s=sn(s.animVal).href),p.test(s)||!s||i.attr("target")||e.isDefaultPrevented()||!u.$$parseLinkUrl(s,l)||(e.preventDefault(),u.absUrl()!=r.url()&&(n.$apply(),a.angular["ff-684208-preventDefault"]=!0))}}),Et(u.absUrl())!=Et(f)&&r.url(u.absUrl(),!0);var g=!0;return r.onUrlChange(function(e,t){m(bt(h,e))?a.location.href=e:(n.$evalAsync(function(){var r,i=u.absUrl(),o=u.$$state;e=Et(e),u.$$parse(e),u.$$state=t,r=n.$broadcast("$locationChangeStart",e,i,t,o).defaultPrevented,u.absUrl()===e&&(r?(u.$$parse(i),u.$$state=o,s(i,!1,o)):(g=!1,l(i,o)))}),n.$$phase||n.$digest())}),n.$watch(function(){var e=Et(r.url()),t=Et(u.absUrl()),o=r.state(),a=u.$$replace,c=e!==t||u.$$html5&&i.history&&o!==u.$$state;(g||c)&&(g=!1,n.$evalAsync(function(){var t=u.absUrl(),r=n.$broadcast("$locationChangeStart",t,e,u.$$state,o).defaultPrevented;u.absUrl()===t&&(r?(u.$$parse(e),u.$$state=o):(c&&s(t,a,o===u.$$state?null:u.$$state),l(e,o)))})),u.$$replace=!1}),u}]}function kt(){var e=!0,t=this;this.debugEnabled=function(t){return v(t)?(e=t,this):e},this.$get=["$window",function(n){function i(e){return e instanceof Error&&(e.stack?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function o(e){var t=n.console||{},o=t[e]||t.log||f;e=!1;try{e=!!o.apply}catch(a){}return e?function(){var e=[];return r(arguments,function(t){e.push(i(t))}),o.apply(t,e)}:function(e,t){o(e,null==t?"":t)}}return{log:o("log"),info:o("info"),warn:o("warn"),error:o("error"),debug:function(){var n=o("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function Nt(e,t){if("__defineGetter__"===e||"__defineSetter__"===e||"__lookupGetter__"===e||"__lookupSetter__"===e||"__proto__"===e)throw hi("isecfld",t);return e}function _t(e){return e+""}function At(e,t){if(e){if(e.constructor===e)throw hi("isecfn",t);if(e.window===e)throw hi("isecwindow",t);if(e.children&&(e.nodeName||e.prop&&e.attr&&e.find))throw hi("isecdom",t);if(e===Object)throw hi("isecobj",t)}return e}function Mt(e,t){if(e){if(e.constructor===e)throw hi("isecfn",t);if(e===pi||e===gi||e===mi)throw hi("isecff",t)}}function Ot(e,t){if(e&&(e===(0).constructor||e===(!1).constructor||e==="".constructor||e==={}.constructor||e===[].constructor||e===Function.constructor))throw hi("isecaf",t)}function Ft(e,t){return"undefined"!=typeof e?e:t}function Rt(e,t){return"undefined"==typeof e?t:"undefined"==typeof t?e:e+t}function It(e,t){var n,i;switch(e.type){case $i.Program:n=!0,r(e.body,function(e){It(e.expression,t),n=n&&e.expression.constant}),e.constant=n;break;case $i.Literal:e.constant=!0,e.toWatch=[];break;case $i.UnaryExpression:It(e.argument,t),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case $i.BinaryExpression:It(e.left,t),It(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case $i.LogicalExpression:It(e.left,t),It(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case $i.ConditionalExpression:It(e.test,t),It(e.alternate,t),It(e.consequent,t),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case $i.Identifier:e.constant=!1,e.toWatch=[e];break;case $i.MemberExpression:It(e.object,t),e.computed&&It(e.property,t),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=[e];break;case $i.CallExpression:n=!!e.filter&&!t(e.callee.name).$stateful,i=[],r(e.arguments,function(e){It(e,t),n=n&&e.constant,e.constant||i.push.apply(i,e.toWatch)}),e.constant=n,e.toWatch=e.filter&&!t(e.callee.name).$stateful?i:[e];break;case $i.AssignmentExpression:It(e.left,t),It(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case $i.ArrayExpression:n=!0,i=[],r(e.elements,function(e){It(e,t),n=n&&e.constant,e.constant||i.push.apply(i,e.toWatch)}),e.constant=n,e.toWatch=i;break;case $i.ObjectExpression:n=!0,i=[],r(e.properties,function(e){It(e.value,t),n=n&&e.value.constant&&!e.computed,e.value.constant||i.push.apply(i,e.value.toWatch)}),e.constant=n,e.toWatch=i;break;case $i.ThisExpression:e.constant=!1,e.toWatch=[];break;case $i.LocalsExpression:e.constant=!1,e.toWatch=[]}}function Lt(e){if(1==e.length){e=e[0].expression;var t=e.toWatch;return 1!==t.length?t:t[0]!==e?t:void 0}}function Pt(e){return e.type===$i.Identifier||e.type===$i.MemberExpression}function Ht(e){if(1===e.body.length&&Pt(e.body[0].expression))return{type:$i.AssignmentExpression,left:e.body[0].expression,right:{type:$i.NGValueParameter},operator:"="}}function Bt(e){return 0===e.body.length||1===e.body.length&&(e.body[0].expression.type===$i.Literal||e.body[0].expression.type===$i.ArrayExpression||e.body[0].expression.type===$i.ObjectExpression)}function Ut(e,t){this.astBuilder=e,this.$filter=t}function jt(e,t){this.astBuilder=e,this.$filter=t}function zt(e){return"constructor"==e}function Vt(e){return S(e.valueOf)?e.valueOf():wi.call(e)}function Wt(){var e,t,n=ae(),i=ae(),o={"true":!0,"false":!1,"null":null,undefined:void 0};this.addLiteral=function(e,t){o[e]=t},this.setIdentifierFns=function(n,r){return e=n,t=r,this},this.$get=["$filter",function(a){function s(e,t,r){var o,s,u;switch(r=r||$,typeof e){case"string":u=e=e.trim();var m=r?i:n;if(o=m[u],!o){":"===e.charAt(0)&&":"===e.charAt(1)&&(s=!0,e=e.substring(2)),o=r?b:y;var v=new bi(o);o=new Ei(v,a,o).parse(e),o.constant?o.$$watchDelegate=p:s?o.$$watchDelegate=o.literal?h:d:o.inputs&&(o.$$watchDelegate=c),r&&(o=l(o)),m[u]=o}return g(o,t);case"function":return g(e,t);default:return g(f,t)}}function l(e){function t(t,n,r,i){var o=$;$=!0;try{return e(t,n,r,i)}finally{$=o}}if(!e)return e;t.$$watchDelegate=e.$$watchDelegate,t.assign=l(e.assign),t.constant=e.constant,t.literal=e.literal;for(var n=0;e.inputs&&n<e.inputs.length;++n)e.inputs[n]=l(e.inputs[n]);return t.inputs=e.inputs,t}function u(e,t){return null==e||null==t?e===t:("object"!=typeof e||(e=Vt(e),"object"!=typeof e))&&(e===t||e!==e&&t!==t)}function c(e,t,n,r,i){var o,a=r.inputs;if(1===a.length){var s=u,a=a[0];return e.$watch(function(e){var t=a(e);return u(t,s)||(o=r(e,void 0,void 0,[t]),s=t&&Vt(t)),o},t,n,i)}for(var l=[],c=[],d=0,f=a.length;d<f;d++)l[d]=u,c[d]=null;return e.$watch(function(e){for(var t=!1,n=0,i=a.length;n<i;n++){var s=a[n](e);(t||(t=!u(s,l[n])))&&(c[n]=s,l[n]=s&&Vt(s))}return t&&(o=r(e,void 0,void 0,c)),o},t,n,i)}function d(e,t,n,r){var i,o;return i=e.$watch(function(e){return r(e)},function(e,n,r){o=e,S(t)&&t.apply(this,arguments),v(e)&&r.$$postDigest(function(){v(o)&&i()})},n)}function h(e,t,n,i){function o(e){var t=!0;return r(e,function(e){v(e)||(t=!1)}),t}var a,s;return a=e.$watch(function(e){return i(e)},function(e,n,r){s=e,S(t)&&t.call(this,e,n,r),o(e)&&r.$$postDigest(function(){o(s)&&a()})},n)}function p(e,t,n,r){var i;return i=e.$watch(function(e){return i(),r(e)},t,n)}function g(e,t){if(!t)return e;var n=e.$$watchDelegate,r=!1,n=n!==h&&n!==d?function(n,i,o,a){return o=r&&a?a[0]:e(n,i,o,a),t(o,n,i)}:function(n,r,i,o){return i=e(n,r,i,o),n=t(i,n,r),v(i)?n:i};return e.$$watchDelegate&&e.$$watchDelegate!==c?n.$$watchDelegate=e.$$watchDelegate:t.$stateful||(n.$$watchDelegate=c,r=!e.inputs,n.inputs=e.inputs?e.inputs:[e]),n}var m=cr().noUnsafeEval,y={csp:m,expensiveChecks:!1,literals:O(o),isIdentifierStart:S(e)&&e,isIdentifierContinue:S(t)&&t},b={csp:m,expensiveChecks:!0,literals:O(o),isIdentifierStart:S(e)&&e,isIdentifierContinue:S(t)&&t},$=!1;return s.$$runningExpensiveChecks=function(){return $},s}]}function qt(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return Gt(function(t){e.$evalAsync(t)},t)}]}function Yt(){this.$get=["$browser","$exceptionHandler",function(e,t){return Gt(function(t){e.defer(t)},t)}]}function Gt(e,n){function i(){this.$$state={status:0}}function o(e,t){return function(n){t.call(e,n)}}function a(t){!t.processScheduled&&t.pending&&(t.processScheduled=!0,e(function(){var e,r,i;i=t.pending,t.processScheduled=!1,t.pending=void 0;for(var o=0,a=i.length;o<a;++o){r=i[o][0],e=i[o][t.status];try{S(e)?r.resolve(e(t.value)):1===t.status?r.resolve(t.value):r.reject(t.value)}catch(s){r.reject(s),n(s)}}}))}function s(){this.promise=new i}var u=t("$q",TypeError),c=function(){var e=new s;return e.resolve=o(e,e.resolve),e.reject=o(e,e.reject),e.notify=o(e,e.notify),e};l(i.prototype,{then:function(e,t,n){if(m(e)&&m(t)&&m(n))return this;var r=new s;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,e,t,n]),0<this.$$state.status&&a(this.$$state),r.promise},"catch":function(e){return this.then(null,e)},"finally":function(e,t){return this.then(function(t){return f(t,!0,e)},function(t){return f(t,!1,e)},t)}}),l(s.prototype,{resolve:function(e){this.promise.$$state.status||(e===this.promise?this.$$reject(u("qcycle",e)):this.$$resolve(e))},$$resolve:function(e){function t(e){l||(l=!0,s.$$resolve(e))}function r(e){l||(l=!0,s.$$reject(e))}var i,s=this,l=!1;try{(y(e)||S(e))&&(i=e&&e.then),S(i)?(this.promise.$$state.status=-1,i.call(e,t,r,o(this,this.notify))):(this.promise.$$state.value=e,this.promise.$$state.status=1,a(this.promise.$$state))}catch(u){r(u),n(u)}},reject:function(e){this.promise.$$state.status||this.$$reject(e)},$$reject:function(e){this.promise.$$state.value=e,this.promise.$$state.status=2,a(this.promise.$$state)},notify:function(t){var r=this.promise.$$state.pending;0>=this.promise.$$state.status&&r&&r.length&&e(function(){for(var e,i,o=0,a=r.length;o<a;o++){i=r[o][0],e=r[o][3];try{i.notify(S(e)?e(t):t)}catch(s){n(s)}}})}});var d=function(e,t){var n=new s;return t?n.resolve(e):n.reject(e),n.promise},f=function(e,t,n){var r=null;try{S(n)&&(r=n())}catch(i){return d(i,!1)}return r&&S(r.then)?r.then(function(){return d(e,t)},function(e){return d(e,!1)}):d(e,t)},h=function(e,t,n,r){var i=new s;return i.resolve(e),i.promise.then(t,n,r)},p=function(e){if(!S(e))throw u("norslvr",e);var t=new s;return e(function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise};return p.prototype=i.prototype,p.defer=c,p.reject=function(e){var t=new s;return t.reject(e),t.promise},p.when=h,p.resolve=h,p.all=function(e){var t=new s,n=0,i=ar(e)?[]:{};return r(e,function(e,r){n++,h(e).then(function(e){i.hasOwnProperty(r)||(i[r]=e,--n||t.resolve(i))},function(e){i.hasOwnProperty(r)||t.reject(e)})}),0===n&&t.resolve(i),t.promise},p.race=function(e){var t=c();return r(e,function(e){h(e).then(t.resolve,t.reject)}),t.promise},p}function Kt(){this.$get=["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame,r=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,i=!!n,o=i?function(e){var t=n(e);return function(){r(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return o.supported=i,o}]}function Xt(){function e(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=++or,this.$$ChildScope=null}return t.prototype=e,t}var i=10,o=t("$rootScope"),a=null,s=null;this.digestTtl=function(e){return arguments.length&&(i=e),i},this.$get=["$exceptionHandler","$parse","$browser",function(t,l,u){function c(e){e.currentScope.$$destroyed=!0}function d(e){9===Vn&&(e.$$childHead&&d(e.$$childHead),e.$$nextSibling&&d(e.$$nextSibling)),e.$parent=e.$$nextSibling=e.$$prevSibling=e.$$childHead=e.$$childTail=e.$root=e.$$watchers=null}function h(){this.$id=++or,this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function p(e){if(w.$$phase)throw o("inprog",w.$$phase);w.$$phase=e}function g(e,t){do e.$$watchersCount+=t;while(e=e.$parent)}function v(e,t,n){do e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n];while(e=e.$parent)}function b(){}function $(){for(;T.length;)try{T.shift()()}catch(e){t(e)}s=null}function E(){null===s&&(s=u.defer(function(){w.$apply($)}))}h.prototype={constructor:h,$new:function(t,n){var r;return n=n||this,t?(r=new h,r.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=e(this)),r=new this.$$ChildScope),r.$parent=n,r.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=r,n.$$childTail=r):n.$$childHead=n.$$childTail=r,(t||n!=this)&&r.$on("$destroy",c),r},$watch:function(e,t,n,r){var i=l(e);if(i.$$watchDelegate)return i.$$watchDelegate(this,t,n,i,e);var o=this,s=o.$$watchers,u={fn:t,last:b,get:i,exp:r||e,eq:!!n};return a=null,S(t)||(u.fn=f),s||(s=o.$$watchers=[]),s.unshift(u),g(this,1),function(){0<=M(s,u)&&g(o,-1),a=null}},$watchGroup:function(e,t){function n(){l=!1,u?(u=!1,t(o,o,s)):t(o,i,s)}var i=Array(e.length),o=Array(e.length),a=[],s=this,l=!1,u=!0;if(!e.length){var c=!0;return s.$evalAsync(function(){c&&t(o,o,s)}),function(){c=!1}}return 1===e.length?this.$watch(e[0],function(e,n,r){o[0]=e,i[0]=n,t(o,e===n?o:i,r)}):(r(e,function(e,t){var r=s.$watch(e,function(e,r){o[t]=e,i[t]=r,l||(l=!0,s.$evalAsync(n))});a.push(r)}),function(){for(;a.length;)a.shift()()})},$watchCollection:function(e,t){function r(e){i=e;var t,r,a,s;if(!m(i)){if(y(i))if(n(i))for(o!==f&&(o=f,g=o.length=0,c++),e=i.length,g!==e&&(c++,o.length=g=e),t=0;t<e;t++)s=o[t],a=i[t],r=s!==s&&a!==a,r||s===a||(c++,o[t]=a);else{o!==h&&(o=h={},g=0,c++),e=0;for(t in i)Kn.call(i,t)&&(e++,a=i[t],s=o[t],t in o?(r=s!==s&&a!==a,r||s===a||(c++,o[t]=a)):(g++,o[t]=a,c++));if(g>e)for(t in c++,o)Kn.call(i,t)||(g--,delete o[t])}else o!==i&&(o=i,c++);return c}}r.$stateful=!0;var i,o,a,s=this,u=1<t.length,c=0,d=l(e,r),f=[],h={},p=!0,g=0;return this.$watch(d,function(){if(p?(p=!1,t(i,i,s)):t(i,a,s),u)if(y(i))if(n(i)){a=Array(i.length);for(var e=0;e<i.length;e++)a[e]=i[e]}else for(e in a={},i)Kn.call(i,e)&&(a[e]=i[e]);else a=i})},$digest:function(){var e,n,r,l,c,d,f,h,g,m,v,y=i,E=[];p("$digest"),u.$$checkUrlChange(),this===w&&null!==s&&(u.defer.cancel(s),$()),a=null;do{for(h=!1,g=this,d=0;d<x.length;d++){try{v=x[d],v.scope.$eval(v.expression,v.locals)}catch(T){t(T)}a=null}x.length=0;e:do{if(d=g.$$watchers)for(f=d.length;f--;)try{if(e=d[f])if(c=e.get,(n=c(g))===(r=e.last)||(e.eq?F(n,r):"number"==typeof n&&"number"==typeof r&&isNaN(n)&&isNaN(r))){if(e===a){h=!1;break e}}else h=!0,a=e,e.last=e.eq?O(n,null):n,l=e.fn,l(n,r===b?n:r,g),5>y&&(m=4-y,E[m]||(E[m]=[]),E[m].push({msg:S(e.exp)?"fn: "+(e.exp.name||e.exp.toString()):e.exp,newVal:n,oldVal:r}))}catch(k){t(k)}if(!(d=g.$$watchersCount&&g.$$childHead||g!==this&&g.$$nextSibling))for(;g!==this&&!(d=g.$$nextSibling);)g=g.$parent}while(g=d);if((h||x.length)&&!y--)throw w.$$phase=null,o("infdig",i,E)}while(h||x.length);for(w.$$phase=null;D<C.length;)try{C[D++]()}catch(N){t(N)}C.length=D=0},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===w&&u.$$applicationDestroyed(),g(this,-this.$$watchersCount);for(var t in this.$$listenerCount)v(this,this.$$listenerCount[t],t);e&&e.$$childHead==this&&(e.$$childHead=this.$$nextSibling),e&&e.$$childTail==this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=f,this.$on=this.$watch=this.$watchGroup=function(){return f},this.$$listeners={},this.$$nextSibling=null,d(this)}},$eval:function(e,t){return l(e)(this,t)},$evalAsync:function(e,t){w.$$phase||x.length||u.defer(function(){x.length&&w.$digest()}),x.push({scope:this,expression:l(e),locals:t})},$$postDigest:function(e){C.push(e)},$apply:function(e){try{p("$apply");try{return this.$eval(e)}finally{w.$$phase=null}}catch(n){t(n)}finally{try{w.$digest()}catch(r){throw t(r),r}}},$applyAsync:function(e){function t(){n.$eval(e)}var n=this;e&&T.push(t),e=l(e),E()},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var r=this;do r.$$listenerCount[e]||(r.$$listenerCount[e]=0),r.$$listenerCount[e]++;while(r=r.$parent);var i=this;return function(){var r=n.indexOf(t);-1!==r&&(n[r]=null,v(i,1,e))}},$emit:function(e,n){var r,i,o,a=[],s=this,l=!1,u={name:e,targetScope:s,stopPropagation:function(){l=!0},preventDefault:function(){u.defaultPrevented=!0},defaultPrevented:!1},c=R([u],arguments,1);do{for(r=s.$$listeners[e]||a,u.currentScope=s,i=0,o=r.length;i<o;i++)if(r[i])try{r[i].apply(null,c)}catch(d){t(d)}else r.splice(i,1),i--,o--;if(l)return u.currentScope=null,u;s=s.$parent}while(s);return u.currentScope=null,u},$broadcast:function(e,n){var r=this,i=this,o={name:e,targetScope:this,preventDefault:function(){o.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[e])return o;for(var a,s,l=R([o],arguments,1);r=i;){for(o.currentScope=r,i=r.$$listeners[e]||[],a=0,s=i.length;a<s;a++)if(i[a])try{i[a].apply(null,l)}catch(u){t(u)}else i.splice(a,1),a--,s--;if(!(i=r.$$listenerCount[e]&&r.$$childHead||r!==this&&r.$$nextSibling))for(;r!==this&&!(i=r.$$nextSibling);)r=r.$parent}return o.currentScope=null,o}};var w=new h,x=w.$$asyncQueue=[],C=w.$$postDigestQueue=[],T=w.$$applyAsyncQueue=[],D=0;return w}]}function Zt(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return v(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return v(e)?(t=e,this):t},this.$get=function(){return function(n,r){var i,o=r?t:e;return i=sn(n).href,""===i||i.match(o)?n:"unsafe:"+i}}}function Qt(e){if("self"===e)return e;if($(e)){if(-1<e.indexOf("***"))throw Si("iwcard",e);return e=ur(e).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+e+"$")}if(x(e))return new RegExp("^"+e.source+"$");throw Si("imatcher")}function Jt(e){var t=[];return v(e)&&r(e,function(e){t.push(Qt(e))}),t}function en(){this.SCE_CONTEXTS=xi;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=Jt(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=Jt(e)),t},this.$get=["$injector",function(n){function r(e,t){return"self"===e?ln(t):!!e.exec(t.href)}function i(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}var o=function(e){throw Si("unsafe")};n.has("$sanitize")&&(o=n.get("$sanitize"));var a=i(),s={};return s[xi.HTML]=i(a),s[xi.CSS]=i(a),s[xi.URL]=i(a),s[xi.JS]=i(a),s[xi.RESOURCE_URL]=i(s[xi.URL]),{trustAs:function(e,t){var n=s.hasOwnProperty(e)?s[e]:null;if(!n)throw Si("icontext",e,t);if(null===t||m(t)||""===t)return t;if("string"!=typeof t)throw Si("itype",e);return new n(t)},getTrusted:function(n,i){if(null===i||m(i)||""===i)return i;var a=s.hasOwnProperty(n)?s[n]:null;if(a&&i instanceof a)return i.$$unwrapTrustedValue();if(n===xi.RESOURCE_URL){var l,u,a=sn(i.toString()),c=!1;for(l=0,u=e.length;l<u;l++)if(r(e[l],a)){c=!0;break}if(c)for(l=0,u=t.length;l<u;l++)if(r(t[l],a)){c=!1;break}if(c)return i;throw Si("insecurl",i.toString())}if(n===xi.HTML)return o(i);throw Si("unsafe")},valueOf:function(e){return e instanceof a?e.$$unwrapTrustedValue():e}}}]}function tn(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,n){if(e&&8>Vn)throw Si("iequirks");var i=le(xi);i.isEnabled=function(){return e},i.trustAs=n.trustAs,i.getTrusted=n.getTrusted,i.valueOf=n.valueOf,e||(i.trustAs=i.getTrusted=function(e,t){return t},i.valueOf=h),i.parseAs=function(e,n){var r=t(n);return r.literal&&r.constant?r:t(n,function(t){return i.getTrusted(e,t)})};var o=i.parseAs,a=i.getTrusted,s=i.trustAs;return r(xi,function(e,t){var n=Xn(t);i[ce("parse_as_"+n)]=function(t){return o(e,t)},i[ce("get_trusted_"+n)]=function(t){return a(e,t)},i[ce("trust_as_"+n)]=function(t){return s(e,t)}}),i}]}function nn(){this.$get=["$window","$document",function(e,t){var n,r={},i=!(e.chrome&&e.chrome.app&&e.chrome.app.runtime)&&e.history&&e.history.pushState,o=c((/android (\d+)/.exec(Xn((e.navigator||{}).userAgent))||[])[1]),a=/Boxee/i.test((e.navigator||{}).userAgent),s=t[0]||{},l=/^(Moz|webkit|ms)(?=[A-Z])/,u=s.body&&s.body.style,d=!1,f=!1;
if(u){for(var h in u)if(d=l.exec(h)){n=d[0],n=n[0].toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in u&&"webkit"),d=!!("transition"in u||n+"Transition"in u),f=!!("animation"in u||n+"Animation"in u),!o||d&&f||(d=$(u.webkitTransition),f=$(u.webkitAnimation))}return{history:!(!i||4>o||a),hasEvent:function(e){if("input"===e&&11>=Vn)return!1;if(m(r[e])){var t=s.createElement("div");r[e]="on"+e in t}return r[e]},csp:cr(),vendorPrefix:n,transitions:d,animations:f,android:o}}]}function rn(){var e;this.httpOptions=function(t){return t?(e=t,this):e},this.$get=["$templateCache","$http","$q","$sce",function(t,n,r,i){function o(a,s){o.totalPendingRequests++,$(a)&&!m(t.get(a))||(a=i.getTrustedResourceUrl(a));var u=n.defaults&&n.defaults.transformResponse;return ar(u)?u=u.filter(function(e){return e!==at}):u===at&&(u=null),n.get(a,l({cache:t,transformResponse:u},e))["finally"](function(){o.totalPendingRequests--}).then(function(e){return t.put(a,e.data),e.data},function(e){if(!s)throw Ci("tpload",a,e.status,e.statusText);return r.reject(e)})}return o.totalPendingRequests=0,o}]}function on(){this.$get=["$rootScope","$browser","$location",function(e,t,n){return{findBindings:function(e,t,n){e=e.getElementsByClassName("ng-binding");var i=[];return r(e,function(e){var o=ir.element(e).data("$binding");o&&r(o,function(r){n?new RegExp("(^|\\s)"+ur(t)+"(\\s|\\||$)").test(r)&&i.push(e):-1!=r.indexOf(t)&&i.push(e)})}),i},findModels:function(e,t,n){for(var r=["ng-","data-ng-","ng\\:"],i=0;i<r.length;++i){var o=e.querySelectorAll("["+r[i]+"model"+(n?"=":"*=")+'"'+t+'"]');if(o.length)return o}},getLocation:function(){return n.url()},setLocation:function(t){t!==n.url()&&(n.url(t),e.$digest())},whenStable:function(e){t.notifyWhenNoOutstandingRequests(e)}}}]}function an(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,r,i){function o(o,s,l){S(o)||(l=s,s=o,o=f);var u,c=Qn.call(arguments,3),d=v(l)&&!l,h=(d?r:n).defer(),p=h.promise;return u=t.defer(function(){try{h.resolve(o.apply(null,c))}catch(t){h.reject(t),i(t)}finally{delete a[p.$$timeoutId]}d||e.$apply()},s),p.$$timeoutId=u,a[u]=h,p}var a={};return o.cancel=function(e){return!!(e&&e.$$timeoutId in a)&&(a[e.$$timeoutId].reject("canceled"),delete a[e.$$timeoutId],t.defer.cancel(e.$$timeoutId))},o}]}function sn(e){return Vn&&(Ti.setAttribute("href",e),e=Ti.href),Ti.setAttribute("href",e),{href:Ti.href,protocol:Ti.protocol?Ti.protocol.replace(/:$/,""):"",host:Ti.host,search:Ti.search?Ti.search.replace(/^\?/,""):"",hash:Ti.hash?Ti.hash.replace(/^#/,""):"",hostname:Ti.hostname,port:Ti.port,pathname:"/"===Ti.pathname.charAt(0)?Ti.pathname:"/"+Ti.pathname}}function ln(e){return e=$(e)?sn(e):e,e.protocol===Di.protocol&&e.host===Di.host}function un(){this.$get=p(e)}function cn(e){function t(e){try{return decodeURIComponent(e)}catch(t){return e}}var n=e[0]||{},r={},i="";return function(){var e,o,a,s,l;if(e=n.cookie||"",e!==i)for(i=e,e=i.split("; "),r={},a=0;a<e.length;a++)o=e[a],s=o.indexOf("="),0<s&&(l=t(o.substring(0,s)),m(r[l])&&(r[l]=t(o.substring(s+1))));return r}}function dn(){this.$get=cn}function fn(e){function t(n,i){if(y(n)){var o={};return r(n,function(e,n){o[n]=t(n,e)}),o}return e.factory(n+"Filter",i)}this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+"Filter")}}],t("currency",vn),t("date",kn),t("filter",hn),t("json",Nn),t("limitTo",_n),t("lowercase",Fi),t("number",yn),t("orderBy",Mn),t("uppercase",Ri)}function hn(){return function(e,r,i,o){if(!n(e)){if(null==e)return e;throw t("filter")("notarray",e)}o=o||"$";var a;switch(mn(r)){case"function":break;case"boolean":case"null":case"number":case"string":a=!0;case"object":r=pn(r,i,o,a);break;default:return e}return Array.prototype.filter.call(e,r)}}function pn(e,t,n,r){var i=y(e)&&n in e;return!0===t?t=F:S(t)||(t=function(e,t){return!m(e)&&(null===e||null===t?e===t:!(y(t)||y(e)&&!g(e))&&(e=Xn(""+e),t=Xn(""+t),-1!==e.indexOf(t)))}),function(o){return i&&!y(o)?gn(o,e[n],t,n,!1):gn(o,e,t,n,r)}}function gn(e,t,n,r,i,o){var a=mn(e),s=mn(t);if("string"===s&&"!"===t.charAt(0))return!gn(e,t.substring(1),n,r,i);if(ar(e))return e.some(function(e){return gn(e,t,n,r,i)});switch(a){case"object":var l;if(i){for(l in e)if("$"!==l.charAt(0)&&gn(e[l],t,n,r,!0))return!0;return!o&&gn(e,t,n,r,!1)}if("object"===s){for(l in t)if(o=t[l],!S(o)&&!m(o)&&(a=l===r,!gn(a?e:e[l],o,n,r,a,a)))return!1;return!0}return n(e,t);case"function":return!1;default:return n(e,t)}}function mn(e){return null===e?"null":typeof e}function vn(e){var t=e.NUMBER_FORMATS;return function(e,n,r){return m(n)&&(n=t.CURRENCY_SYM),m(r)&&(r=t.PATTERNS[1].maxFrac),null==e?e:En(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,r).replace(/\u00A4/g,n)}}function yn(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:En(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function bn(e){var t,n,r,i,o,a=0;for(-1<(n=e.indexOf(Ni))&&(e=e.replace(Ni,"")),0<(r=e.search(/e/i))?(0>n&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):0>n&&(n=e.length),r=0;e.charAt(r)==_i;r++);if(r==(o=e.length))t=[0],n=1;else{for(o--;e.charAt(o)==_i;)o--;for(n-=r,t=[],i=0;r<=o;r++,i++)t[i]=+e.charAt(r)}return n>ki&&(t=t.splice(0,ki-1),a=n-1,n=1),{d:t,e:a,i:n}}function $n(e,t,n,r){var i=e.d,o=i.length-e.i;if(t=m(t)?Math.min(Math.max(n,o),r):+t,n=t+e.i,r=i[n],0<n){i.splice(Math.max(e.i,n));for(var a=n;a<i.length;a++)i[a]=0}else for(o=Math.max(0,o),e.i=1,i.length=Math.max(1,n=t+1),i[0]=0,a=1;a<n;a++)i[a]=0;if(5<=r)if(0>n-1){for(r=0;r>n;r--)i.unshift(0),e.i++;i.unshift(1),e.i++}else i[n-1]++;for(;o<Math.max(0,t);o++)i.push(0);(t=i.reduceRight(function(e,t,n,r){return t+=e,r[n]=t%10,Math.floor(t/10)},0))&&(i.unshift(t),e.i++)}function En(e,t,n,r,i){if(!$(e)&&!E(e)||isNaN(e))return"";var o=!isFinite(e),a=!1,s=Math.abs(e)+"",l="";if(o)l="∞";else{for(a=bn(s),$n(a,i,t.minFrac,t.maxFrac),l=a.d,s=a.i,i=a.e,o=[],a=l.reduce(function(e,t){return e&&!t},!0);0>s;)l.unshift(0),s++;for(0<s?o=l.splice(s,l.length):(o=l,l=[0]),s=[],l.length>=t.lgSize&&s.unshift(l.splice(-t.lgSize,l.length).join(""));l.length>t.gSize;)s.unshift(l.splice(-t.gSize,l.length).join(""));l.length&&s.unshift(l.join("")),l=s.join(n),o.length&&(l+=r+o.join("")),i&&(l+="e+"+i)}return 0>e&&!a?t.negPre+l+t.negSuf:t.posPre+l+t.posSuf}function wn(e,t,n,r){var i="";for((0>e||r&&0>=e)&&(r?e=-e+1:(e=-e,i="-")),e=""+e;e.length<t;)e=_i+e;return n&&(e=e.substr(e.length-t)),i+e}function Sn(e,t,n,r,i){return n=n||0,function(o){return o=o["get"+e](),(0<n||o>-n)&&(o+=n),0===o&&-12==n&&(o=12),wn(o,t,r,i)}}function xn(e,t,n){return function(r,i){var o=r["get"+e](),a=Zn((n?"STANDALONE":"")+(t?"SHORT":"")+e);return i[a][o]}}function Cn(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(4>=t?5:12)-t)}function Tn(e){return function(t){var n=Cn(t.getFullYear());return t=+new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))-+n,t=1+Math.round(t/6048e5),wn(t,e)}}function Dn(e,t){return 0>=e.getFullYear()?t.ERAS[0]:t.ERAS[1]}function kn(e){function t(e){var t;if(t=e.match(n)){e=new Date(0);var r=0,i=0,o=t[8]?e.setUTCFullYear:e.setFullYear,a=t[8]?e.setUTCHours:e.setHours;t[9]&&(r=c(t[9]+t[10]),i=c(t[9]+t[11])),o.call(e,c(t[1]),c(t[2])-1,c(t[3])),r=c(t[4]||0)-r,i=c(t[5]||0)-i,o=c(t[6]||0),t=Math.round(1e3*parseFloat("0."+(t[7]||0))),a.call(e,r,i,o,t)}return e}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,i,o){var a,s,l="",u=[];if(i=i||"mediumDate",i=e.DATETIME_FORMATS[i]||i,$(n)&&(n=Oi.test(n)?c(n):t(n)),E(n)&&(n=new Date(n)),!w(n)||!isFinite(n.getTime()))return n;for(;i;)(s=Mi.exec(i))?(u=R(u,s,1),i=u.pop()):(u.push(i),i=null);var d=n.getTimezoneOffset();return o&&(d=B(o,d),n=U(n,o,!0)),r(u,function(t){a=Ai[t],l+=a?a(n,e.DATETIME_FORMATS,d):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}}function Nn(){return function(e,t){return m(t)&&(t=2),P(e,t)}}function _n(){return function(e,t,r){return t=1/0===Math.abs(Number(t))?Number(t):c(t),isNaN(t)?e:(E(e)&&(e=e.toString()),n(e)?(r=!r||isNaN(r)?0:c(r),r=0>r?Math.max(0,e.length+r):r,0<=t?An(e,r,r+t):0===r?An(e,t,e.length):An(e,Math.max(0,r+t),r)):e)}}function An(e,t,n){return $(e)?e.slice(t,n):Qn.call(e,t,n)}function Mn(e){function r(t){return t.map(function(t){var n=1,r=h;if(S(t))r=t;else if($(t)&&("+"!=t.charAt(0)&&"-"!=t.charAt(0)||(n="-"==t.charAt(0)?-1:1,t=t.substring(1)),""!==t&&(r=e(t),r.constant)))var i=r(),r=function(e){return e[i]};return{get:r,descending:n}})}function i(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function o(e,t){var n=0,r=e.type,i=t.type;if(r===i){var i=e.value,o=t.value;"string"===r?(i=i.toLowerCase(),o=o.toLowerCase()):"object"===r&&(y(i)&&(i=e.index),y(o)&&(o=t.index)),i!==o&&(n=i<o?-1:1)}else n=r<i?-1:1;return n}return function(e,a,s,l){if(null==e)return e;if(!n(e))throw t("orderBy")("notarray",e);ar(a)||(a=[a]),0===a.length&&(a=["+"]);var u=r(a),c=s?-1:1,d=S(l)?l:o;return e=Array.prototype.map.call(e,function(e,t){return{value:e,tieBreaker:{value:t,type:"number",index:t},predicateValues:u.map(function(n){var r=n.get(e);return n=typeof r,null===r?(n="string",r="null"):"object"===n&&(S(r.valueOf)&&(r=r.valueOf(),i(r))||g(r)&&(r=r.toString(),i(r))),{value:r,type:n,index:t}})}}),e.sort(function(e,t){for(var n=0,r=u.length;n<r;n++){var i=d(e.predicateValues[n],t.predicateValues[n]);if(i)return i*u[n].descending*c}return d(e.tieBreaker,t.tieBreaker)*c}),e=e.map(function(e){return e.value})}}function On(e){return S(e)&&(e={link:e}),e.restrict=e.restrict||"AC",p(e)}function Fn(e,t,n,i,o){var a=this,s=[];a.$error={},a.$$success={},a.$pending=void 0,a.$name=o(t.name||t.ngForm||"")(n),a.$dirty=!1,a.$pristine=!0,a.$valid=!0,a.$invalid=!1,a.$submitted=!1,a.$$parentForm=Pi,a.$rollbackViewValue=function(){r(s,function(e){e.$rollbackViewValue()})},a.$commitViewValue=function(){r(s,function(e){e.$commitViewValue()})},a.$addControl=function(e){re(e.$name,"input"),s.push(e),e.$name&&(a[e.$name]=e),e.$$parentForm=a},a.$$renameControl=function(e,t){var n=e.$name;a[n]===e&&delete a[n],a[t]=e,e.$name=t},a.$removeControl=function(e){e.$name&&a[e.$name]===e&&delete a[e.$name],r(a.$pending,function(t,n){a.$setValidity(n,null,e)}),r(a.$error,function(t,n){a.$setValidity(n,null,e)}),r(a.$$success,function(t,n){a.$setValidity(n,null,e)}),M(s,e),e.$$parentForm=Pi},jn({ctrl:this,$element:e,set:function(e,t,n){var r=e[t];r?-1===r.indexOf(n)&&r.push(n):e[t]=[n]},unset:function(e,t,n){var r=e[t];r&&(M(r,n),0===r.length&&delete e[t])},$animate:i}),a.$setDirty=function(){i.removeClass(e,Eo),i.addClass(e,wo),a.$dirty=!0,a.$pristine=!1,a.$$parentForm.$setDirty()},a.$setPristine=function(){i.setClass(e,Eo,wo+" ng-submitted"),a.$dirty=!1,a.$pristine=!0,a.$submitted=!1,r(s,function(e){e.$setPristine()})},a.$setUntouched=function(){r(s,function(e){e.$setUntouched()})},a.$setSubmitted=function(){i.addClass(e,"ng-submitted"),a.$submitted=!0,a.$$parentForm.$setSubmitted()}}function Rn(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function In(e,t,n,r,i,o){var a=Xn(t[0].type);if(!i.android){var s=!1;t.on("compositionstart",function(){s=!0}),t.on("compositionend",function(){s=!1,u()})}var l,u=function(e){if(l&&(o.defer.cancel(l),l=null),!s){var i=t.val();e=e&&e.type,"password"===a||n.ngTrim&&"false"===n.ngTrim||(i=lr(i)),(r.$viewValue!==i||""===i&&r.$$hasNativeValidators)&&r.$setViewValue(i,e)}};if(i.hasEvent("input"))t.on("input",u);else{var c=function(e,t,n){l||(l=o.defer(function(){l=null,t&&t.value===n||u(e)}))};t.on("keydown",function(e){var t=e.keyCode;91===t||15<t&&19>t||37<=t&&40>=t||c(e,this,this.value)}),i.hasEvent("paste")&&t.on("paste cut",c)}t.on("change",u),Zi[a]&&r.$$hasNativeValidators&&a===n.type&&t.on("keydown wheel mousedown",function(e){if(!l){var t=this.validity,n=t.badInput,r=t.typeMismatch;l=o.defer(function(){l=null,t.badInput===n&&t.typeMismatch===r||u(e)})}}),r.$render=function(){var e=r.$isEmpty(r.$viewValue)?"":r.$viewValue;t.val()!==e&&t.val(e)}}function Ln(e,t){return function(n,i){var o,a;if(w(n))return n;if($(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),ji.test(n))return new Date(n);if(e.lastIndex=0,o=e.exec(n))return o.shift(),a=i?{yyyy:i.getFullYear(),MM:i.getMonth()+1,dd:i.getDate(),HH:i.getHours(),mm:i.getMinutes(),ss:i.getSeconds(),sss:i.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},r(o,function(e,n){n<t.length&&(a[t[n]]=+e)}),new Date(a.yyyy,a.MM-1,a.dd,a.HH,a.mm,a.ss||0,1e3*a.sss||0)}return NaN}}function Pn(e,t,n,r){return function(i,o,a,s,l,u,c){function d(e){return e&&!(e.getTime&&e.getTime()!==e.getTime())}function f(e){return v(e)&&!w(e)?n(e)||void 0:e}Hn(i,o,a,s),In(i,o,a,s,l,u);var h,p=s&&s.$options&&s.$options.timezone;if(s.$$parserName=e,s.$parsers.push(function(e){return s.$isEmpty(e)?null:t.test(e)?(e=n(e,h),p&&(e=U(e,p)),e):void 0}),s.$formatters.push(function(e){if(e&&!w(e))throw xo("datefmt",e);return d(e)?((h=e)&&p&&(h=U(h,p,!0)),c("date")(e,r,p)):(h=null,"")}),v(a.min)||a.ngMin){var g;s.$validators.min=function(e){return!d(e)||m(g)||n(e)>=g},a.$observe("min",function(e){g=f(e),s.$validate()})}if(v(a.max)||a.ngMax){var y;s.$validators.max=function(e){return!d(e)||m(y)||n(e)<=y},a.$observe("max",function(e){y=f(e),s.$validate()})}}}function Hn(e,t,n,r){(r.$$hasNativeValidators=y(t[0].validity))&&r.$parsers.push(function(e){var n=t.prop("validity")||{};return n.badInput||n.typeMismatch?void 0:e})}function Bn(e,t,n,r,i){if(v(r)){if(e=e(r),!e.constant)throw xo("constexpr",n,r);return e(t)}return i}function Un(e,t){return e="ngClass"+e,["$animate",function(n){function i(e,t){var n=[],r=0;e:for(;r<e.length;r++){for(var i=e[r],o=0;o<t.length;o++)if(i==t[o])continue e;n.push(i)}return n}function o(e){var t=[];return ar(e)?(r(e,function(e){t=t.concat(o(e))}),t):$(e)?e.split(" "):y(e)?(r(e,function(e,n){e&&(t=t.concat(n.split(" ")))}),t):e}return{restrict:"AC",link:function(a,s,l){function u(e){e=c(e,1),l.$addClass(e)}function c(e,t){var n=s.data("$classCounts")||ae(),i=[];return r(e,function(e){(0<t||n[e])&&(n[e]=(n[e]||0)+t,n[e]===+(0<t)&&i.push(e))}),s.data("$classCounts",n),i.join(" ")}function d(e,t){var r=i(t,e),o=i(e,t),r=c(r,1),o=c(o,-1);r&&r.length&&n.addClass(s,r),o&&o.length&&n.removeClass(s,o)}function f(e){if(!0===t||(1&a.$index)===t){var n=o(e||[]);if(h){if(!F(e,h)){var r=o(h);d(r,n)}}else u(n)}h=ar(e)?e.map(function(e){return le(e)}):le(e)}var h;a.$watch(l[e],f,!0),l.$observe("class",function(t){f(a.$eval(l[e]))}),"ngClass"!==e&&a.$watch("$index",function(n,r){var i=1&n;if(i!==(1&r)){var s=o(a.$eval(l[e]));i===t?u(s):(i=c(s,-1),l.$removeClass(i))}})}}}]}function jn(e){function t(e,t){t&&!o[e]?(l.addClass(i,e),o[e]=!0):!t&&o[e]&&(l.removeClass(i,e),o[e]=!1)}function n(e,n){e=e?"-"+J(e,"-"):"",t(bo+e,!0===n),t($o+e,!1===n)}var r=e.ctrl,i=e.$element,o={},a=e.set,s=e.unset,l=e.$animate;o[$o]=!(o[bo]=i.hasClass(bo)),r.$setValidity=function(e,i,o){m(i)?(r.$pending||(r.$pending={}),a(r.$pending,e,o)):(r.$pending&&s(r.$pending,e,o),zn(r.$pending)&&(r.$pending=void 0)),D(i)?i?(s(r.$error,e,o),a(r.$$success,e,o)):(a(r.$error,e,o),s(r.$$success,e,o)):(s(r.$error,e,o),s(r.$$success,e,o)),r.$pending?(t(So,!0),r.$valid=r.$invalid=void 0,n("",null)):(t(So,!1),r.$valid=zn(r.$error),r.$invalid=!r.$valid,n("",r.$valid)),i=r.$pending&&r.$pending[e]?void 0:!r.$error[e]&&(!!r.$$success[e]||null),n(e,i),r.$$parentForm.$setValidity(e,i,r)}}function zn(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}var Vn,Wn,qn,Yn,Gn=/^\/(.+)\/([a-z]*)$/,Kn=Object.prototype.hasOwnProperty,Xn=function(e){return $(e)?e.toLowerCase():e},Zn=function(e){return $(e)?e.toUpperCase():e},Qn=[].slice,Jn=[].splice,er=[].push,tr=Object.prototype.toString,nr=Object.getPrototypeOf,rr=t("ng"),ir=e.angular||(e.angular={}),or=0;Vn=e.document.documentMode,f.$inject=[],h.$inject=[];var ar=Array.isArray,sr=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/,lr=function(e){return $(e)?e.trim():e},ur=function(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},cr=function(){if(!v(cr.rules)){var t=e.document.querySelector("[ng-csp]")||e.document.querySelector("[data-ng-csp]");if(t){var n=t.getAttribute("ng-csp")||t.getAttribute("data-ng-csp");cr.rules={noUnsafeEval:!n||-1!==n.indexOf("no-unsafe-eval"),noInlineStyle:!n||-1!==n.indexOf("no-inline-style")}}else{t=cr;try{new Function(""),n=!1}catch(r){n=!0}t.rules={noUnsafeEval:n,noInlineStyle:!1}}}return cr.rules},dr=function(){if(v(dr.name_))return dr.name_;var t,n,r,i,o=hr.length;for(n=0;n<o;++n)if(r=hr[n],t=e.document.querySelector("["+r.replace(":","\\:")+"jq]")){i=t.getAttribute(r+"jq");break}return dr.name_=i},fr=/:/g,hr=["ng-","data-ng-","ng:","x-ng-"],pr=/[A-Z]/g,gr=!1,mr=3,vr={full:"1.5.8",major:1,minor:5,dot:8,codeName:"arbitrary-fallbacks"};pe.expando="ng339";var yr=pe.cache={},br=1;pe._data=function(e){return this.cache[e[this.expando]]||{}};var $r=/([\:\-\_]+(.))/g,Er=/^moz([A-Z])/,wr={mouseleave:"mouseout",mouseenter:"mouseover"},Sr=t("jqLite"),xr=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Cr=/<|&#?\w+;/,Tr=/<([\w:-]+)/,Dr=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,kr={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};kr.optgroup=kr.option,kr.tbody=kr.tfoot=kr.colgroup=kr.caption=kr.thead,kr.th=kr.td;var Nr=e.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))},_r=pe.prototype={ready:function(t){function n(){r||(r=!0,t())}var r=!1;"complete"===e.document.readyState?e.setTimeout(n):(this.on("DOMContentLoaded",n),pe(e).on("load",n))},toString:function(){var e=[];return r(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return Wn(0<=e?this[e]:this[this.length+e])},length:0,push:er,sort:[].sort,splice:[].splice},Ar={};r("multiple selected checked disabled readOnly required open".split(" "),function(e){Ar[Xn(e)]=e});var Mr={};r("input select option textarea button form details".split(" "),function(e){Mr[e]=!0});var Or={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};r({data:$e,removeData:ye,hasData:function(e){for(var t in yr[e.ng339])return!0;return!1},cleanData:function(e){for(var t=0,n=e.length;t<n;t++)ye(e[t])}},function(e,t){pe[t]=e}),r({data:$e,inheritedData:Te,scope:function(e){return Wn.data(e,"$scope")||Te(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return Wn.data(e,"$isolateScope")||Wn.data(e,"$isolateScopeNoTemplate")},controller:Ce,injector:function(e){return Te(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:Ee,css:function(e,t,n){return t=ce(t),v(n)?void(e.style[t]=n):e.style[t]},attr:function(e,t,n){var r=e.nodeType;if(r!==mr&&2!==r&&8!==r)if(r=Xn(t),Ar[r]){if(!v(n))return e[t]||(e.attributes.getNamedItem(t)||f).specified?r:void 0;n?(e[t]=!0,e.setAttribute(t,r)):(e[t]=!1,e.removeAttribute(r))}else if(v(n))e.setAttribute(t,n);else if(e.getAttribute)return e=e.getAttribute(t,2),null===e?void 0:e},prop:function(e,t,n){return v(n)?void(e[t]=n):e[t]},text:function(){function e(e,t){if(m(t)){var n=e.nodeType;return 1===n||n===mr?e.textContent:""}e.textContent=t}return e.$dv="",e}(),val:function(e,t){if(m(t)){if(e.multiple&&"select"===A(e)){var n=[];return r(e.options,function(e){e.selected&&n.push(e.value||e.text)}),0===n.length?null:n}return e.value}e.value=t},html:function(e,t){return m(t)?e.innerHTML:(me(e,!0),void(e.innerHTML=t))},empty:De},function(e,t){pe.prototype[t]=function(t,n){var r,i,o=this.length;if(e!==De&&m(2==e.length&&e!==Ee&&e!==Ce?t:n)){if(y(t)){for(r=0;r<o;r++)if(e===$e)e(this[r],t);else for(i in t)e(this[r],i,t[i]);return this}for(r=e.$dv,o=m(r)?Math.min(o,1):o,i=0;i<o;i++){var a=e(this[i],t,n);r=r?r+a:a}return r}for(r=0;r<o;r++)e(this[r],t,n);return this}}),r({removeData:ye,on:function(e,t,n,r){if(v(r))throw Sr("onargs");if(de(e)){r=be(e,!0);var i=r.events,o=r.handle;o||(o=r.handle=Ae(e,i)),r=0<=t.indexOf(" ")?t.split(" "):[t];for(var a=r.length,s=function(t,r,a){var s=i[t];s||(s=i[t]=[],s.specialHandlerWrapper=r,"$destroy"===t||a||e.addEventListener(t,o,!1)),s.push(n)};a--;)t=r[a],wr[t]?(s(wr[t],Oe),s(t,void 0,!0)):s(t)}},off:ve,one:function(e,t,n){e=Wn(e),e.on(t,function r(){e.off(t,n),e.off(t,r)}),e.on(t,n)},replaceWith:function(e,t){var n,i=e.parentNode;me(e),r(new pe(t),function(t){n?i.insertBefore(t,n.nextSibling):i.replaceChild(t,e),n=t})},children:function(e){var t=[];return r(e.childNodes,function(e){1===e.nodeType&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(1===n||11===n){t=new pe(t);for(var n=0,r=t.length;n<r;n++)e.appendChild(t[n])}},prepend:function(e,t){if(1===e.nodeType){var n=e.firstChild;r(new pe(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){he(e,Wn(t).eq(0).clone()[0])},remove:ke,detach:function(e){ke(e,!0)},after:function(e,t){var n=e,r=e.parentNode;t=new pe(t);for(var i=0,o=t.length;i<o;i++){var a=t[i];r.insertBefore(a,n.nextSibling),n=a}},addClass:Se,removeClass:we,toggleClass:function(e,t,n){t&&r(t.split(" "),function(t){var r=n;m(r)&&(r=!Ee(e,t)),(r?Se:we)(e,t)})},parent:function(e){return(e=e.parentNode)&&11!==e.nodeType?e:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:ge,triggerHandler:function(e,t,n){var i,o,a=t.type||t,s=be(e);(s=(s=s&&s.events)&&s[a])&&(i={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:f,type:a,target:e},t.type&&(i=l(i,t)),t=le(s),o=n?[i].concat(n):[i],r(t,function(t){i.isImmediatePropagationStopped()||t.apply(e,o)}))}},function(e,t){pe.prototype[t]=function(t,n,r){for(var i,o=0,a=this.length;o<a;o++)m(i)?(i=e(this[o],t,n,r),v(i)&&(i=Wn(i))):xe(i,e(this[o],t,n,r));return v(i)?i:this},pe.prototype.bind=pe.prototype.on,pe.prototype.unbind=pe.prototype.off}),Ie.prototype={put:function(e,t){this[Re(e,this.nextUid)]=t},get:function(e){return this[Re(e,this.nextUid)]},remove:function(e){var t=this[e=Re(e,this.nextUid)];return delete this[e],t}};var Fr=[function(){this.$get=[function(){return Ie}]}],Rr=/^([^\(]+?)=>/,Ir=/^[^\(]*\(\s*([^\)]*)\)/m,Lr=/,/,Pr=/^\s*(_?)(\S+?)\1\s*$/,Hr=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Br=t("$injector");He.$$annotate=function(e,t,n){var i;if("function"==typeof e){if(!(i=e.$inject)){if(i=[],e.length){if(t)throw $(n)&&n||(n=e.name||Pe(e)),Br("strictdi",n);t=Le(e),r(t[1].split(Lr),function(e){e.replace(Pr,function(e,t,n){i.push(n)})})}e.$inject=i}}else ar(e)?(t=e.length-1,ne(e[t],"fn"),i=e.slice(0,t)):ne(e,"fn",!0);return i};var Ur=t("$animate"),jr=function(){this.$get=f},zr=function(){var e=new Ie,t=[];this.$get=["$$AnimateRunner","$rootScope",function(n,i){function o(e,t,n){var i=!1;return t&&(t=$(t)?t.split(" "):ar(t)?t:[],r(t,function(t){t&&(i=!0,e[t]=n)})),i}function a(){r(t,function(t){var n=e.get(t);if(n){var i=je(t.attr("class")),o="",a="";r(n,function(e,t){e!==!!i[t]&&(e?o+=(o.length?" ":"")+t:a+=(a.length?" ":"")+t)}),r(t,function(e){o&&Se(e,o),a&&we(e,a)}),e.remove(t)}}),t.length=0}return{enabled:f,on:f,off:f,pin:f,push:function(r,s,l,u){return u&&u(),l=l||{},l.from&&r.css(l.from),l.to&&r.css(l.to),(l.addClass||l.removeClass)&&(s=l.addClass,u=l.removeClass,l=e.get(r)||{},s=o(l,s,!0),u=o(l,u,!1),(s||u)&&(e.put(r,l),t.push(r),1===t.length&&i.$$postDigest(a))),r=new n,r.complete(),r}}}]},Vr=["$provide",function(e){var t=this;this.$$registeredAnimations=Object.create(null),this.register=function(n,r){if(n&&"."!==n.charAt(0))throw Ur("notcsel",n);var i=n+"-animation";t.$$registeredAnimations[n.substr(1)]=i,e.factory(i,r)},this.classNameFilter=function(e){if(1===arguments.length&&(this.$$classNameFilter=e instanceof RegExp?e:null)&&/(\s+|\/)ng-animate(\s+|\/)/.test(this.$$classNameFilter.toString()))throw Ur("nongcls","ng-animate");return this.$$classNameFilter},this.$get=["$$animateQueue",function(e){function t(e,t,n){if(n){var r;e:{for(r=0;r<n.length;r++){var i=n[r];if(1===i.nodeType){r=i;break e}}r=void 0}!r||r.parentNode||r.previousElementSibling||(n=null)}n?n.after(e):t.prepend(e)}return{on:e.on,off:e.off,pin:e.pin,enabled:e.enabled,cancel:function(e){e.end&&e.end()},enter:function(n,r,i,o){return r=r&&Wn(r),i=i&&Wn(i),r=r||i.parent(),t(n,r,i),e.push(n,"enter",ze(o))},move:function(n,r,i,o){return r=r&&Wn(r),i=i&&Wn(i),r=r||i.parent(),t(n,r,i),e.push(n,"move",ze(o))},leave:function(t,n){return e.push(t,"leave",ze(n),function(){t.remove()})},addClass:function(t,n,r){return r=ze(r),r.addClass=Ue(r.addclass,n),e.push(t,"addClass",r)},removeClass:function(t,n,r){return r=ze(r),r.removeClass=Ue(r.removeClass,n),e.push(t,"removeClass",r)},setClass:function(t,n,r,i){return i=ze(i),i.addClass=Ue(i.addClass,n),i.removeClass=Ue(i.removeClass,r),e.push(t,"setClass",i)},animate:function(t,n,r,i,o){return o=ze(o),o.from=o.from?l(o.from,n):n,o.to=o.to?l(o.to,r):r,o.tempClasses=Ue(o.tempClasses,i||"ng-inline-animate"),e.push(t,"animate",o)}}}]}],Wr=function(){this.$get=["$$rAF",function(e){function t(t){n.push(t),1<n.length||e(function(){for(var e=0;e<n.length;e++)n[e]();n=[]})}var n=[];return function(){var e=!1;return t(function(){e=!0}),function(n){e?n():t(n)}}}]},qr=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$document","$timeout",function(e,t,n,i,o){function a(e){this.setHost(e);var t=n();this._doneCallbacks=[],this._tick=function(e){var n=i[0];n&&n.hidden?o(e,0,!1):t(e)},this._state=0}return a.chain=function(e,t){function n(){r===e.length?t(!0):e[r](function(e){!1===e?t(!1):(r++,n())})}var r=0;n()},a.all=function(e,t){function n(n){o=o&&n,++i===e.length&&t(o)}var i=0,o=!0;r(e,function(e){e.done(n)})},a.prototype={setHost:function(e){this.host=e||{}},done:function(e){2===this._state?e():this._doneCallbacks.push(e)},progress:f,getPromise:function(){if(!this.promise){var t=this;this.promise=e(function(e,n){t.done(function(t){!1===t?n():e()})})}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},"catch":function(e){return this.getPromise()["catch"](e)},"finally":function(e){return this.getPromise()["finally"](e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;0===t._state&&(t._state=1,t._tick(function(){t._resolve(e)}))},_resolve:function(e){2!==this._state&&(r(this._doneCallbacks,function(t){t(e)}),this._doneCallbacks.length=0,this._state=2)}},a}]},Yr=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(e,t,n){return function(t,r){function i(){return e(function(){o.addClass&&(t.addClass(o.addClass),o.addClass=null),o.removeClass&&(t.removeClass(o.removeClass),o.removeClass=null),o.to&&(t.css(o.to),o.to=null),a||s.complete(),a=!0}),s}var o=r||{};o.$$prepared||(o=O(o)),o.cleanupStyles&&(o.from=o.to=null),o.from&&(t.css(o.from),o.from=null);var a,s=new n;return{start:i,end:i}}}]},Gr=t("$compile"),Kr=new function(){};Ge.$inject=["$provide","$$sanitizeUriProvider"],Ke.prototype.isFirstChange=function(){return this.previousValue===Kr};var Xr=/^((?:x|data)[\:\-_])/i,Zr=t("$controller"),Qr=/^(\S+)(\s+as\s+([\w$]+))?$/,Jr=function(){this.$get=["$document",function(e){return function(t){return t?!t.nodeType&&t instanceof Wn&&(t=t[0]):t=e[0].body,t.offsetWidth+1}}]},ei="application/json",ti={"Content-Type":ei+";charset=utf-8"},ni=/^\[|^\{(?!\{)/,ri={"[":/]$/,"{":/}$/},ii=/^\)\]\}',?\n/,oi=t("$http"),ai=function(e){return function(){throw oi("legacy",e)}},si=ir.$interpolateMinErr=t("$interpolate");si.throwNoconcat=function(e){throw si("noconcat",e)},si.interr=function(e,t){return si("interr",e,t.toString())};var li=function(){this.$get=["$window",function(e){function t(e){var t=function(e){t.data=e,t.called=!0};return t.id=e,t}var n=e.angular.callbacks,r={};return{createCallback:function(e){e="_"+(n.$$counter++).toString(36);var i="angular.callbacks."+e,o=t(e);return r[i]=n[e]=o,i},wasCalled:function(e){return r[e].called},getResponse:function(e){return r[e].data},removeCallback:function(e){delete n[r[e].id],delete r[e]}}}]},ui=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,ci={http:80,https:443,ftp:21},di=t("$location"),fi={$$absUrl:"",$$html5:!1,$$replace:!1,absUrl:Ct("$$absUrl"),url:function(e){if(m(e))return this.$$url;var t=ui.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:Ct("$$protocol"),host:Ct("$$host"),port:Ct("$$port"),path:Tt("$$path",function(e){return e=null!==e?e.toString():"","/"==e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if($(e)||E(e))e=e.toString(),this.$$search=V(e);else{if(!y(e))throw di("isrcharg");e=O(e,{}),r(e,function(t,n){null==t&&delete e[n]}),this.$$search=e}break;default:m(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:Tt("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};r([xt,St,wt],function(e){e.prototype=Object.create(fi),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==wt||!this.$$html5)throw di("nostate");return this.$$state=m(t)?null:t,this}});var hi=t("$parse"),pi=Function.prototype.call,gi=Function.prototype.apply,mi=Function.prototype.bind,vi=ae();r("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(e){vi[e]=!0});var yi={n:"\n",f:"\f",r:"\r",t:"\t",v:"\x0B","'":"'",'"':'"'},bi=function(e){this.options=e};bi.prototype={constructor:bi,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;)if(e=this.text.charAt(this.index),'"'===e||"'"===e)this.readString(e);else if(this.isNumber(e)||"."===e&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var t=e+this.peek(),n=t+this.peek(2),r=vi[t],i=vi[n];vi[e]||r||i?(e=i?n:r?t:e,this.tokens.push({index:this.index,text:e,operator:!0}),this.index+=e.length):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){return e=e||1,this.index+e<this.text.length&&this.text.charAt(this.index+e)},isNumber:function(e){return"0"<=e&&"9">=e&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"\t"===e||"\n"===e||"\x0B"===e||" "===e},isIdentifierStart:function(e){return this.options.isIdentifierStart?this.options.isIdentifierStart(e,this.codePointAt(e)):this.isValidIdentifierStart(e)},isValidIdentifierStart:function(e){return"a"<=e&&"z">=e||"A"<=e&&"Z">=e||"_"===e||"$"===e},isIdentifierContinue:function(e){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(e,this.codePointAt(e)):this.isValidIdentifierContinue(e)},isValidIdentifierContinue:function(e,t){return this.isValidIdentifierStart(e,t)||this.isNumber(e)},codePointAt:function(e){return 1===e.length?e.charCodeAt(0):(e.charCodeAt(0)<<10)+e.charCodeAt(1)-56613888},peekMultichar:function(){var e=this.text.charAt(this.index),t=this.peek();if(!t)return e;var n=e.charCodeAt(0),r=t.charCodeAt(0);return 55296<=n&&56319>=n&&56320<=r&&57343>=r?e+t:e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){throw n=n||this.index,t=v(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n,
hi("lexerr",e,t,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=Xn(this.text.charAt(this.index));if("."==n||this.isNumber(n))e+=n;else{var r=this.peek();if("e"==n&&this.isExpOperator(r))e+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"==e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!=e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){var e=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var t=this.peekMultichar();if(!this.isIdentifierContinue(t))break;this.index+=t.length}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",r=e,i=!1;this.index<this.text.length;){var o=this.text.charAt(this.index),r=r+o;if(i)"u"===o?(i=this.text.substring(this.index+1,this.index+5),i.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+i+"]"),this.index+=4,n+=String.fromCharCode(parseInt(i,16))):n+=yi[o]||o,i=!1;else if("\\"===o)i=!0;else{if(o===e)return this.index++,void this.tokens.push({index:t,text:r,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",t)}};var $i=function(e,t){this.lexer=e,this.options=t};$i.Program="Program",$i.ExpressionStatement="ExpressionStatement",$i.AssignmentExpression="AssignmentExpression",$i.ConditionalExpression="ConditionalExpression",$i.LogicalExpression="LogicalExpression",$i.BinaryExpression="BinaryExpression",$i.UnaryExpression="UnaryExpression",$i.CallExpression="CallExpression",$i.MemberExpression="MemberExpression",$i.Identifier="Identifier",$i.Literal="Literal",$i.ArrayExpression="ArrayExpression",$i.Property="Property",$i.ObjectExpression="ObjectExpression",$i.ThisExpression="ThisExpression",$i.LocalsExpression="LocalsExpression",$i.NGValueParameter="NGValueParameter",$i.prototype={ast:function(e){return this.text=e,this.tokens=this.lexer.lex(e),e=this.program(),0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e},program:function(){for(var e=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:$i.Program,body:e}},expressionStatement:function(){return{type:$i.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e=this.expression();this.expect("|");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();return this.expect("=")&&(e={type:$i.AssignmentExpression,left:e,right:this.assignment(),operator:"="}),e},ternary:function(){var e,t,n=this.logicalOR();return this.expect("?")&&(e=this.expression(),this.consume(":"))?(t=this.expression(),{type:$i.ConditionalExpression,test:n,alternate:e,consequent:t}):n},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:$i.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:$i.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t={type:$i.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t={type:$i.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t={type:$i.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t={type:$i.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:$i.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e;this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?e=O(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?e={type:$i.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());for(var t;t=this.expect("(","[",".");)"("===t.text?(e={type:$i.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:$i.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:$i.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){e=[e];for(var t={type:$i.CallExpression,callee:this.identifier(),arguments:e,filter:!0};this.expect(":");)e.push(this.expression());return t},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)do e.push(this.filterChain());while(this.expect(","));return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:$i.Identifier,name:e.text}},constant:function(){return{type:$i.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:$i.ArrayExpression,elements:e}},object:function(){var e,t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;e={type:$i.Property,kind:"init"},this.peek().constant?(e.key=this.constant(),e.computed=!1,this.consume(":"),e.value=this.expression()):this.peek().identifier?(e.key=this.identifier(),e.computed=!1,this.peek(":")?(this.consume(":"),e.value=this.expression()):e.value=e.key):this.peek("[")?(this.consume("["),e.key=this.expression(),this.consume("]"),e.computed=!0,this.consume(":"),e.value=this.expression()):this.throwError("invalid key",this.peek()),t.push(e)}while(this.expect(","));return this.consume("}"),{type:$i.ObjectExpression,properties:t}},throwError:function(e,t){throw hi("syntax",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw hi("ueoe",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw hi("ueoe",this.text);return this.tokens[0]},peek:function(e,t,n,r){return this.peekAhead(0,e,t,n,r)},peekAhead:function(e,t,n,r,i){if(this.tokens.length>e){e=this.tokens[e];var o=e.text;if(o===t||o===n||o===r||o===i||!(t||n||r||i))return e}return!1},expect:function(e,t,n,r){return!!(e=this.peek(e,t,n,r))&&(this.tokens.shift(),e)},selfReferential:{"this":{type:$i.ThisExpression},$locals:{type:$i.LocalsExpression}}},Ut.prototype={compile:function(e,t){var n=this,i=this.astBuilder.ast(e);this.state={nextId:0,filters:{},expensiveChecks:t,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},It(i,n.$filter);var o,a="";return this.stage="assign",(o=Ht(i))&&(this.state.computing="assign",a=this.nextId(),this.recurse(o,a),this.return_(a),a="fn.assign="+this.generateFunction("assign","s,v,l")),o=Lt(i.body),n.stage="inputs",r(o,function(e,t){var r="fn"+t;n.state[r]={vars:[],body:[],own:{}},n.state.computing=r;var i=n.nextId();n.recurse(e,i),n.return_(i),n.state.inputs.push(r),e.watchId=t}),this.state.computing="fn",this.stage="main",this.recurse(i),a='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+a+this.watchFns()+"return fn;",a=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",a)(this.$filter,Nt,At,Mt,_t,Ot,Ft,Rt,e),this.state=this.stage=void 0,a.literal=Bt(i),a.constant=i.constant,a},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,n=this;return r(t,function(t){e.push("var "+t+"="+n.generateFunction(t,"s"))}),t.length&&e.push("fn.inputs=["+t.join(",")+"];"),e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var e=[],t=this;return r(this.state.filters,function(n,r){e.push(n+"=$filter("+t.escape(r)+")")}),e.length?"var "+e.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(e,t,n,i,o,a){var s,l,u,c,d,h=this;if(i=i||f,!a&&v(e.watchId))t=t||this.nextId(),this.if_("i",this.lazyAssign(t,this.computedMember("i",e.watchId)),this.lazyRecurse(e,t,n,i,o,!0));else switch(e.type){case $i.Program:r(e.body,function(t,n){h.recurse(t.expression,void 0,void 0,function(e){l=e}),n!==e.body.length-1?h.current().body.push(l,";"):h.return_(l)});break;case $i.Literal:c=this.escape(e.value),this.assign(t,c),i(c);break;case $i.UnaryExpression:this.recurse(e.argument,void 0,void 0,function(e){l=e}),c=e.operator+"("+this.ifDefined(l,0)+")",this.assign(t,c),i(c);break;case $i.BinaryExpression:this.recurse(e.left,void 0,void 0,function(e){s=e}),this.recurse(e.right,void 0,void 0,function(e){l=e}),c="+"===e.operator?this.plus(s,l):"-"===e.operator?this.ifDefined(s,0)+e.operator+this.ifDefined(l,0):"("+s+")"+e.operator+"("+l+")",this.assign(t,c),i(c);break;case $i.LogicalExpression:t=t||this.nextId(),h.recurse(e.left,t),h.if_("&&"===e.operator?t:h.not(t),h.lazyRecurse(e.right,t)),i(t);break;case $i.ConditionalExpression:t=t||this.nextId(),h.recurse(e.test,t),h.if_(t,h.lazyRecurse(e.alternate,t),h.lazyRecurse(e.consequent,t)),i(t);break;case $i.Identifier:t=t||this.nextId(),n&&(n.context="inputs"===h.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",e.name)+"?l:s"),n.computed=!1,n.name=e.name),Nt(e.name),h.if_("inputs"===h.stage||h.not(h.getHasOwnProperty("l",e.name)),function(){h.if_("inputs"===h.stage||"s",function(){o&&1!==o&&h.if_(h.not(h.nonComputedMember("s",e.name)),h.lazyAssign(h.nonComputedMember("s",e.name),"{}")),h.assign(t,h.nonComputedMember("s",e.name))})},t&&h.lazyAssign(t,h.nonComputedMember("l",e.name))),(h.state.expensiveChecks||zt(e.name))&&h.addEnsureSafeObject(t),i(t);break;case $i.MemberExpression:s=n&&(n.context=this.nextId())||this.nextId(),t=t||this.nextId(),h.recurse(e.object,s,void 0,function(){h.if_(h.notNull(s),function(){o&&1!==o&&h.addEnsureSafeAssignContext(s),e.computed?(l=h.nextId(),h.recurse(e.property,l),h.getStringValue(l),h.addEnsureSafeMemberName(l),o&&1!==o&&h.if_(h.not(h.computedMember(s,l)),h.lazyAssign(h.computedMember(s,l),"{}")),c=h.ensureSafeObject(h.computedMember(s,l)),h.assign(t,c),n&&(n.computed=!0,n.name=l)):(Nt(e.property.name),o&&1!==o&&h.if_(h.not(h.nonComputedMember(s,e.property.name)),h.lazyAssign(h.nonComputedMember(s,e.property.name),"{}")),c=h.nonComputedMember(s,e.property.name),(h.state.expensiveChecks||zt(e.property.name))&&(c=h.ensureSafeObject(c)),h.assign(t,c),n&&(n.computed=!1,n.name=e.property.name))},function(){h.assign(t,"undefined")}),i(t)},!!o);break;case $i.CallExpression:t=t||this.nextId(),e.filter?(l=h.filter(e.callee.name),u=[],r(e.arguments,function(e){var t=h.nextId();h.recurse(e,t),u.push(t)}),c=l+"("+u.join(",")+")",h.assign(t,c),i(t)):(l=h.nextId(),s={},u=[],h.recurse(e.callee,l,s,function(){h.if_(h.notNull(l),function(){h.addEnsureSafeFunction(l),r(e.arguments,function(e){h.recurse(e,h.nextId(),void 0,function(e){u.push(h.ensureSafeObject(e))})}),s.name?(h.state.expensiveChecks||h.addEnsureSafeObject(s.context),c=h.member(s.context,s.name,s.computed)+"("+u.join(",")+")"):c=l+"("+u.join(",")+")",c=h.ensureSafeObject(c),h.assign(t,c)},function(){h.assign(t,"undefined")}),i(t)}));break;case $i.AssignmentExpression:if(l=this.nextId(),s={},!Pt(e.left))throw hi("lval");this.recurse(e.left,void 0,s,function(){h.if_(h.notNull(s.context),function(){h.recurse(e.right,l),h.addEnsureSafeObject(h.member(s.context,s.name,s.computed)),h.addEnsureSafeAssignContext(s.context),c=h.member(s.context,s.name,s.computed)+e.operator+l,h.assign(t,c),i(t||c)})},1);break;case $i.ArrayExpression:u=[],r(e.elements,function(e){h.recurse(e,h.nextId(),void 0,function(e){u.push(e)})}),c="["+u.join(",")+"]",this.assign(t,c),i(c);break;case $i.ObjectExpression:u=[],d=!1,r(e.properties,function(e){e.computed&&(d=!0)}),d?(t=t||this.nextId(),this.assign(t,"{}"),r(e.properties,function(e){e.computed?(s=h.nextId(),h.recurse(e.key,s)):s=e.key.type===$i.Identifier?e.key.name:""+e.key.value,l=h.nextId(),h.recurse(e.value,l),h.assign(h.member(t,s,e.computed),l)})):(r(e.properties,function(t){h.recurse(t.value,e.constant?void 0:h.nextId(),void 0,function(e){u.push(h.escape(t.key.type===$i.Identifier?t.key.name:""+t.key.value)+":"+e)})}),c="{"+u.join(",")+"}",this.assign(t,c)),i(t||c);break;case $i.ThisExpression:this.assign(t,"s"),i("s");break;case $i.LocalsExpression:this.assign(t,"l"),i("l");break;case $i.NGValueParameter:this.assign(t,"v"),i("v")}},getHasOwnProperty:function(e,t){var n=e+"."+t,r=this.current().own;return r.hasOwnProperty(n)||(r[n]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),r[n]},assign:function(e,t){if(e)return this.current().body.push(e,"=",t,";"),e},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,n){if(!0===e)t();else{var r=this.current().body;r.push("if(",e,"){"),t(),r.push("}"),n&&(r.push("else{"),n(),r.push("}"))}},not:function(e){return"!("+e+")"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){var n=/[^$_a-zA-Z0-9]/g;return/[$_a-zA-Z][$_a-zA-Z0-9]*/.test(t)?e+"."+t:e+'["'+t.replace(n,this.stringEscapeFn)+'"]'},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},addEnsureSafeObject:function(e){this.current().body.push(this.ensureSafeObject(e),";")},addEnsureSafeMemberName:function(e){this.current().body.push(this.ensureSafeMemberName(e),";")},addEnsureSafeFunction:function(e){this.current().body.push(this.ensureSafeFunction(e),";")},addEnsureSafeAssignContext:function(e){this.current().body.push(this.ensureSafeAssignContext(e),";")},ensureSafeObject:function(e){return"ensureSafeObject("+e+",text)"},ensureSafeMemberName:function(e){return"ensureSafeMemberName("+e+",text)"},ensureSafeFunction:function(e){return"ensureSafeFunction("+e+",text)"},getStringValue:function(e){this.assign(e,"getStringValue("+e+")")},ensureSafeAssignContext:function(e){return"ensureSafeAssignContext("+e+",text)"},lazyRecurse:function(e,t,n,r,i,o){var a=this;return function(){a.recurse(e,t,n,r,i,o)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if($(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(E(e))return e.toString();if(!0===e)return"true";if(!1===e)return"false";if(null===e)return"null";if("undefined"==typeof e)return"undefined";throw hi("esc")},nextId:function(e,t){var n="v"+this.state.nextId++;return e||this.current().vars.push(n+(t?"="+t:"")),n},current:function(){return this.state[this.state.computing]}},jt.prototype={compile:function(e,t){var n=this,i=this.astBuilder.ast(e);this.expression=e,this.expensiveChecks=t,It(i,n.$filter);var o,a;(o=Ht(i))&&(a=this.recurse(o)),o=Lt(i.body);var s;o&&(s=[],r(o,function(e,t){var r=n.recurse(e);e.input=r,s.push(r),e.watchId=t}));var l=[];return r(i.body,function(e){l.push(n.recurse(e.expression))}),o=0===i.body.length?f:1===i.body.length?l[0]:function(e,t){var n;return r(l,function(r){n=r(e,t)}),n},a&&(o.assign=function(e,t,n){return a(e,n,t)}),s&&(o.inputs=s),o.literal=Bt(i),o.constant=i.constant,o},recurse:function(e,t,n){var i,o,a,s=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case $i.Literal:return this.value(e.value,t);case $i.UnaryExpression:return o=this.recurse(e.argument),this["unary"+e.operator](o,t);case $i.BinaryExpression:return i=this.recurse(e.left),o=this.recurse(e.right),this["binary"+e.operator](i,o,t);case $i.LogicalExpression:return i=this.recurse(e.left),o=this.recurse(e.right),this["binary"+e.operator](i,o,t);case $i.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),t);case $i.Identifier:return Nt(e.name,s.expression),s.identifier(e.name,s.expensiveChecks||zt(e.name),t,n,s.expression);case $i.MemberExpression:return i=this.recurse(e.object,!1,!!n),e.computed||(Nt(e.property.name,s.expression),o=e.property.name),e.computed&&(o=this.recurse(e.property)),e.computed?this.computedMember(i,o,t,n,s.expression):this.nonComputedMember(i,o,s.expensiveChecks,t,n,s.expression);case $i.CallExpression:return a=[],r(e.arguments,function(e){a.push(s.recurse(e))}),e.filter&&(o=this.$filter(e.callee.name)),e.filter||(o=this.recurse(e.callee,!0)),e.filter?function(e,n,r,i){for(var s=[],l=0;l<a.length;++l)s.push(a[l](e,n,r,i));return e=o.apply(void 0,s,i),t?{context:void 0,name:void 0,value:e}:e}:function(e,n,r,i){var l,u=o(e,n,r,i);if(null!=u.value){At(u.context,s.expression),Mt(u.value,s.expression),l=[];for(var c=0;c<a.length;++c)l.push(At(a[c](e,n,r,i),s.expression));l=At(u.value.apply(u.context,l),s.expression)}return t?{value:l}:l};case $i.AssignmentExpression:return i=this.recurse(e.left,!0,1),o=this.recurse(e.right),function(e,n,r,a){var l=i(e,n,r,a);return e=o(e,n,r,a),At(l.value,s.expression),Ot(l.context),l.context[l.name]=e,t?{value:e}:e};case $i.ArrayExpression:return a=[],r(e.elements,function(e){a.push(s.recurse(e))}),function(e,n,r,i){for(var o=[],s=0;s<a.length;++s)o.push(a[s](e,n,r,i));return t?{value:o}:o};case $i.ObjectExpression:return a=[],r(e.properties,function(e){e.computed?a.push({key:s.recurse(e.key),computed:!0,value:s.recurse(e.value)}):a.push({key:e.key.type===$i.Identifier?e.key.name:""+e.key.value,computed:!1,value:s.recurse(e.value)})}),function(e,n,r,i){for(var o={},s=0;s<a.length;++s)a[s].computed?o[a[s].key(e,n,r,i)]=a[s].value(e,n,r,i):o[a[s].key]=a[s].value(e,n,r,i);return t?{value:o}:o};case $i.ThisExpression:return function(e){return t?{value:e}:e};case $i.LocalsExpression:return function(e,n){return t?{value:n}:n};case $i.NGValueParameter:return function(e,n,r){return t?{value:r}:r}}},"unary+":function(e,t){return function(n,r,i,o){return n=e(n,r,i,o),n=v(n)?+n:0,t?{value:n}:n}},"unary-":function(e,t){return function(n,r,i,o){return n=e(n,r,i,o),n=v(n)?-n:0,t?{value:n}:n}},"unary!":function(e,t){return function(n,r,i,o){return n=!e(n,r,i,o),t?{value:n}:n}},"binary+":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a);return r=t(r,i,o,a),s=Rt(s,r),n?{value:s}:s}},"binary-":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a);return r=t(r,i,o,a),s=(v(s)?s:0)-(v(r)?r:0),n?{value:s}:s}},"binary*":function(e,t,n){return function(r,i,o,a){return r=e(r,i,o,a)*t(r,i,o,a),n?{value:r}:r}},"binary/":function(e,t,n){return function(r,i,o,a){return r=e(r,i,o,a)/t(r,i,o,a),n?{value:r}:r}},"binary%":function(e,t,n){return function(r,i,o,a){return r=e(r,i,o,a)%t(r,i,o,a),n?{value:r}:r}},"binary===":function(e,t,n){return function(r,i,o,a){return r=e(r,i,o,a)===t(r,i,o,a),n?{value:r}:r}},"binary!==":function(e,t,n){return function(r,i,o,a){return r=e(r,i,o,a)!==t(r,i,o,a),n?{value:r}:r}},"binary==":function(e,t,n){return function(r,i,o,a){return r=e(r,i,o,a)==t(r,i,o,a),n?{value:r}:r}},"binary!=":function(e,t,n){return function(r,i,o,a){return r=e(r,i,o,a)!=t(r,i,o,a),n?{value:r}:r}},"binary<":function(e,t,n){return function(r,i,o,a){return r=e(r,i,o,a)<t(r,i,o,a),n?{value:r}:r}},"binary>":function(e,t,n){return function(r,i,o,a){return r=e(r,i,o,a)>t(r,i,o,a),n?{value:r}:r}},"binary<=":function(e,t,n){return function(r,i,o,a){return r=e(r,i,o,a)<=t(r,i,o,a),n?{value:r}:r}},"binary>=":function(e,t,n){return function(r,i,o,a){return r=e(r,i,o,a)>=t(r,i,o,a),n?{value:r}:r}},"binary&&":function(e,t,n){return function(r,i,o,a){return r=e(r,i,o,a)&&t(r,i,o,a),n?{value:r}:r}},"binary||":function(e,t,n){return function(r,i,o,a){return r=e(r,i,o,a)||t(r,i,o,a),n?{value:r}:r}},"ternary?:":function(e,t,n,r){return function(i,o,a,s){return i=e(i,o,a,s)?t(i,o,a,s):n(i,o,a,s),r?{value:i}:i}},value:function(e,t){return function(){return t?{context:void 0,name:void 0,value:e}:e}},identifier:function(e,t,n,r,i){return function(o,a,s,l){return o=a&&e in a?a:o,r&&1!==r&&o&&!o[e]&&(o[e]={}),a=o?o[e]:void 0,t&&At(a,i),n?{context:o,name:e,value:a}:a}},computedMember:function(e,t,n,r,i){return function(o,a,s,l){var u,c,d=e(o,a,s,l);return null!=d&&(u=t(o,a,s,l),u+="",Nt(u,i),r&&1!==r&&(Ot(d),d&&!d[u]&&(d[u]={})),c=d[u],At(c,i)),n?{context:d,name:u,value:c}:c}},nonComputedMember:function(e,t,n,r,i,o){return function(a,s,l,u){return a=e(a,s,l,u),i&&1!==i&&(Ot(a),a&&!a[t]&&(a[t]={})),s=null!=a?a[t]:void 0,(n||zt(t))&&At(s,o),r?{context:a,name:t,value:s}:s}},inputs:function(e,t){return function(n,r,i,o){return o?o[t]:e(n,r,i)}}};var Ei=function(e,t,n){this.lexer=e,this.$filter=t,this.options=n,this.ast=new $i(e,n),this.astCompiler=n.csp?new jt(this.ast,t):new Ut(this.ast,t)};Ei.prototype={constructor:Ei,parse:function(e){return this.astCompiler.compile(e,this.options.expensiveChecks)}};var wi=Object.prototype.valueOf,Si=t("$sce"),xi={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Ci=t("$compile"),Ti=e.document.createElement("a"),Di=sn(e.location.href);cn.$inject=["$document"],fn.$inject=["$provide"];var ki=22,Ni=".",_i="0";vn.$inject=["$locale"],yn.$inject=["$locale"];var Ai={yyyy:Sn("FullYear",4,0,!1,!0),yy:Sn("FullYear",2,0,!0,!0),y:Sn("FullYear",1,0,!1,!0),MMMM:xn("Month"),MMM:xn("Month",!0),MM:Sn("Month",2,1),M:Sn("Month",1,1),LLLL:xn("Month",!1,!0),dd:Sn("Date",2),d:Sn("Date",1),HH:Sn("Hours",2),H:Sn("Hours",1),hh:Sn("Hours",2,-12),h:Sn("Hours",1,-12),mm:Sn("Minutes",2),m:Sn("Minutes",1),ss:Sn("Seconds",2),s:Sn("Seconds",1),sss:Sn("Milliseconds",3),EEEE:xn("Day"),EEE:xn("Day",!0),a:function(e,t){return 12>e.getHours()?t.AMPMS[0]:t.AMPMS[1]},Z:function(e,t,n){return e=-1*n,e=(0<=e?"+":"")+(wn(Math[0<e?"floor":"ceil"](e/60),2)+wn(Math.abs(e%60),2))},ww:Tn(2),w:Tn(1),G:Dn,GG:Dn,GGG:Dn,GGGG:function(e,t){return 0>=e.getFullYear()?t.ERANAMES[0]:t.ERANAMES[1]}},Mi=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,Oi=/^\-?\d+$/;kn.$inject=["$locale"];var Fi=p(Xn),Ri=p(Zn);Mn.$inject=["$parse"];var Ii=p({restrict:"E",compile:function(e,t){if(!t.href&&!t.xlinkHref)return function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===tr.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}}),Li={};r(Ar,function(e,t){function n(e,n,i){e.$watch(i[r],function(e){i.$set(t,!!e)})}if("multiple"!=e){var r=Xe("ng-"+t),i=n;"checked"===e&&(i=function(e,t,i){i.ngModel!==i[r]&&n(e,t,i)}),Li[r]=function(){return{restrict:"A",priority:100,link:i}}}}),r(Or,function(e,t){Li[t]=function(){return{priority:100,link:function(e,n,r){return"ngPattern"===t&&"/"==r.ngPattern.charAt(0)&&(n=r.ngPattern.match(Gn))?void r.$set("ngPattern",new RegExp(n[1],n[2])):void e.$watch(r[t],function(e){r.$set(t,e)})}}}}),r(["src","srcset","href"],function(e){var t=Xe("ng-"+e);Li[t]=function(){return{priority:99,link:function(n,r,i){var o=e,a=e;"href"===e&&"[object SVGAnimatedString]"===tr.call(r.prop("href"))&&(a="xlinkHref",i.$attr[a]="xlink:href",o=null),i.$observe(t,function(t){t?(i.$set(a,t),Vn&&o&&r.prop(o,i[a])):"href"===e&&i.$set(a,null)})}}}});var Pi={$addControl:f,$$renameControl:function(e,t){e.$name=t},$removeControl:f,$setValidity:f,$setDirty:f,$setPristine:f,$setSubmitted:f};Fn.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var Hi=function(e){return["$timeout","$parse",function(t,n){function r(e){return""===e?n('this[""]').assign:n(e).assign||f}return{name:"form",restrict:e?"EAC":"E",require:["form","^^?form"],controller:Fn,compile:function(n,i){n.addClass(Eo).addClass(bo);var o=i.name?"name":!(!e||!i.ngForm)&&"ngForm";return{pre:function(e,n,i,a){var s=a[0];if(!("action"in i)){var u=function(t){e.$apply(function(){s.$commitViewValue(),s.$setSubmitted()}),t.preventDefault()};n[0].addEventListener("submit",u,!1),n.on("$destroy",function(){t(function(){n[0].removeEventListener("submit",u,!1)},0,!1)})}(a[1]||s.$$parentForm).$addControl(s);var c=o?r(s.$name):f;o&&(c(e,s),i.$observe(o,function(t){s.$name!==t&&(c(e,void 0),s.$$parentForm.$$renameControl(s,t),(c=r(s.$name))(e,s))})),n.on("$destroy",function(){s.$$parentForm.$removeControl(s),c(e,void 0),l(s,Pi)})}}}}}]},Bi=Hi(),Ui=Hi(!0),ji=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,zi=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:\/?#]+|\[[a-f\d:]+\])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,Vi=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,Wi=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,qi=/^(\d{4,})-(\d{2})-(\d{2})$/,Yi=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Gi=/^(\d{4,})-W(\d\d)$/,Ki=/^(\d{4,})-(\d\d)$/,Xi=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Zi=ae();r(["date","datetime-local","month","time","week"],function(e){Zi[e]=!0});var Qi={text:function(e,t,n,r,i,o){In(e,t,n,r,i,o),Rn(r)},date:Pn("date",qi,Ln(qi,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":Pn("datetimelocal",Yi,Ln(Yi,"yyyy MM dd HH mm ss sss".split(" ")),"yyyy-MM-ddTHH:mm:ss.sss"),time:Pn("time",Xi,Ln(Xi,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:Pn("week",Gi,function(e,t){if(w(e))return e;if($(e)){Gi.lastIndex=0;var n=Gi.exec(e);if(n){var r=+n[1],i=+n[2],o=n=0,a=0,s=0,l=Cn(r),i=7*(i-1);return t&&(n=t.getHours(),o=t.getMinutes(),a=t.getSeconds(),s=t.getMilliseconds()),new Date(r,0,l.getDate()+i,n,o,a,s)}}return NaN},"yyyy-Www"),month:Pn("month",Ki,Ln(Ki,["yyyy","MM"]),"yyyy-MM"),number:function(e,t,n,r,i,o){if(Hn(e,t,n,r),In(e,t,n,r,i,o),r.$$parserName="number",r.$parsers.push(function(e){return r.$isEmpty(e)?null:Wi.test(e)?parseFloat(e):void 0}),r.$formatters.push(function(e){if(!r.$isEmpty(e)){if(!E(e))throw xo("numfmt",e);e=e.toString()}return e}),v(n.min)||n.ngMin){var a;r.$validators.min=function(e){return r.$isEmpty(e)||m(a)||e>=a},n.$observe("min",function(e){v(e)&&!E(e)&&(e=parseFloat(e)),a=E(e)&&!isNaN(e)?e:void 0,r.$validate()})}if(v(n.max)||n.ngMax){var s;r.$validators.max=function(e){return r.$isEmpty(e)||m(s)||e<=s},n.$observe("max",function(e){v(e)&&!E(e)&&(e=parseFloat(e)),s=E(e)&&!isNaN(e)?e:void 0,r.$validate()})}},url:function(e,t,n,r,i,o){In(e,t,n,r,i,o),Rn(r),r.$$parserName="url",r.$validators.url=function(e,t){var n=e||t;return r.$isEmpty(n)||zi.test(n)}},email:function(e,t,n,r,i,o){In(e,t,n,r,i,o),Rn(r),r.$$parserName="email",r.$validators.email=function(e,t){var n=e||t;return r.$isEmpty(n)||Vi.test(n)}},radio:function(e,t,n,r){m(n.name)&&t.attr("name",++or),t.on("click",function(e){t[0].checked&&r.$setViewValue(n.value,e&&e.type)}),r.$render=function(){t[0].checked=n.value==r.$viewValue},n.$observe("value",r.$render)},checkbox:function(e,t,n,r,i,o,a,s){var l=Bn(s,e,"ngTrueValue",n.ngTrueValue,!0),u=Bn(s,e,"ngFalseValue",n.ngFalseValue,!1);t.on("click",function(e){r.$setViewValue(t[0].checked,e&&e.type)}),r.$render=function(){t[0].checked=r.$viewValue},r.$isEmpty=function(e){return!1===e},r.$formatters.push(function(e){return F(e,l)}),r.$parsers.push(function(e){return e?l:u})},hidden:f,button:f,submit:f,reset:f,file:f},Ji=["$browser","$sniffer","$filter","$parse",function(e,t,n,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(i,o,a,s){s[0]&&(Qi[Xn(a.type)]||Qi.text)(i,o,a,s[0],t,e,n,r)}}}}],eo=/^(true|false|\d+)$/,to=function(){return{restrict:"A",priority:100,compile:function(e,t){return eo.test(t.ngValue)?function(e,t,n){n.$set("value",e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,function(e){n.$set("value",e)})}}}},no=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,n,r){e.$$addBindingInfo(n,r.ngBind),n=n[0],t.$watch(r.ngBind,function(e){n.textContent=m(e)?"":e})}}}}],ro=["$interpolate","$compile",function(e,t){return{compile:function(n){return t.$$addBindingClass(n),function(n,r,i){n=e(r.attr(i.$attr.ngBindTemplate)),t.$$addBindingInfo(r,n.expressions),r=r[0],i.$observe("ngBindTemplate",function(e){r.textContent=m(e)?"":e})}}}}],io=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function(r,i){var o=t(i.ngBindHtml),a=t(i.ngBindHtml,function(t){return e.valueOf(t)});return n.$$addBindingClass(r),function(t,r,i){n.$$addBindingInfo(r,i.ngBindHtml),t.$watch(a,function(){var n=o(t);r.html(e.getTrustedHtml(n)||"")})}}}}],oo=p({restrict:"A",require:"ngModel",link:function(e,t,n,r){r.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),ao=Un("",!0),so=Un("Odd",0),lo=Un("Even",1),uo=On({compile:function(e,t){t.$set("ngCloak",void 0),e.removeClass("ng-cloak")}}),co=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],fo={},ho={blur:!0,focus:!0};r("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=Xe("ng-"+e);fo[t]=["$parse","$rootScope",function(n,r){return{restrict:"A",compile:function(i,o){var a=n(o[t],null,!0);return function(t,n){n.on(e,function(n){var i=function(){a(t,{$event:n})};ho[e]&&r.$$phase?t.$evalAsync(i):t.$apply(i)})}}}}]});var po=["$animate","$compile",function(e,t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,o,a){var s,l,u;n.$watch(i.ngIf,function(n){n?l||a(function(n,o){l=o,n[n.length++]=t.$$createComment("end ngIf",i.ngIf),s={clone:n},e.enter(n,r.parent(),r)}):(u&&(u.remove(),u=null),l&&(l.$destroy(),l=null),s&&(u=oe(s.clone),e.leave(u).then(function(){u=null}),s=null))})}}}],go=["$templateRequest","$anchorScroll","$animate",function(e,t,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:ir.noop,compile:function(r,i){var o=i.ngInclude||i.src,a=i.onload||"",s=i.autoscroll;return function(r,i,l,u,c){var d,f,h,p=0,g=function(){f&&(f.remove(),f=null),d&&(d.$destroy(),d=null),h&&(n.leave(h).then(function(){f=null}),f=h,h=null)};r.$watch(o,function(o){var l=function(){!v(s)||s&&!r.$eval(s)||t()},f=++p;o?(e(o,!0).then(function(e){if(!r.$$destroyed&&f===p){var t=r.$new();u.template=e,e=c(t,function(e){g(),n.enter(e,null,i).then(l)}),d=t,h=e,d.$emit("$includeContentLoaded",o),r.$eval(a)}},function(){r.$$destroyed||f!==p||(g(),r.$emit("$includeContentError",o))}),r.$emit("$includeContentRequested",o)):(g(),u.template=null)})}}}}],mo=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,r,i,o){tr.call(r[0]).match(/SVG/)?(r.empty(),t(fe(o.template,e.document).childNodes)(n,function(e){r.append(e)},{futureParentElement:r})):(r.html(o.template),t(r.contents())(n))}}}],vo=On({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),yo=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,n,i){var o=t.attr(n.$attr.ngList)||", ",a="false"!==n.ngTrim,s=a?lr(o):o;i.$parsers.push(function(e){if(!m(e)){var t=[];return e&&r(e.split(s),function(e){e&&t.push(a?lr(e):e)}),t}}),i.$formatters.push(function(e){if(ar(e))return e.join(o);
}),i.$isEmpty=function(e){return!e||!e.length}}}},bo="ng-valid",$o="ng-invalid",Eo="ng-pristine",wo="ng-dirty",So="ng-pending",xo=t("ngModel"),Co=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(e,t,n,i,o,a,s,l,u,c){this.$modelValue=this.$viewValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=c(n.name||"",!1)(e),this.$$parentForm=Pi;var d,h=o(n.ngModel),p=h.assign,g=h,y=p,b=null,$=this;this.$$setOptions=function(e){if(($.$options=e)&&e.getterSetter){var t=o(n.ngModel+"()"),r=o(n.ngModel+"($$$p)");g=function(e){var n=h(e);return S(n)&&(n=t(e)),n},y=function(e,t){S(h(e))?r(e,{$$$p:t}):p(e,t)}}else if(!h.assign)throw xo("nonassign",n.ngModel,j(i))},this.$render=f,this.$isEmpty=function(e){return m(e)||""===e||null===e||e!==e},this.$$updateEmptyClasses=function(e){$.$isEmpty(e)?(a.removeClass(i,"ng-not-empty"),a.addClass(i,"ng-empty")):(a.removeClass(i,"ng-empty"),a.addClass(i,"ng-not-empty"))};var w=0;jn({ctrl:this,$element:i,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]},$animate:a}),this.$setPristine=function(){$.$dirty=!1,$.$pristine=!0,a.removeClass(i,wo),a.addClass(i,Eo)},this.$setDirty=function(){$.$dirty=!0,$.$pristine=!1,a.removeClass(i,Eo),a.addClass(i,wo),$.$$parentForm.$setDirty()},this.$setUntouched=function(){$.$touched=!1,$.$untouched=!0,a.setClass(i,"ng-untouched","ng-touched")},this.$setTouched=function(){$.$touched=!0,$.$untouched=!1,a.setClass(i,"ng-touched","ng-untouched")},this.$rollbackViewValue=function(){s.cancel(b),$.$viewValue=$.$$lastCommittedViewValue,$.$render()},this.$validate=function(){if(!E($.$modelValue)||!isNaN($.$modelValue)){var e=$.$$rawModelValue,t=$.$valid,n=$.$modelValue,r=$.$options&&$.$options.allowInvalid;$.$$runValidators(e,$.$$lastCommittedViewValue,function(i){r||t===i||($.$modelValue=i?e:void 0,$.$modelValue!==n&&$.$$writeModelToScope())})}},this.$$runValidators=function(e,t,n){function i(){var n=!0;return r($.$validators,function(r,i){var o=r(e,t);n=n&&o,a(i,o)}),!!n||(r($.$asyncValidators,function(e,t){a(t,null)}),!1)}function o(){var n=[],i=!0;r($.$asyncValidators,function(r,o){var s=r(e,t);if(!s||!S(s.then))throw xo("nopromise",s);a(o,void 0),n.push(s.then(function(){a(o,!0)},function(){i=!1,a(o,!1)}))}),n.length?u.all(n).then(function(){s(i)},f):s(!0)}function a(e,t){l===w&&$.$setValidity(e,t)}function s(e){l===w&&n(e)}w++;var l=w;(function(){var e=$.$$parserName||"parse";return m(d)?(a(e,null),!0):(d||(r($.$validators,function(e,t){a(t,null)}),r($.$asyncValidators,function(e,t){a(t,null)})),a(e,d),d)})()&&i()?o():s(!1)},this.$commitViewValue=function(){var e=$.$viewValue;s.cancel(b),($.$$lastCommittedViewValue!==e||""===e&&$.$$hasNativeValidators)&&($.$$updateEmptyClasses(e),$.$$lastCommittedViewValue=e,$.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){var t=$.$$lastCommittedViewValue;if(d=!m(t)||void 0)for(var n=0;n<$.$parsers.length;n++)if(t=$.$parsers[n](t),m(t)){d=!1;break}E($.$modelValue)&&isNaN($.$modelValue)&&($.$modelValue=g(e));var r=$.$modelValue,i=$.$options&&$.$options.allowInvalid;$.$$rawModelValue=t,i&&($.$modelValue=t,$.$modelValue!==r&&$.$$writeModelToScope()),$.$$runValidators(t,$.$$lastCommittedViewValue,function(e){i||($.$modelValue=e?t:void 0,$.$modelValue!==r&&$.$$writeModelToScope())})},this.$$writeModelToScope=function(){y(e,$.$modelValue),r($.$viewChangeListeners,function(e){try{e()}catch(n){t(n)}})},this.$setViewValue=function(e,t){$.$viewValue=e,$.$options&&!$.$options.updateOnDefault||$.$$debounceViewValueCommit(t)},this.$$debounceViewValueCommit=function(t){var n=0,r=$.$options;r&&v(r.debounce)&&(r=r.debounce,E(r)?n=r:E(r[t])?n=r[t]:E(r["default"])&&(n=r["default"])),s.cancel(b),n?b=s(function(){$.$commitViewValue()},n):l.$$phase?$.$commitViewValue():e.$apply(function(){$.$commitViewValue()})},e.$watch(function(){var t=g(e);if(t!==$.$modelValue&&($.$modelValue===$.$modelValue||t===t)){$.$modelValue=$.$$rawModelValue=t,d=void 0;for(var n=$.$formatters,r=n.length,i=t;r--;)i=n[r](i);$.$viewValue!==i&&($.$$updateEmptyClasses(i),$.$viewValue=$.$$lastCommittedViewValue=i,$.$render(),$.$$runValidators(t,i,f))}return t})}],To=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Co,priority:1,compile:function(t){return t.addClass(Eo).addClass("ng-untouched").addClass(bo),{pre:function(e,t,n,r){var i=r[0];t=r[1]||i.$$parentForm,i.$$setOptions(r[2]&&r[2].$options),t.$addControl(i),n.$observe("name",function(e){i.$name!==e&&i.$$parentForm.$$renameControl(i,e)}),e.$on("$destroy",function(){i.$$parentForm.$removeControl(i)})},post:function(t,n,r,i){var o=i[0];o.$options&&o.$options.updateOn&&n.on(o.$options.updateOn,function(e){o.$$debounceViewValueCommit(e&&e.type)}),n.on("blur",function(){o.$touched||(e.$$phase?t.$evalAsync(o.$setTouched):t.$apply(o.$setTouched))})}}}}}],Do=/(\s+|^)default(\s+|$)/,ko=function(){return{restrict:"A",controller:["$scope","$attrs",function(e,t){var n=this;this.$options=O(e.$eval(t.ngModelOptions)),v(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=lr(this.$options.updateOn.replace(Do,function(){return n.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},No=On({terminal:!0,priority:1e3}),_o=t("ngOptions"),Ao=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,Mo=["$compile","$document","$parse",function(t,i,o){function a(e,t,r){function i(e,t,n,r,i){this.selectValue=e,this.viewValue=t,this.label=n,this.group=r,this.disabled=i}function a(e){var t;if(!u&&n(e))t=e;else{t=[];for(var r in e)e.hasOwnProperty(r)&&"$"!==r.charAt(0)&&t.push(r)}return t}var s=e.match(Ao);if(!s)throw _o("iexp",e,j(t));var l=s[5]||s[7],u=s[6];e=/ as /.test(s[0])&&s[1];var c=s[9];t=o(s[2]?s[1]:l);var d=e&&o(e)||t,f=c&&o(c),h=c?function(e,t){return f(r,t)}:function(e){return Re(e)},p=function(e,t){return h(e,$(e,t))},g=o(s[2]||s[1]),m=o(s[3]||""),v=o(s[4]||""),y=o(s[8]),b={},$=u?function(e,t){return b[u]=t,b[l]=e,b}:function(e){return b[l]=e,b};return{trackBy:c,getTrackByValue:p,getWatchables:o(y,function(e){var t=[];e=e||[];for(var n=a(e),i=n.length,o=0;o<i;o++){var l=e===n?o:n[o],u=e[l],l=$(u,l),u=h(u,l);t.push(u),(s[2]||s[1])&&(u=g(r,l),t.push(u)),s[4]&&(l=v(r,l),t.push(l))}return t}),getOptions:function(){for(var e=[],t={},n=y(r)||[],o=a(n),s=o.length,l=0;l<s;l++){var u=n===o?l:o[l],f=$(n[u],u),b=d(r,f),u=h(b,f),E=g(r,f),w=m(r,f),f=v(r,f),b=new i(u,b,E,w,f);e.push(b),t[u]=b}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[p(e)]},getViewValueFromOption:function(e){return c?ir.copy(e.viewValue):e.viewValue}}}}}var s=e.document.createElement("option"),l=e.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(e,t,n,r){r[0].registerOption=f},post:function(e,n,o,u){function c(e,t){e.element=t,t.disabled=e.disabled,e.label!==t.label&&(t.label=e.label,t.textContent=e.label),e.value!==t.value&&(t.value=e.selectValue)}function d(){var e=E&&h.readValue();if(E)for(var t=E.items.length-1;0<=t;t--){var r=E.items[t];ke(v(r.group)?r.element.parentNode:r.element)}E=w.getOptions();var i={};b&&n.prepend(f),E.items.forEach(function(e){var t;if(v(e.group)){t=i[e.group],t||(t=l.cloneNode(!1),S.appendChild(t),t.label=null===e.group?"null":e.group,i[e.group]=t);var n=s.cloneNode(!1)}else t=S,n=s.cloneNode(!1);t.appendChild(n),c(e,n)}),n[0].appendChild(S),p.$render(),p.$isEmpty(e)||(t=h.readValue(),(w.trackBy||g?F(e,t):e===t)||(p.$setViewValue(t),p.$render()))}var f,h=u[0],p=u[1],g=o.multiple;u=0;for(var m=n.children(),y=m.length;u<y;u++)if(""===m[u].value){f=m.eq(u);break}var b=!!f,$=Wn(s.cloneNode(!1));$.val("?");var E,w=a(o.ngOptions,n,e),S=i[0].createDocumentFragment();g?(p.$isEmpty=function(e){return!e||0===e.length},h.writeValue=function(e){E.items.forEach(function(e){e.element.selected=!1}),e&&e.forEach(function(e){(e=E.getOptionFromViewValue(e))&&(e.element.selected=!0)})},h.readValue=function(){var e=n.val()||[],t=[];return r(e,function(e){(e=E.selectValueMap[e])&&!e.disabled&&t.push(E.getViewValueFromOption(e))}),t},w.trackBy&&e.$watchCollection(function(){if(ar(p.$viewValue))return p.$viewValue.map(function(e){return w.getTrackByValue(e)})},function(){p.$render()})):(h.writeValue=function(e){var t=E.getOptionFromViewValue(e);t?(n[0].value!==t.selectValue&&($.remove(),b||f.remove(),n[0].value=t.selectValue,t.element.selected=!0),t.element.setAttribute("selected","selected")):null===e||b?($.remove(),b||n.prepend(f),n.val(""),f.prop("selected",!0),f.attr("selected",!0)):(b||f.remove(),n.prepend($),n.val("?"),$.prop("selected",!0),$.attr("selected",!0))},h.readValue=function(){var e=E.selectValueMap[n.val()];return e&&!e.disabled?(b||f.remove(),$.remove(),E.getViewValueFromOption(e)):null},w.trackBy&&e.$watch(function(){return w.getTrackByValue(p.$viewValue)},function(){p.$render()})),b?(f.remove(),t(f)(e),f.removeClass("ng-scope")):f=Wn(s.cloneNode(!1)),n.empty(),d(),e.$watchCollection(w.getWatchables,d)}}}}],Oo=["$locale","$interpolate","$log",function(e,t,n){var i=/{}/g,o=/^when(Minus)?(.+)$/;return{link:function(a,s,l){function u(e){s.text(e||"")}var c,d=l.count,h=l.$attr.when&&s.attr(l.$attr.when),p=l.offset||0,g=a.$eval(h)||{},v={},y=t.startSymbol(),b=t.endSymbol(),$=y+d+"-"+p+b,w=ir.noop;r(l,function(e,t){var n=o.exec(t);n&&(n=(n[1]?"-":"")+Xn(n[2]),g[n]=s.attr(l.$attr[t]))}),r(g,function(e,n){v[n]=t(e.replace(i,$))}),a.$watch(d,function(t){var r=parseFloat(t),i=isNaN(r);i||r in g||(r=e.pluralCat(r-p)),r===c||i&&E(c)&&isNaN(c)||(w(),i=v[r],m(i)?(null!=t&&n.debug("ngPluralize: no rule defined for '"+r+"' in "+h),w=f,u()):w=a.$watch(i,u),c=r)})}}}],Fo=["$parse","$animate","$compile",function(e,i,o){var a=t("ngRepeat"),s=function(e,t,n,r,i,o,a){e[n]=r,i&&(e[i]=o),e.$index=t,e.$first=0===t,e.$last=t===a-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0===(1&t))};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(t,l){var u=l.ngRepeat,c=o.$$createComment("end ngRepeat",u),d=u.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!d)throw a("iexp",u);var f=d[1],h=d[2],p=d[3],g=d[4],d=f.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/);if(!d)throw a("iidexp",f);var m=d[3]||d[1],v=d[2];if(p&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(p)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(p)))throw a("badident",p);var y,b,$,E,w={$id:Re};return g?y=e(g):($=function(e,t){return Re(t)},E=function(e){return e}),function(e,t,o,l,d){y&&(b=function(t,n,r){return v&&(w[v]=t),w[m]=n,w.$index=r,y(e,w)});var f=ae();e.$watchCollection(h,function(o){var l,h,g,y,w,S,x,C,T,D,k=t[0],N=ae();if(p&&(e[p]=o),n(o))C=o,h=b||$;else for(D in h=b||E,C=[],o)Kn.call(o,D)&&"$"!==D.charAt(0)&&C.push(D);for(y=C.length,D=Array(y),l=0;l<y;l++)if(w=o===C?l:C[l],S=o[w],x=h(w,S,l),f[x])T=f[x],delete f[x],N[x]=T,D[l]=T;else{if(N[x])throw r(D,function(e){e&&e.scope&&(f[e.id]=e)}),a("dupes",u,x,S);D[l]={id:x,scope:void 0,clone:void 0},N[x]=!0}for(g in f){if(T=f[g],x=oe(T.clone),i.leave(x),x[0].parentNode)for(l=0,h=x.length;l<h;l++)x[l].$$NG_REMOVED=!0;T.scope.$destroy()}for(l=0;l<y;l++)if(w=o===C?l:C[l],S=o[w],T=D[l],T.scope){g=k;do g=g.nextSibling;while(g&&g.$$NG_REMOVED);T.clone[0]!=g&&i.move(oe(T.clone),null,k),k=T.clone[T.clone.length-1],s(T.scope,l,m,S,v,w,y)}else d(function(e,t){T.scope=t;var n=c.cloneNode(!1);e[e.length++]=n,i.enter(e,null,k),k=n,T.clone=e,N[T.id]=T,s(T.scope,l,m,S,v,w,y)});f=N})}}}}],Ro=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngShow,function(t){e[t?"removeClass":"addClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],Io=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngHide,function(t){e[t?"addClass":"removeClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],Lo=On(function(e,t,n){e.$watch(n.ngStyle,function(e,n){n&&e!==n&&r(n,function(e,n){t.css(n,"")}),e&&t.css(e)},!0)}),Po=["$animate","$compile",function(e,t){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,i,o,a){var s=[],l=[],u=[],c=[],d=function(e,t){return function(){e.splice(t,1)}};n.$watch(o.ngSwitch||o.on,function(n){var i,o;for(i=0,o=u.length;i<o;++i)e.cancel(u[i]);for(i=u.length=0,o=c.length;i<o;++i){var f=oe(l[i].clone);c[i].$destroy(),(u[i]=e.leave(f)).then(d(u,i))}l.length=0,c.length=0,(s=a.cases["!"+n]||a.cases["?"])&&r(s,function(n){n.transclude(function(r,i){c.push(i);var o=n.element;r[r.length++]=t.$$createComment("end ngSwitchWhen"),l.push({clone:r}),e.enter(r,o.parent(),o)})})})}}}],Ho=On({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){r.cases["!"+n.ngSwitchWhen]=r.cases["!"+n.ngSwitchWhen]||[],r.cases["!"+n.ngSwitchWhen].push({transclude:i,element:t})}}),Bo=On({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:t})}}),Uo=t("ngTransclude"),jo=["$compile",function(e){return{restrict:"EAC",terminal:!0,compile:function(t){var n=e(t.contents());return t.empty(),function(e,t,r,i,o){function a(){n(e,function(e){t.append(e)})}if(!o)throw Uo("orphan",j(t));r.ngTransclude===r.$attr.ngTransclude&&(r.ngTransclude=""),r=r.ngTransclude||r.ngTranscludeSlot,o(function(e,n){e.length?t.append(e):(a(),n.$destroy())},null,r),r&&!o.isSlotFilled(r)&&a()}}}}],zo=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){"text/ng-template"==n.type&&e.put(n.id,t[0].text)}}}],Vo={$setViewValue:f,$render:f},Wo=["$element","$scope",function(t,n){var r=this,i=new Ie;r.ngModelCtrl=Vo,r.unknownOption=Wn(e.document.createElement("option")),r.renderUnknownOption=function(e){e="? "+Re(e)+" ?",r.unknownOption.val(e),t.prepend(r.unknownOption),t.val(e)},n.$on("$destroy",function(){r.renderUnknownOption=f}),r.removeUnknownOption=function(){r.unknownOption.parent()&&r.unknownOption.remove()},r.readValue=function(){return r.removeUnknownOption(),t.val()},r.writeValue=function(e){r.hasOption(e)?(r.removeUnknownOption(),t.val(e),""===e&&r.emptyOption.prop("selected",!0)):null==e&&r.emptyOption?(r.removeUnknownOption(),t.val("")):r.renderUnknownOption(e)},r.addOption=function(e,t){if(8!==t[0].nodeType){re(e,'"option value"'),""===e&&(r.emptyOption=t);var n=i.get(e)||0;i.put(e,n+1),r.ngModelCtrl.$render(),t[0].hasAttribute("selected")&&(t[0].selected=!0)}},r.removeOption=function(e){var t=i.get(e);t&&(1===t?(i.remove(e),""===e&&(r.emptyOption=void 0)):i.put(e,t-1))},r.hasOption=function(e){return!!i.get(e)},r.registerOption=function(e,t,n,i,o){if(i){var a;n.$observe("value",function(e){v(a)&&r.removeOption(a),a=e,r.addOption(e,t)})}else o?e.$watch(o,function(e,i){n.$set("value",e),i!==e&&r.removeOption(i),r.addOption(e,t)}):r.addOption(n.value,t);t.on("$destroy",function(){r.removeOption(n.value),r.ngModelCtrl.$render()})}}],qo=function(){return{restrict:"E",require:["select","?ngModel"],controller:Wo,priority:1,link:{pre:function(e,t,n,i){var o=i[1];if(o){var a=i[0];if(a.ngModelCtrl=o,t.on("change",function(){e.$apply(function(){o.$setViewValue(a.readValue())})}),n.multiple){a.readValue=function(){var e=[];return r(t.find("option"),function(t){t.selected&&e.push(t.value)}),e},a.writeValue=function(e){var n=new Ie(e);r(t.find("option"),function(e){e.selected=v(n.get(e.value))})};var s,l=NaN;e.$watch(function(){l!==o.$viewValue||F(s,o.$viewValue)||(s=le(o.$viewValue),o.$render()),l=o.$viewValue}),o.$isEmpty=function(e){return!e||0===e.length}}}},post:function(e,t,n,r){var i=r[1];if(i){var o=r[0];i.$render=function(){o.writeValue(i.$viewValue)}}}}}},Yo=["$interpolate",function(e){return{restrict:"E",priority:100,compile:function(t,n){if(v(n.value))var r=e(n.value,!0);else{var i=e(t.text(),!0);i||n.$set("value",t.text())}return function(e,t,n){var o=t.parent();(o=o.data("$selectController")||o.parent().data("$selectController"))&&o.registerOption(e,t,n,r,i)}}}}],Go=p({restrict:"E",terminal:!1}),Ko=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){r&&(n.required=!0,r.$validators.required=function(e,t){return!n.required||!r.$isEmpty(t)},n.$observe("required",function(){r.$validate()}))}}},Xo=function(){return{restrict:"A",require:"?ngModel",link:function(e,n,r,i){if(i){var o,a=r.ngPattern||r.pattern;r.$observe("pattern",function(e){if($(e)&&0<e.length&&(e=new RegExp("^"+e+"$")),e&&!e.test)throw t("ngPattern")("noregexp",a,e,j(n));o=e||void 0,i.$validate()}),i.$validators.pattern=function(e,t){return i.$isEmpty(t)||m(o)||o.test(t)}}}}},Zo=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=-1;n.$observe("maxlength",function(e){e=c(e),i=isNaN(e)?-1:e,r.$validate()}),r.$validators.maxlength=function(e,t){return 0>i||r.$isEmpty(t)||t.length<=i}}}}},Qo=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=0;n.$observe("minlength",function(e){i=c(e)||0,r.$validate()}),r.$validators.minlength=function(e,t){return r.$isEmpty(t)||t.length>=i}}}}};e.angular.bootstrap?e.console&&console.log("WARNING: Tried to load angular more than once."):(ee(),ue(ir),ir.module("ngLocale",[],["$provide",function(e){function t(e){e+="";var t=e.indexOf(".");return-1==t?0:e.length-t-1}e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:"January February March April May June July August September October November December".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONEMONTH:"January February March April May June July August September October November December".split(" "),WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(e,n){var r=0|e,i=n;return void 0===i&&(i=Math.min(t(e),3)),Math.pow(10,i),1==r&&0==i?"one":"other"}})}]),Wn(e.document).ready(function(){K(e.document,X)}))}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),angular.module("ngLocale",[],["$provide",function(e){function t(e){e+="";var t=e.indexOf(".");return t==-1?0:e.length-t-1}function n(e,n){var r=n;void 0===r&&(r=Math.min(t(e),3));var i=Math.pow(10,r),o=(e*i|0)%i;return{v:r,f:o}}var r={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};e.value("$locale",{DATETIME_FORMATS:{AMPMS:["ДП","ПП"],DAY:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"],ERANAMES:["до Рождества Христова","от Рождества Христова"],ERAS:["до н. э.","н. э."],FIRSTDAYOFWEEK:0,MONTH:["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"],SHORTDAY:["вс","пн","вт","ср","чт","пт","сб"],SHORTMONTH:["янв.","февр.","мар.","апр.","мая","июн.","июл.","авг.","сент.","окт.","нояб.","дек."],STANDALONEMONTH:["январь","февраль","март","апрель","май","июнь","июль","август","сентябрь","октябрь","ноябрь","декабрь"],WEEKENDRANGE:[5,6],fullDate:"EEEE, d MMMM y 'г'.",longDate:"d MMMM y 'г'.",medium:"d MMM y 'г'. H:mm:ss",mediumDate:"d MMM y 'г'.",mediumTime:"H:mm:ss","short":"dd.MM.yy H:mm",shortDate:"dd.MM.yy",shortTime:"H:mm"},NUMBER_FORMATS:{CURRENCY_SYM:"₽",DECIMAL_SEP:",",GROUP_SEP:" ",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:" ¤",posPre:"",posSuf:" ¤"}]},id:"ru-ru",localeID:"ru_RU",pluralCat:function(e,t){var i=0|e,o=n(e,t);return 0==o.v&&i%10==1&&i%100!=11?r.ONE:0==o.v&&i%10>=2&&i%10<=4&&(i%100<12||i%100>14)?r.FEW:0==o.v&&i%10==0||0==o.v&&i%10>=5&&i%10<=9||0==o.v&&i%100>=11&&i%100<=14?r.MANY:r.OTHER}})}]),!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";function e(){return gr.apply(null,arguments)}function t(e){gr=e}function n(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function r(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function i(e){var t;for(t in e)return!1;return!0}function o(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function a(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function s(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function l(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function u(e,t){for(var n in t)l(t,n)&&(e[n]=t[n]);return l(t,"toString")&&(e.toString=t.toString),l(t,"valueOf")&&(e.valueOf=t.valueOf),e}function c(e,t,n,r){return vt(e,t,n,r,!0).utc()}function d(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function f(e){return null==e._pf&&(e._pf=d()),e._pf}function h(e){if(null==e._isValid){var t=f(e),n=vr.call(t.parsedDateParts,function(e){return null!=e}),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return r;e._isValid=r}return e._isValid}function p(e){var t=c(NaN);return null!=e?u(f(t),e):f(t).userInvalidated=!0,t}function g(e){return void 0===e}function m(e,t){var n,r,i;if(g(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),g(t._i)||(e._i=t._i),g(t._f)||(e._f=t._f),g(t._l)||(e._l=t._l),g(t._strict)||(e._strict=t._strict),g(t._tzm)||(e._tzm=t._tzm),g(t._isUTC)||(e._isUTC=t._isUTC),g(t._offset)||(e._offset=t._offset),g(t._pf)||(e._pf=f(t)),g(t._locale)||(e._locale=t._locale),yr.length>0)for(n in yr)r=yr[n],i=t[r],g(i)||(e[r]=i);return e}function v(t){m(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),br===!1&&(br=!0,e.updateOffset(this),br=!1)}function y(e){return e instanceof v||null!=e&&null!=e._isAMomentObject}function b(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function $(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=b(t)),n}function E(e,t,n){var r,i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&$(e[r])!==$(t[r]))&&a++;return a+o}function w(t){e.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function S(t,n){var r=!0;return u(function(){if(null!=e.deprecationHandler&&e.deprecationHandler(null,t),r){for(var i,o=[],a=0;a<arguments.length;a++){if(i="","object"==typeof arguments[a]){i+="\n["+a+"] ";for(var s in arguments[0])i+=s+": "+arguments[0][s]+", ";i=i.slice(0,-2)}else i=arguments[a];o.push(i)}w(t+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),r=!1}return n.apply(this,arguments)},n)}function x(t,n){null!=e.deprecationHandler&&e.deprecationHandler(t,n),$r[t]||(w(n),$r[t]=!0)}function C(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function T(e){var t,n;for(n in e)t=e[n],C(t)?this[n]=t:this["_"+n]=t;this._config=e,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function D(e,t){var n,i=u({},e);for(n in t)l(t,n)&&(r(e[n])&&r(t[n])?(i[n]={},u(i[n],e[n]),u(i[n],t[n])):null!=t[n]?i[n]=t[n]:delete i[n]);for(n in e)l(e,n)&&!l(t,n)&&r(e[n])&&(i[n]=u({},i[n]));return i}function k(e){null!=e&&this.set(e)}function N(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return C(r)?r.call(t,n):r}function _(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function A(){return this._invalidDate}function M(e){return this._ordinal.replace("%d",e)}function O(e,t,n,r){var i=this._relativeTime[n];return C(i)?i(e,t,n,r):i.replace(/%d/i,e)}function F(e,t){var n=this._relativeTime[e>0?"future":"past"];return C(n)?n(t):n.replace(/%s/i,t)}function R(e,t){var n=e.toLowerCase();_r[n]=_r[n+"s"]=_r[t]=e}function I(e){return"string"==typeof e?_r[e]||_r[e.toLowerCase()]:void 0}function L(e){var t,n,r={};for(n in e)l(e,n)&&(t=I(n),t&&(r[t]=e[n]));return r}function P(e,t){Ar[e]=t}function H(e){var t=[];for(var n in e)t.push({unit:n,priority:Ar[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}function B(t,n){return function(r){return null!=r?(j(this,t,r),e.updateOffset(this,n),this):U(this,t)}}function U(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function j(e,t,n){e.isValid()&&e._d["set"+(e._isUTC?"UTC":"")+t](n)}function z(e){return e=I(e),C(this[e])?this[e]():this}function V(e,t){if("object"==typeof e){e=L(e);for(var n=H(e),r=0;r<n.length;r++)this[n[r].unit](e[n[r].unit])}else if(e=I(e),C(this[e]))return this[e](t);return this}function W(e,t,n){var r=""+Math.abs(e),i=t-r.length,o=e>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}function q(e,t,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),e&&(Rr[e]=i),t&&(Rr[t[0]]=function(){return W(i.apply(this,arguments),t[1],t[2])}),n&&(Rr[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function Y(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function G(e){var t,n,r=e.match(Mr);for(t=0,n=r.length;t<n;t++)Rr[r[t]]?r[t]=Rr[r[t]]:r[t]=Y(r[t]);return function(t){var i,o="";for(i=0;i<n;i++)o+=r[i]instanceof Function?r[i].call(t,e):r[i];return o}}function K(e,t){return e.isValid()?(t=X(t,e.localeData()),Fr[t]=Fr[t]||G(t),Fr[t](e)):e.localeData().invalidDate()}function X(e,t){function n(e){return t.longDateFormat(e)||e}var r=5;for(Or.lastIndex=0;r>=0&&Or.test(e);)e=e.replace(Or,n),Or.lastIndex=0,r-=1;return e}function Z(e,t,n){Jr[e]=C(t)?t:function(e,r){return e&&n?n:t}}function Q(e,t){return l(Jr,e)?Jr[e](t._strict,t._locale):new RegExp(J(e))}function J(e){return ee(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i}))}function ee(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function te(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),o(t)&&(r=function(e,n){n[t]=$(e)}),n=0;n<e.length;n++)ei[e[n]]=r}function ne(e,t){te(e,function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)})}function re(e,t,n){null!=t&&l(ei,e)&&ei[e](t,n._a,n,e)}function ie(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function oe(e,t){return e?n(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||di).test(t)?"format":"standalone"][e.month()]:this._months}function ae(e,t){return e?n(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[di.test(t)?"format":"standalone"][e.month()]:this._monthsShort}function se(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=c([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?(i=ci.call(this._shortMonthsParse,a),i!==-1?i:null):(i=ci.call(this._longMonthsParse,a),i!==-1?i:null):"MMM"===t?(i=ci.call(this._shortMonthsParse,a),i!==-1?i:(i=ci.call(this._longMonthsParse,a),i!==-1?i:null)):(i=ci.call(this._longMonthsParse,a),i!==-1?i:(i=ci.call(this._shortMonthsParse,a),i!==-1?i:null))}function le(e,t,n){var r,i,o;if(this._monthsParseExact)return se.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=c([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function ue(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=$(t);else if(t=e.localeData().monthsParse(t),!o(t))return e;return n=Math.min(e.date(),ie(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function ce(t){return null!=t?(ue(this,t),e.updateOffset(this,!0),this):U(this,"Month")}function de(){return ie(this.year(),this.month())}function fe(e){return this._monthsParseExact?(l(this,"_monthsRegex")||pe.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=pi),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function he(e){return this._monthsParseExact?(l(this,"_monthsRegex")||pe.call(this),e?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=gi),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function pe(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],o=[];for(t=0;t<12;t++)n=c([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),o.sort(e),t=0;t<12;t++)r[t]=ee(r[t]),i[t]=ee(i[t]);for(t=0;t<24;t++)o[t]=ee(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function ge(e){return me(e)?366:365}function me(e){return e%4===0&&e%100!==0||e%400===0}function ve(){return me(this.year())}function ye(e,t,n,r,i,o,a){var s=new Date(e,t,n,r,i,o,a);return e<100&&e>=0&&isFinite(s.getFullYear())&&s.setFullYear(e),s}function be(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function $e(e,t,n){var r=7+t-n,i=(7+be(e,0,r).getUTCDay()-t)%7;return-i+r-1}function Ee(e,t,n,r,i){var o,a,s=(7+n-r)%7,l=$e(e,r,i),u=1+7*(t-1)+s+l;return u<=0?(o=e-1,a=ge(o)+u):u>ge(e)?(o=e+1,a=u-ge(e)):(o=e,a=u),{year:o,dayOfYear:a}}function we(e,t,n){var r,i,o=$e(e.year(),t,n),a=Math.floor((e.dayOfYear()-o-1)/7)+1;return a<1?(i=e.year()-1,r=a+Se(i,t,n)):a>Se(e.year(),t,n)?(r=a-Se(e.year(),t,n),i=e.year()+1):(i=e.year(),r=a),{week:r,year:i}}function Se(e,t,n){var r=$e(e,t,n),i=$e(e+1,t,n);return(ge(e)-r+i)/7;
}function xe(e){return we(e,this._week.dow,this._week.doy).week}function Ce(){return this._week.dow}function Te(){return this._week.doy}function De(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function ke(e){var t=we(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Ne(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function _e(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Ae(e,t){return e?n(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]:this._weekdays}function Me(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Oe(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Fe(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=c([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?(i=ci.call(this._weekdaysParse,a),i!==-1?i:null):"ddd"===t?(i=ci.call(this._shortWeekdaysParse,a),i!==-1?i:null):(i=ci.call(this._minWeekdaysParse,a),i!==-1?i:null):"dddd"===t?(i=ci.call(this._weekdaysParse,a),i!==-1?i:(i=ci.call(this._shortWeekdaysParse,a),i!==-1?i:(i=ci.call(this._minWeekdaysParse,a),i!==-1?i:null))):"ddd"===t?(i=ci.call(this._shortWeekdaysParse,a),i!==-1?i:(i=ci.call(this._weekdaysParse,a),i!==-1?i:(i=ci.call(this._minWeekdaysParse,a),i!==-1?i:null))):(i=ci.call(this._minWeekdaysParse,a),i!==-1?i:(i=ci.call(this._weekdaysParse,a),i!==-1?i:(i=ci.call(this._shortWeekdaysParse,a),i!==-1?i:null)))}function Re(e,t,n){var r,i,o;if(this._weekdaysParseExact)return Fe.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=c([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".",".?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function Ie(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Ne(e,this.localeData()),this.add(e-t,"d")):t}function Le(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Pe(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=_e(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function He(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||je.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=Ei),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Be(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||je.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=wi),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Ue(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||je.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Si),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function je(){function e(e,t){return t.length-e.length}var t,n,r,i,o,a=[],s=[],l=[],u=[];for(t=0;t<7;t++)n=c([2e3,1]).day(t),r=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),o=this.weekdays(n,""),a.push(r),s.push(i),l.push(o),u.push(r),u.push(i),u.push(o);for(a.sort(e),s.sort(e),l.sort(e),u.sort(e),t=0;t<7;t++)s[t]=ee(s[t]),l[t]=ee(l[t]),u[t]=ee(u[t]);this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function ze(){return this.hours()%12||12}function Ve(){return this.hours()||24}function We(e,t){q(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function qe(e,t){return t._meridiemParse}function Ye(e){return"p"===(e+"").toLowerCase().charAt(0)}function Ge(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function Ke(e){return e?e.toLowerCase().replace("_","-"):e}function Xe(e){for(var t,n,r,i,o=0;o<e.length;){for(i=Ke(e[o]).split("-"),t=i.length,n=Ke(e[o+1]),n=n?n.split("-"):null;t>0;){if(r=Ze(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&E(i,n,!0)>=t-1)break;t--}o++}return null}function Ze(e){var t=null;if(!ki[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=xi._abbr,require("./locale/"+e),Qe(t)}catch(e){}return ki[e]}function Qe(e,t){var n;return e&&(n=g(t)?tt(e):Je(e,t),n&&(xi=n)),xi._abbr}function Je(e,t){if(null!==t){var n=Di;if(t.abbr=e,null!=ki[e])x("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=ki[e]._config;else if(null!=t.parentLocale){if(null==ki[t.parentLocale])return Ni[t.parentLocale]||(Ni[t.parentLocale]=[]),Ni[t.parentLocale].push({name:e,config:t}),null;n=ki[t.parentLocale]._config}return ki[e]=new k(D(n,t)),Ni[e]&&Ni[e].forEach(function(e){Je(e.name,e.config)}),Qe(e),ki[e]}return delete ki[e],null}function et(e,t){if(null!=t){var n,r=Di;null!=ki[e]&&(r=ki[e]._config),t=D(r,t),n=new k(t),n.parentLocale=ki[e],ki[e]=n,Qe(e)}else null!=ki[e]&&(null!=ki[e].parentLocale?ki[e]=ki[e].parentLocale:null!=ki[e]&&delete ki[e]);return ki[e]}function tt(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return xi;if(!n(e)){if(t=Ze(e))return t;e=[e]}return Xe(e)}function nt(){return Sr(ki)}function rt(e){var t,n=e._a;return n&&f(e).overflow===-2&&(t=n[ni]<0||n[ni]>11?ni:n[ri]<1||n[ri]>ie(n[ti],n[ni])?ri:n[ii]<0||n[ii]>24||24===n[ii]&&(0!==n[oi]||0!==n[ai]||0!==n[si])?ii:n[oi]<0||n[oi]>59?oi:n[ai]<0||n[ai]>59?ai:n[si]<0||n[si]>999?si:-1,f(e)._overflowDayOfYear&&(t<ti||t>ri)&&(t=ri),f(e)._overflowWeeks&&t===-1&&(t=li),f(e)._overflowWeekday&&t===-1&&(t=ui),f(e).overflow=t),e}function it(e){var t,n,r,i,o,a,s=e._i,l=_i.exec(s)||Ai.exec(s);if(l){for(f(e).iso=!0,t=0,n=Oi.length;t<n;t++)if(Oi[t][1].exec(l[1])){i=Oi[t][0],r=Oi[t][2]!==!1;break}if(null==i)return void(e._isValid=!1);if(l[3]){for(t=0,n=Fi.length;t<n;t++)if(Fi[t][1].exec(l[3])){o=(l[2]||" ")+Fi[t][0];break}if(null==o)return void(e._isValid=!1)}if(!r&&null!=o)return void(e._isValid=!1);if(l[4]){if(!Mi.exec(l[4]))return void(e._isValid=!1);a="Z"}e._f=i+(o||"")+(a||""),ct(e)}else e._isValid=!1}function ot(t){var n=Ri.exec(t._i);return null!==n?void(t._d=new Date((+n[1]))):(it(t),void(t._isValid===!1&&(delete t._isValid,e.createFromInputFallback(t))))}function at(e,t,n){return null!=e?e:null!=t?t:n}function st(t){var n=new Date(e.now());return t._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function lt(e){var t,n,r,i,o=[];if(!e._d){for(r=st(e),e._w&&null==e._a[ri]&&null==e._a[ni]&&ut(e),e._dayOfYear&&(i=at(e._a[ti],r[ti]),e._dayOfYear>ge(i)&&(f(e)._overflowDayOfYear=!0),n=be(i,0,e._dayOfYear),e._a[ni]=n.getUTCMonth(),e._a[ri]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=o[t]=r[t];for(;t<7;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[ii]&&0===e._a[oi]&&0===e._a[ai]&&0===e._a[si]&&(e._nextDay=!0,e._a[ii]=0),e._d=(e._useUTC?be:ye).apply(null,o),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ii]=24)}}function ut(e){var t,n,r,i,o,a,s,l;if(t=e._w,null!=t.GG||null!=t.W||null!=t.E)o=1,a=4,n=at(t.GG,e._a[ti],we(yt(),1,4).year),r=at(t.W,1),i=at(t.E,1),(i<1||i>7)&&(l=!0);else{o=e._locale._week.dow,a=e._locale._week.doy;var u=we(yt(),o,a);n=at(t.gg,e._a[ti],u.year),r=at(t.w,u.week),null!=t.d?(i=t.d,(i<0||i>6)&&(l=!0)):null!=t.e?(i=t.e+o,(t.e<0||t.e>6)&&(l=!0)):i=o}r<1||r>Se(n,o,a)?f(e)._overflowWeeks=!0:null!=l?f(e)._overflowWeekday=!0:(s=Ee(n,r,i,o,a),e._a[ti]=s.year,e._dayOfYear=s.dayOfYear)}function ct(t){if(t._f===e.ISO_8601)return void it(t);t._a=[],f(t).empty=!0;var n,r,i,o,a,s=""+t._i,l=s.length,u=0;for(i=X(t._f,t._locale).match(Mr)||[],n=0;n<i.length;n++)o=i[n],r=(s.match(Q(o,t))||[])[0],r&&(a=s.substr(0,s.indexOf(r)),a.length>0&&f(t).unusedInput.push(a),s=s.slice(s.indexOf(r)+r.length),u+=r.length),Rr[o]?(r?f(t).empty=!1:f(t).unusedTokens.push(o),re(o,r,t)):t._strict&&!r&&f(t).unusedTokens.push(o);f(t).charsLeftOver=l-u,s.length>0&&f(t).unusedInput.push(s),t._a[ii]<=12&&f(t).bigHour===!0&&t._a[ii]>0&&(f(t).bigHour=void 0),f(t).parsedDateParts=t._a.slice(0),f(t).meridiem=t._meridiem,t._a[ii]=dt(t._locale,t._a[ii],t._meridiem),lt(t),rt(t)}function dt(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(r=e.isPM(n),r&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function ft(e){var t,n,r,i,o;if(0===e._f.length)return f(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)o=0,t=m({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],ct(t),h(t)&&(o+=f(t).charsLeftOver,o+=10*f(t).unusedTokens.length,f(t).score=o,(null==r||o<r)&&(r=o,n=t));u(e,n||t)}function ht(e){if(!e._d){var t=L(e._i);e._a=s([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),lt(e)}}function pt(e){var t=new v(rt(gt(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function gt(e){var t=e._i,r=e._f;return e._locale=e._locale||tt(e._l),null===t||void 0===r&&""===t?p({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),y(t)?new v(rt(t)):(a(t)?e._d=t:n(r)?ft(e):r?ct(e):mt(e),h(e)||(e._d=null),e))}function mt(t){var r=t._i;void 0===r?t._d=new Date(e.now()):a(r)?t._d=new Date(r.valueOf()):"string"==typeof r?ot(t):n(r)?(t._a=s(r.slice(0),function(e){return parseInt(e,10)}),lt(t)):"object"==typeof r?ht(t):o(r)?t._d=new Date(r):e.createFromInputFallback(t)}function vt(e,t,o,a,s){var l={};return o!==!0&&o!==!1||(a=o,o=void 0),(r(e)&&i(e)||n(e)&&0===e.length)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=s,l._l=o,l._i=e,l._f=t,l._strict=a,pt(l)}function yt(e,t,n,r){return vt(e,t,n,r,!1)}function bt(e,t){var r,i;if(1===t.length&&n(t[0])&&(t=t[0]),!t.length)return yt();for(r=t[0],i=1;i<t.length;++i)t[i].isValid()&&!t[i][e](r)||(r=t[i]);return r}function $t(){var e=[].slice.call(arguments,0);return bt("isBefore",e)}function Et(){var e=[].slice.call(arguments,0);return bt("isAfter",e)}function wt(e){var t=L(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||0,a=t.day||0,s=t.hour||0,l=t.minute||0,u=t.second||0,c=t.millisecond||0;this._milliseconds=+c+1e3*u+6e4*l+1e3*s*60*60,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=tt(),this._bubble()}function St(e){return e instanceof wt}function xt(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function Ct(e,t){q(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+W(~~(e/60),2)+t+W(~~e%60,2)})}function Tt(e,t){var n=(t||"").match(e);if(null===n)return null;var r=n[n.length-1]||[],i=(r+"").match(Hi)||["-",0,0],o=+(60*i[1])+$(i[2]);return 0===o?0:"+"===i[0]?o:-o}function Dt(t,n){var r,i;return n._isUTC?(r=n.clone(),i=(y(t)||a(t)?t.valueOf():yt(t).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+i),e.updateOffset(r,!1),r):yt(t).local()}function kt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Nt(t,n){var r,i=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(t=Tt(Xr,t),null===t)return this}else Math.abs(t)<16&&(t=60*t);return!this._isUTC&&n&&(r=kt(this)),this._offset=t,this._isUTC=!0,null!=r&&this.add(r,"m"),i!==t&&(!n||this._changeInProgress?Wt(this,Bt(t-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?i:kt(this)}function _t(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function At(e){return this.utcOffset(0,e)}function Mt(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(kt(this),"m")),this}function Ot(){if(null!=this._tzm)this.utcOffset(this._tzm);else if("string"==typeof this._i){var e=Tt(Kr,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function Ft(e){return!!this.isValid()&&(e=e?yt(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function Rt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function It(){if(!g(this._isDSTShifted))return this._isDSTShifted;var e={};if(m(e,this),e=gt(e),e._a){var t=e._isUTC?c(e._a):yt(e._a);this._isDSTShifted=this.isValid()&&E(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Lt(){return!!this.isValid()&&!this._isUTC}function Pt(){return!!this.isValid()&&this._isUTC}function Ht(){return!!this.isValid()&&this._isUTC&&0===this._offset}function Bt(e,t){var n,r,i,a=e,s=null;return St(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:o(e)?(a={},t?a[t]=e:a.milliseconds=e):(s=Bi.exec(e))?(n="-"===s[1]?-1:1,a={y:0,d:$(s[ri])*n,h:$(s[ii])*n,m:$(s[oi])*n,s:$(s[ai])*n,ms:$(xt(1e3*s[si]))*n}):(s=Ui.exec(e))?(n="-"===s[1]?-1:1,a={y:Ut(s[2],n),M:Ut(s[3],n),w:Ut(s[4],n),d:Ut(s[5],n),h:Ut(s[6],n),m:Ut(s[7],n),s:Ut(s[8],n)}):null==a?a={}:"object"==typeof a&&("from"in a||"to"in a)&&(i=zt(yt(a.from),yt(a.to)),a={},a.ms=i.milliseconds,a.M=i.months),r=new wt(a),St(e)&&l(e,"_locale")&&(r._locale=e._locale),r}function Ut(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function jt(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function zt(e,t){var n;return e.isValid()&&t.isValid()?(t=Dt(t,e),e.isBefore(t)?n=jt(e,t):(n=jt(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Vt(e,t){return function(n,r){var i,o;return null===r||isNaN(+r)||(x(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=r,r=o),n="string"==typeof n?+n:n,i=Bt(n,r),Wt(this,i,e),this}}function Wt(t,n,r,i){var o=n._milliseconds,a=xt(n._days),s=xt(n._months);t.isValid()&&(i=null==i||i,o&&t._d.setTime(t._d.valueOf()+o*r),a&&j(t,"Date",U(t,"Date")+a*r),s&&ue(t,U(t,"Month")+s*r),i&&e.updateOffset(t,a||s))}function qt(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Yt(t,n){var r=t||yt(),i=Dt(r,this).startOf("day"),o=e.calendarFormat(this,i)||"sameElse",a=n&&(C(n[o])?n[o].call(this,r):n[o]);return this.format(a||this.localeData().calendar(o,this,yt(r)))}function Gt(){return new v(this)}function Kt(e,t){var n=y(e)?e:yt(e);return!(!this.isValid()||!n.isValid())&&(t=I(g(t)?"millisecond":t),"millisecond"===t?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function Xt(e,t){var n=y(e)?e:yt(e);return!(!this.isValid()||!n.isValid())&&(t=I(g(t)?"millisecond":t),"millisecond"===t?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function Zt(e,t,n,r){return r=r||"()",("("===r[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===r[1]?this.isBefore(t,n):!this.isAfter(t,n))}function Qt(e,t){var n,r=y(e)?e:yt(e);return!(!this.isValid()||!r.isValid())&&(t=I(t||"millisecond"),"millisecond"===t?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function Jt(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function en(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function tn(e,t,n){var r,i,o,a;return this.isValid()?(r=Dt(e,this),r.isValid()?(i=6e4*(r.utcOffset()-this.utcOffset()),t=I(t),"year"===t||"month"===t||"quarter"===t?(a=nn(this,r),"quarter"===t?a/=3:"year"===t&&(a/=12)):(o=this-r,a="second"===t?o/1e3:"minute"===t?o/6e4:"hour"===t?o/36e5:"day"===t?(o-i)/864e5:"week"===t?(o-i)/6048e5:o),n?a:b(a)):NaN):NaN}function nn(e,t){var n,r,i=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(i,"months");return t-o<0?(n=e.clone().add(i-1,"months"),r=(t-o)/(o-n)):(n=e.clone().add(i+1,"months"),r=(t-o)/(n-o)),-(i+r)||0}function rn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function on(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?C(Date.prototype.toISOString)?this.toDate().toISOString():K(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):K(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function an(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',r=0<this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",o=t+'[")]';return this.format(n+r+i+o)}function sn(t){t||(t=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var n=K(this,t);return this.localeData().postformat(n)}function ln(e,t){return this.isValid()&&(y(e)&&e.isValid()||yt(e).isValid())?Bt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function un(e){return this.from(yt(),e)}function cn(e,t){return this.isValid()&&(y(e)&&e.isValid()||yt(e).isValid())?Bt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function dn(e){return this.to(yt(),e)}function fn(e){var t;return void 0===e?this._locale._abbr:(t=tt(e),null!=t&&(this._locale=t),this)}function hn(){return this._locale}function pn(e){switch(e=I(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function gn(e){return e=I(e),void 0===e||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))}function mn(){return this._d.valueOf()-6e4*(this._offset||0)}function vn(){return Math.floor(this.valueOf()/1e3)}function yn(){return new Date(this.valueOf())}function bn(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function $n(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function En(){return this.isValid()?this.toISOString():null}function wn(){return h(this)}function Sn(){return u({},f(this))}function xn(){return f(this).overflow}function Cn(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Tn(e,t){q(0,[e,e.length],0,t)}function Dn(e){return An.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function kn(e){return An.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Nn(){return Se(this.year(),1,4)}function _n(){var e=this.localeData()._week;return Se(this.year(),e.dow,e.doy)}function An(e,t,n,r,i){var o;return null==e?we(this,r,i).year:(o=Se(e,r,i),t>o&&(t=o),Mn.call(this,e,t,n,r,i))}function Mn(e,t,n,r,i){var o=Ee(e,t,n,r,i),a=be(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function On(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function Fn(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function Rn(e,t){t[si]=$(1e3*("0."+e))}function In(){return this._isUTC?"UTC":""}function Ln(){return this._isUTC?"Coordinated Universal Time":""}function Pn(e){return yt(1e3*e)}function Hn(){return yt.apply(null,arguments).parseZone()}function Bn(e){return e}function Un(e,t,n,r){var i=tt(),o=c().set(r,t);return i[n](o,e)}function jn(e,t,n){if(o(e)&&(t=e,e=void 0),e=e||"",null!=t)return Un(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=Un(e,r,n,"month");return i}function zn(e,t,n,r){"boolean"==typeof e?(o(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,o(t)&&(n=t,t=void 0),t=t||"");var i=tt(),a=e?i._week.dow:0;if(null!=n)return Un(t,(n+a)%7,r,"day");var s,l=[];for(s=0;s<7;s++)l[s]=Un(t,(s+a)%7,r,"day");return l}function Vn(e,t){return jn(e,t,"months")}function Wn(e,t){return jn(e,t,"monthsShort")}function qn(e,t,n){return zn(e,t,n,"weekdays")}function Yn(e,t,n){return zn(e,t,n,"weekdaysShort")}function Gn(e,t,n){return zn(e,t,n,"weekdaysMin")}function Kn(){var e=this._data;return this._milliseconds=Qi(this._milliseconds),this._days=Qi(this._days),this._months=Qi(this._months),e.milliseconds=Qi(e.milliseconds),e.seconds=Qi(e.seconds),e.minutes=Qi(e.minutes),e.hours=Qi(e.hours),e.months=Qi(e.months),e.years=Qi(e.years),this}function Xn(e,t,n,r){var i=Bt(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function Zn(e,t){return Xn(this,e,t,1)}function Qn(e,t){return Xn(this,e,t,-1)}function Jn(e){return e<0?Math.floor(e):Math.ceil(e)}function er(){var e,t,n,r,i,o=this._milliseconds,a=this._days,s=this._months,l=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*Jn(nr(s)+a),a=0,s=0),l.milliseconds=o%1e3,e=b(o/1e3),l.seconds=e%60,t=b(e/60),l.minutes=t%60,n=b(t/60),l.hours=n%24,a+=b(n/24),i=b(tr(a)),s+=i,a-=Jn(nr(i)),r=b(s/12),s%=12,l.days=a,l.months=s,l.years=r,this}function tr(e){return 4800*e/146097}function nr(e){return 146097*e/4800}function rr(e){var t,n,r=this._milliseconds;if(e=I(e),"month"===e||"year"===e)return t=this._days+r/864e5,n=this._months+tr(t),"month"===e?n:n/12;switch(t=this._days+Math.round(nr(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function ir(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*$(this._months/12)}function or(e){return function(){return this.as(e)}}function ar(e){return e=I(e),this[e+"s"]()}function sr(e){return function(){return this._data[e]}}function lr(){return b(this.days()/7)}function ur(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function cr(e,t,n){var r=Bt(e).abs(),i=go(r.as("s")),o=go(r.as("m")),a=go(r.as("h")),s=go(r.as("d")),l=go(r.as("M")),u=go(r.as("y")),c=i<mo.s&&["s",i]||o<=1&&["m"]||o<mo.m&&["mm",o]||a<=1&&["h"]||a<mo.h&&["hh",a]||s<=1&&["d"]||s<mo.d&&["dd",s]||l<=1&&["M"]||l<mo.M&&["MM",l]||u<=1&&["y"]||["yy",u];return c[2]=t,c[3]=+e>0,c[4]=n,ur.apply(null,c)}function dr(e){return void 0===e?go:"function"==typeof e&&(go=e,!0)}function fr(e,t){return void 0!==mo[e]&&(void 0===t?mo[e]:(mo[e]=t,!0))}function hr(e){var t=this.localeData(),n=cr(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function pr(){var e,t,n,r=vo(this._milliseconds)/1e3,i=vo(this._days),o=vo(this._months);e=b(r/60),t=b(e/60),r%=60,e%=60,n=b(o/12),o%=12;var a=n,s=o,l=i,u=t,c=e,d=r,f=this.asSeconds();return f?(f<0?"-":"")+"P"+(a?a+"Y":"")+(s?s+"M":"")+(l?l+"D":"")+(u||c||d?"T":"")+(u?u+"H":"")+(c?c+"M":"")+(d?d+"S":""):"P0D"}var gr,mr;mr=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};var vr=mr,yr=e.momentProperties=[],br=!1,$r={};e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;var Er;Er=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)l(e,t)&&n.push(t);return n};var wr,Sr=Er,xr={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Cr={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Tr="Invalid date",Dr="%d",kr=/\d{1,2}/,Nr={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},_r={},Ar={},Mr=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Or=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Fr={},Rr={},Ir=/\d/,Lr=/\d\d/,Pr=/\d{3}/,Hr=/\d{4}/,Br=/[+-]?\d{6}/,Ur=/\d\d?/,jr=/\d\d\d\d?/,zr=/\d\d\d\d\d\d?/,Vr=/\d{1,3}/,Wr=/\d{1,4}/,qr=/[+-]?\d{1,6}/,Yr=/\d+/,Gr=/[+-]?\d+/,Kr=/Z|[+-]\d\d:?\d\d/gi,Xr=/Z|[+-]\d\d(?::?\d\d)?/gi,Zr=/[+-]?\d+(\.\d{1,3})?/,Qr=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Jr={},ei={},ti=0,ni=1,ri=2,ii=3,oi=4,ai=5,si=6,li=7,ui=8;wr=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};var ci=wr;q("M",["MM",2],"Mo",function(){return this.month()+1}),q("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),q("MMMM",0,0,function(e){return this.localeData().months(this,e)}),R("month","M"),P("month",8),Z("M",Ur),Z("MM",Ur,Lr),Z("MMM",function(e,t){return t.monthsShortRegex(e)}),Z("MMMM",function(e,t){return t.monthsRegex(e)}),te(["M","MM"],function(e,t){t[ni]=$(e)-1}),te(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[ni]=i:f(n).invalidMonth=e});var di=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,fi="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),hi="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),pi=Qr,gi=Qr;q("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),q(0,["YY",2],0,function(){return this.year()%100}),q(0,["YYYY",4],0,"year"),q(0,["YYYYY",5],0,"year"),q(0,["YYYYYY",6,!0],0,"year"),R("year","y"),P("year",1),Z("Y",Gr),Z("YY",Ur,Lr),Z("YYYY",Wr,Hr),Z("YYYYY",qr,Br),Z("YYYYYY",qr,Br),te(["YYYYY","YYYYYY"],ti),te("YYYY",function(t,n){n[ti]=2===t.length?e.parseTwoDigitYear(t):$(t)}),te("YY",function(t,n){n[ti]=e.parseTwoDigitYear(t)}),te("Y",function(e,t){t[ti]=parseInt(e,10)}),e.parseTwoDigitYear=function(e){return $(e)+($(e)>68?1900:2e3)};var mi=B("FullYear",!0);q("w",["ww",2],"wo","week"),q("W",["WW",2],"Wo","isoWeek"),R("week","w"),R("isoWeek","W"),P("week",5),P("isoWeek",5),Z("w",Ur),Z("ww",Ur,Lr),Z("W",Ur),Z("WW",Ur,Lr),ne(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=$(e)});var vi={dow:0,doy:6};q("d",0,"do","day"),q("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),q("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),q("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),q("e",0,0,"weekday"),q("E",0,0,"isoWeekday"),R("day","d"),R("weekday","e"),R("isoWeekday","E"),P("day",11),P("weekday",11),P("isoWeekday",11),Z("d",Ur),Z("e",Ur),Z("E",Ur),Z("dd",function(e,t){return t.weekdaysMinRegex(e)}),Z("ddd",function(e,t){return t.weekdaysShortRegex(e)}),Z("dddd",function(e,t){return t.weekdaysRegex(e)}),ne(["dd","ddd","dddd"],function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:f(n).invalidWeekday=e}),ne(["d","e","E"],function(e,t,n,r){t[r]=$(e)});var yi="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),bi="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),$i="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ei=Qr,wi=Qr,Si=Qr;q("H",["HH",2],0,"hour"),q("h",["hh",2],0,ze),q("k",["kk",2],0,Ve),q("hmm",0,0,function(){return""+ze.apply(this)+W(this.minutes(),2)}),q("hmmss",0,0,function(){return""+ze.apply(this)+W(this.minutes(),2)+W(this.seconds(),2)}),q("Hmm",0,0,function(){return""+this.hours()+W(this.minutes(),2)}),q("Hmmss",0,0,function(){return""+this.hours()+W(this.minutes(),2)+W(this.seconds(),2)}),We("a",!0),We("A",!1),R("hour","h"),P("hour",13),Z("a",qe),Z("A",qe),Z("H",Ur),Z("h",Ur),Z("HH",Ur,Lr),Z("hh",Ur,Lr),Z("hmm",jr),Z("hmmss",zr),Z("Hmm",jr),Z("Hmmss",zr),te(["H","HH"],ii),te(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),te(["h","hh"],function(e,t,n){t[ii]=$(e),f(n).bigHour=!0}),te("hmm",function(e,t,n){var r=e.length-2;t[ii]=$(e.substr(0,r)),t[oi]=$(e.substr(r)),f(n).bigHour=!0}),te("hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[ii]=$(e.substr(0,r)),t[oi]=$(e.substr(r,2)),t[ai]=$(e.substr(i)),f(n).bigHour=!0}),te("Hmm",function(e,t,n){var r=e.length-2;t[ii]=$(e.substr(0,r)),t[oi]=$(e.substr(r))}),te("Hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[ii]=$(e.substr(0,r)),t[oi]=$(e.substr(r,2)),t[ai]=$(e.substr(i))});var xi,Ci=/[ap]\.?m?\.?/i,Ti=B("Hours",!0),Di={calendar:xr,longDateFormat:Cr,invalidDate:Tr,ordinal:Dr,ordinalParse:kr,relativeTime:Nr,months:fi,monthsShort:hi,week:vi,weekdays:yi,weekdaysMin:$i,weekdaysShort:bi,meridiemParse:Ci},ki={},Ni={},_i=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ai=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Mi=/Z|[+-]\d\d(?::?\d\d)?/,Oi=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Fi=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Ri=/^\/?Date\((\-?\d+)/i;e.createFromInputFallback=S("value provided is not in a recognized ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),e.ISO_8601=function(){};var Ii=S("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=yt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:p()}),Li=S("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=yt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:p()}),Pi=function(){return Date.now?Date.now():+new Date};Ct("Z",":"),Ct("ZZ",""),Z("Z",Xr),Z("ZZ",Xr),te(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Tt(Xr,e)});var Hi=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var Bi=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Ui=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;
Bt.fn=wt.prototype;var ji=Vt(1,"add"),zi=Vt(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Vi=S("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});q(0,["gg",2],0,function(){return this.weekYear()%100}),q(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Tn("gggg","weekYear"),Tn("ggggg","weekYear"),Tn("GGGG","isoWeekYear"),Tn("GGGGG","isoWeekYear"),R("weekYear","gg"),R("isoWeekYear","GG"),P("weekYear",1),P("isoWeekYear",1),Z("G",Gr),Z("g",Gr),Z("GG",Ur,Lr),Z("gg",Ur,Lr),Z("GGGG",Wr,Hr),Z("gggg",Wr,Hr),Z("GGGGG",qr,Br),Z("ggggg",qr,Br),ne(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=$(e)}),ne(["gg","GG"],function(t,n,r,i){n[i]=e.parseTwoDigitYear(t)}),q("Q",0,"Qo","quarter"),R("quarter","Q"),P("quarter",7),Z("Q",Ir),te("Q",function(e,t){t[ni]=3*($(e)-1)}),q("D",["DD",2],"Do","date"),R("date","D"),P("date",9),Z("D",Ur),Z("DD",Ur,Lr),Z("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),te(["D","DD"],ri),te("Do",function(e,t){t[ri]=$(e.match(Ur)[0],10)});var Wi=B("Date",!0);q("DDD",["DDDD",3],"DDDo","dayOfYear"),R("dayOfYear","DDD"),P("dayOfYear",4),Z("DDD",Vr),Z("DDDD",Pr),te(["DDD","DDDD"],function(e,t,n){n._dayOfYear=$(e)}),q("m",["mm",2],0,"minute"),R("minute","m"),P("minute",14),Z("m",Ur),Z("mm",Ur,Lr),te(["m","mm"],oi);var qi=B("Minutes",!1);q("s",["ss",2],0,"second"),R("second","s"),P("second",15),Z("s",Ur),Z("ss",Ur,Lr),te(["s","ss"],ai);var Yi=B("Seconds",!1);q("S",0,0,function(){return~~(this.millisecond()/100)}),q(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),q(0,["SSS",3],0,"millisecond"),q(0,["SSSS",4],0,function(){return 10*this.millisecond()}),q(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),q(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),q(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),q(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),q(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),R("millisecond","ms"),P("millisecond",16),Z("S",Vr,Ir),Z("SS",Vr,Lr),Z("SSS",Vr,Pr);var Gi;for(Gi="SSSS";Gi.length<=9;Gi+="S")Z(Gi,Yr);for(Gi="S";Gi.length<=9;Gi+="S")te(Gi,Rn);var Ki=B("Milliseconds",!1);q("z",0,0,"zoneAbbr"),q("zz",0,0,"zoneName");var Xi=v.prototype;Xi.add=ji,Xi.calendar=Yt,Xi.clone=Gt,Xi.diff=tn,Xi.endOf=gn,Xi.format=sn,Xi.from=ln,Xi.fromNow=un,Xi.to=cn,Xi.toNow=dn,Xi.get=z,Xi.invalidAt=xn,Xi.isAfter=Kt,Xi.isBefore=Xt,Xi.isBetween=Zt,Xi.isSame=Qt,Xi.isSameOrAfter=Jt,Xi.isSameOrBefore=en,Xi.isValid=wn,Xi.lang=Vi,Xi.locale=fn,Xi.localeData=hn,Xi.max=Li,Xi.min=Ii,Xi.parsingFlags=Sn,Xi.set=V,Xi.startOf=pn,Xi.subtract=zi,Xi.toArray=bn,Xi.toObject=$n,Xi.toDate=yn,Xi.toISOString=on,Xi.inspect=an,Xi.toJSON=En,Xi.toString=rn,Xi.unix=vn,Xi.valueOf=mn,Xi.creationData=Cn,Xi.year=mi,Xi.isLeapYear=ve,Xi.weekYear=Dn,Xi.isoWeekYear=kn,Xi.quarter=Xi.quarters=On,Xi.month=ce,Xi.daysInMonth=de,Xi.week=Xi.weeks=De,Xi.isoWeek=Xi.isoWeeks=ke,Xi.weeksInYear=_n,Xi.isoWeeksInYear=Nn,Xi.date=Wi,Xi.day=Xi.days=Ie,Xi.weekday=Le,Xi.isoWeekday=Pe,Xi.dayOfYear=Fn,Xi.hour=Xi.hours=Ti,Xi.minute=Xi.minutes=qi,Xi.second=Xi.seconds=Yi,Xi.millisecond=Xi.milliseconds=Ki,Xi.utcOffset=Nt,Xi.utc=At,Xi.local=Mt,Xi.parseZone=Ot,Xi.hasAlignedHourOffset=Ft,Xi.isDST=Rt,Xi.isLocal=Lt,Xi.isUtcOffset=Pt,Xi.isUtc=Ht,Xi.isUTC=Ht,Xi.zoneAbbr=In,Xi.zoneName=Ln,Xi.dates=S("dates accessor is deprecated. Use date instead.",Wi),Xi.months=S("months accessor is deprecated. Use month instead",ce),Xi.years=S("years accessor is deprecated. Use year instead",mi),Xi.zone=S("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",_t),Xi.isDSTShifted=S("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",It);var Zi=k.prototype;Zi.calendar=N,Zi.longDateFormat=_,Zi.invalidDate=A,Zi.ordinal=M,Zi.preparse=Bn,Zi.postformat=Bn,Zi.relativeTime=O,Zi.pastFuture=F,Zi.set=T,Zi.months=oe,Zi.monthsShort=ae,Zi.monthsParse=le,Zi.monthsRegex=he,Zi.monthsShortRegex=fe,Zi.week=xe,Zi.firstDayOfYear=Te,Zi.firstDayOfWeek=Ce,Zi.weekdays=Ae,Zi.weekdaysMin=Oe,Zi.weekdaysShort=Me,Zi.weekdaysParse=Re,Zi.weekdaysRegex=He,Zi.weekdaysShortRegex=Be,Zi.weekdaysMinRegex=Ue,Zi.isPM=Ye,Zi.meridiem=Ge,Qe("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===$(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),e.lang=S("moment.lang is deprecated. Use moment.locale instead.",Qe),e.langData=S("moment.langData is deprecated. Use moment.localeData instead.",tt);var Qi=Math.abs,Ji=or("ms"),eo=or("s"),to=or("m"),no=or("h"),ro=or("d"),io=or("w"),oo=or("M"),ao=or("y"),so=sr("milliseconds"),lo=sr("seconds"),uo=sr("minutes"),co=sr("hours"),fo=sr("days"),ho=sr("months"),po=sr("years"),go=Math.round,mo={s:45,m:45,h:22,d:26,M:11},vo=Math.abs,yo=wt.prototype;return yo.abs=Kn,yo.add=Zn,yo.subtract=Qn,yo.as=rr,yo.asMilliseconds=Ji,yo.asSeconds=eo,yo.asMinutes=to,yo.asHours=no,yo.asDays=ro,yo.asWeeks=io,yo.asMonths=oo,yo.asYears=ao,yo.valueOf=ir,yo._bubble=er,yo.get=ar,yo.milliseconds=so,yo.seconds=lo,yo.minutes=uo,yo.hours=co,yo.days=fo,yo.weeks=lr,yo.months=ho,yo.years=po,yo.humanize=hr,yo.toISOString=pr,yo.toString=pr,yo.toJSON=pr,yo.locale=fn,yo.localeData=hn,yo.toIsoString=S("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",pr),yo.lang=Vi,q("X",0,0,"unix"),q("x",0,0,"valueOf"),Z("x",Gr),Z("X",Zr),te("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),te("x",function(e,t,n){n._d=new Date($(e))}),e.version="2.17.1",t(yt),e.fn=Xi,e.min=$t,e.max=Et,e.now=Pi,e.utc=c,e.unix=Pn,e.months=Vn,e.isDate=a,e.locale=Qe,e.invalid=p,e.duration=Bt,e.isMoment=y,e.weekdays=qn,e.parseZone=Hn,e.localeData=tt,e.isDuration=St,e.monthsShort=Wn,e.weekdaysMin=Gn,e.defineLocale=Je,e.updateLocale=et,e.locales=nt,e.weekdaysShort=Yn,e.normalizeUnits=I,e.relativeTimeRounding=dr,e.relativeTimeThreshold=fr,e.calendarFormat=qt,e.prototype=Xi,e}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module&&"function"==typeof require?t(require("../moment")):"function"==typeof define&&define.amd?define(["../moment"],t):t(e.moment)}(this,function(e){"use strict";function t(e,t){var n=e.split("_");return t%10===1&&t%100!==11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}function n(e,n,r){var i={mm:n?"минута_минуты_минут":"минуту_минуты_минут",hh:"час_часа_часов",dd:"день_дня_дней",MM:"месяц_месяца_месяцев",yy:"год_года_лет"};return"m"===r?n?"минута":"минуту":e+" "+t(i[r],+e)}var r=[/^янв/i,/^фев/i,/^мар/i,/^апр/i,/^ма[йя]/i,/^июн/i,/^июл/i,/^авг/i,/^сен/i,/^окт/i,/^ноя/i,/^дек/i],i=e.defineLocale("ru",{months:{format:"января_февраля_марта_апреля_мая_июня_июля_августа_сентября_октября_ноября_декабря".split("_"),standalone:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_")},monthsShort:{format:"янв._февр._мар._апр._мая_июня_июля_авг._сент._окт._нояб._дек.".split("_"),standalone:"янв._февр._март_апр._май_июнь_июль_авг._сент._окт._нояб._дек.".split("_")},weekdays:{standalone:"воскресенье_понедельник_вторник_среда_четверг_пятница_суббота".split("_"),format:"воскресенье_понедельник_вторник_среду_четверг_пятницу_субботу".split("_"),isFormat:/\[ ?[Вв] ?(?:прошлую|следующую|эту)? ?\] ?dddd/},weekdaysShort:"вс_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"вс_пн_вт_ср_чт_пт_сб".split("_"),monthsParse:r,longMonthsParse:r,shortMonthsParse:r,monthsRegex:/^(январ[ья]|янв\.?|феврал[ья]|февр?\.?|марта?|мар\.?|апрел[ья]|апр\.?|ма[йя]|июн[ья]|июн\.?|июл[ья]|июл\.?|августа?|авг\.?|сентябр[ья]|сент?\.?|октябр[ья]|окт\.?|ноябр[ья]|нояб?\.?|декабр[ья]|дек\.?)/i,monthsShortRegex:/^(январ[ья]|янв\.?|феврал[ья]|февр?\.?|марта?|мар\.?|апрел[ья]|апр\.?|ма[йя]|июн[ья]|июн\.?|июл[ья]|июл\.?|августа?|авг\.?|сентябр[ья]|сент?\.?|октябр[ья]|окт\.?|ноябр[ья]|нояб?\.?|декабр[ья]|дек\.?)/i,monthsStrictRegex:/^(январ[яь]|феврал[яь]|марта?|апрел[яь]|ма[яй]|июн[яь]|июл[яь]|августа?|сентябр[яь]|октябр[яь]|ноябр[яь]|декабр[яь])/i,monthsShortStrictRegex:/^(янв\.|февр?\.|мар[т.]|апр\.|ма[яй]|июн[ья.]|июл[ья.]|авг\.|сент?\.|окт\.|нояб?\.|дек\.)/i,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., HH:mm",LLLL:"dddd, D MMMM YYYY г., HH:mm"},calendar:{sameDay:"[Сегодня в] LT",nextDay:"[Завтра в] LT",lastDay:"[Вчера в] LT",nextWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[Во] dddd [в] LT":"[В] dddd [в] LT";switch(this.day()){case 0:return"[В следующее] dddd [в] LT";case 1:case 2:case 4:return"[В следующий] dddd [в] LT";case 3:case 5:case 6:return"[В следующую] dddd [в] LT"}},lastWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[Во] dddd [в] LT":"[В] dddd [в] LT";switch(this.day()){case 0:return"[В прошлое] dddd [в] LT";case 1:case 2:case 4:return"[В прошлый] dddd [в] LT";case 3:case 5:case 6:return"[В прошлую] dddd [в] LT"}},sameElse:"L"},relativeTime:{future:"через %s",past:"%s назад",s:"несколько секунд",m:n,mm:n,h:"час",hh:n,d:"день",dd:n,M:"месяц",MM:n,y:"год",yy:n},meridiemParse:/ночи|утра|дня|вечера/i,isPM:function(e){return/^(дня|вечера)$/.test(e)},meridiem:function(e,t,n){return e<4?"ночи":e<12?"утра":e<17?"дня":"вечера"},ordinalParse:/\d{1,2}-(й|го|я)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":return e+"-й";case"D":return e+"-го";case"w":case"W":return e+"-я";default:return e}},week:{dow:1,doy:7}});return i}),!function(e,t,n){"use strict";!function r(e,t,n){function i(a,s){if(!t[a]){if(!e[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=t[a]={exports:{}};e[a][0].call(c.exports,function(t){var n=e[a][1][t];return i(n?n:t)},c,c.exports,r,e,t,n)}return t[a].exports}for(var o="function"==typeof require&&require,a=0;a<n.length;a++)i(n[a]);return i}({1:[function(r,i,o){var a=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(o,"__esModule",{value:!0});var s,l,u,c,d=r("./modules/handle-dom"),f=r("./modules/utils"),h=r("./modules/handle-swal-dom"),p=r("./modules/handle-click"),g=r("./modules/handle-key"),m=a(g),v=r("./modules/default-params"),y=a(v),b=r("./modules/set-params"),$=a(b);o["default"]=u=c=function(){function r(e){var t=i;return t[e]===n?y["default"][e]:t[e]}var i=arguments[0];if(d.addClass(t.body,"stop-scrolling"),h.resetInput(),i===n)return f.logStr("SweetAlert expects at least 1 attribute!"),!1;var o=f.extend({},y["default"]);switch(typeof i){case"string":o.title=i,o.text=arguments[1]||"",o.type=arguments[2]||"";break;case"object":if(i.title===n)return f.logStr('Missing "title" argument!'),!1;o.title=i.title;for(var a in y["default"])o[a]=r(a);o.confirmButtonText=o.showCancelButton?"Confirm":y["default"].confirmButtonText,o.confirmButtonText=r("confirmButtonText"),o.doneFunction=arguments[1]||null;break;default:return f.logStr('Unexpected type of argument! Expected "string" or "object", got '+typeof i),!1}$["default"](o),h.fixVerticalPosition(),h.openModal(arguments[1]);for(var u=h.getModal(),g=u.querySelectorAll("button"),v=["onclick","onmouseover","onmouseout","onmousedown","onmouseup","onfocus"],b=function(e){return p.handleButton(e,o,u)},E=0;E<g.length;E++)for(var w=0;w<v.length;w++){var S=v[w];g[E][S]=b}h.getOverlay().onclick=b,s=e.onkeydown;var x=function(e){return m["default"](e,o,u)};e.onkeydown=x,e.onfocus=function(){setTimeout(function(){l!==n&&(l.focus(),l=n)},0)},c.enableButtons()},u.setDefaults=c.setDefaults=function(e){if(!e)throw new Error("userParams is required");if("object"!=typeof e)throw new Error("userParams has to be a object");f.extend(y["default"],e)},u.close=c.close=function(){var r=h.getModal();d.fadeOut(h.getOverlay(),5),d.fadeOut(r,5),d.removeClass(r,"showSweetAlert"),d.addClass(r,"hideSweetAlert"),d.removeClass(r,"visible");var i=r.querySelector(".sa-icon.sa-success");d.removeClass(i,"animate"),d.removeClass(i.querySelector(".sa-tip"),"animateSuccessTip"),d.removeClass(i.querySelector(".sa-long"),"animateSuccessLong");var o=r.querySelector(".sa-icon.sa-error");d.removeClass(o,"animateErrorIcon"),d.removeClass(o.querySelector(".sa-x-mark"),"animateXMark");var a=r.querySelector(".sa-icon.sa-warning");return d.removeClass(a,"pulseWarning"),d.removeClass(a.querySelector(".sa-body"),"pulseWarningIns"),d.removeClass(a.querySelector(".sa-dot"),"pulseWarningIns"),setTimeout(function(){var e=r.getAttribute("data-custom-class");d.removeClass(r,e)},300),d.removeClass(t.body,"stop-scrolling"),e.onkeydown=s,e.previousActiveElement&&e.previousActiveElement.focus(),l=n,clearTimeout(r.timeout),!0},u.showInputError=c.showInputError=function(e){var t=h.getModal(),n=t.querySelector(".sa-input-error");d.addClass(n,"show");var r=t.querySelector(".sa-error-container");d.addClass(r,"show"),r.querySelector("p").innerHTML=e,setTimeout(function(){u.enableButtons()},1),t.querySelector("input").focus()},u.resetInputError=c.resetInputError=function(e){if(e&&13===e.keyCode)return!1;var t=h.getModal(),n=t.querySelector(".sa-input-error");d.removeClass(n,"show");var r=t.querySelector(".sa-error-container");d.removeClass(r,"show")},u.disableButtons=c.disableButtons=function(){var e=h.getModal(),t=e.querySelector("button.confirm"),n=e.querySelector("button.cancel");t.disabled=!0,n.disabled=!0},u.enableButtons=c.enableButtons=function(){var e=h.getModal(),t=e.querySelector("button.confirm"),n=e.querySelector("button.cancel");t.disabled=!1,n.disabled=!1},"undefined"!=typeof e?e.sweetAlert=e.swal=u:f.logStr("SweetAlert is a frontend module!"),i.exports=o["default"]},{"./modules/default-params":2,"./modules/handle-click":3,"./modules/handle-dom":4,"./modules/handle-key":5,"./modules/handle-swal-dom":6,"./modules/set-params":8,"./modules/utils":9}],2:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r={title:"",text:"",type:null,allowOutsideClick:!1,showConfirmButton:!0,showCancelButton:!1,closeOnConfirm:!0,closeOnCancel:!0,confirmButtonText:"OK",confirmButtonColor:"#8CD4F5",cancelButtonText:"Cancel",imageUrl:null,imageSize:null,timer:null,customClass:"",html:!1,animation:!0,allowEscapeKey:!0,inputType:"text",inputPlaceholder:"",inputValue:"",showLoaderOnConfirm:!1};n["default"]=r,t.exports=n["default"]},{}],3:[function(t,n,r){Object.defineProperty(r,"__esModule",{value:!0});var i=t("./utils"),o=(t("./handle-swal-dom"),t("./handle-dom")),a=function(t,n,r){function a(e){p&&n.confirmButtonColor&&(h.style.backgroundColor=e)}var u,c,d,f=t||e.event,h=f.target||f.srcElement,p=-1!==h.className.indexOf("confirm"),g=-1!==h.className.indexOf("sweet-overlay"),m=o.hasClass(r,"visible"),v=n.doneFunction&&"true"===r.getAttribute("data-has-done-function");switch(p&&n.confirmButtonColor&&(u=n.confirmButtonColor,c=i.colorLuminance(u,-.04),d=i.colorLuminance(u,-.14)),f.type){case"mouseover":a(c);break;case"mouseout":a(u);break;case"mousedown":a(d);break;case"mouseup":a(c);break;case"focus":var y=r.querySelector("button.confirm"),b=r.querySelector("button.cancel");p?b.style.boxShadow="none":y.style.boxShadow="none";break;case"click":var $=r===h,E=o.isDescendant(r,h);if(!$&&!E&&m&&!n.allowOutsideClick)break;p&&v&&m?s(r,n):v&&m||g?l(r,n):o.isDescendant(r,h)&&"BUTTON"===h.tagName&&sweetAlert.close()}},s=function(e,t){var n=!0;o.hasClass(e,"show-input")&&(n=e.querySelector("input").value,n||(n="")),t.doneFunction(n),t.closeOnConfirm&&sweetAlert.close(),t.showLoaderOnConfirm&&sweetAlert.disableButtons()},l=function(e,t){var n=String(t.doneFunction).replace(/\s/g,""),r="function("===n.substring(0,9)&&")"!==n.substring(9,10);r&&t.doneFunction(!1),t.closeOnCancel&&sweetAlert.close()};r["default"]={handleButton:a,handleConfirm:s,handleCancel:l},n.exports=r["default"]},{"./handle-dom":4,"./handle-swal-dom":6,"./utils":9}],4:[function(n,r,i){Object.defineProperty(i,"__esModule",{value:!0});var o=function(e,t){return new RegExp(" "+t+" ").test(" "+e.className+" ")},a=function(e,t){o(e,t)||(e.className+=" "+t)},s=function(e,t){var n=" "+e.className.replace(/[\t\r\n]/g," ")+" ";if(o(e,t)){for(;n.indexOf(" "+t+" ")>=0;)n=n.replace(" "+t+" "," ");e.className=n.replace(/^\s+|\s+$/g,"")}},l=function(e){var n=t.createElement("div");return n.appendChild(t.createTextNode(e)),n.innerHTML},u=function(e){e.style.opacity="",e.style.display="block"},c=function(e){if(e&&!e.length)return u(e);for(var t=0;t<e.length;++t)u(e[t])},d=function(e){e.style.opacity="",e.style.display="none"},f=function(e){if(e&&!e.length)return d(e);for(var t=0;t<e.length;++t)d(e[t])},h=function(e,t){for(var n=t.parentNode;null!==n;){if(n===e)return!0;n=n.parentNode}return!1},p=function(e){e.style.left="-9999px",e.style.display="block";var t,n=e.clientHeight;return t="undefined"!=typeof getComputedStyle?parseInt(getComputedStyle(e).getPropertyValue("padding-top"),10):parseInt(e.currentStyle.padding),e.style.left="",e.style.display="none","-"+parseInt((n+t)/2)+"px"},g=function(e,t){if(+e.style.opacity<1){t=t||16,e.style.opacity=0,e.style.display="block";var n=+new Date,r=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){e.style.opacity=+e.style.opacity+(new Date-n)/100,n=+new Date,+e.style.opacity<1&&setTimeout(r,t)});r()}e.style.display="block"},m=function(e,t){t=t||16,e.style.opacity=1;var n=+new Date,r=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){e.style.opacity=+e.style.opacity-(new Date-n)/100,n=+new Date,+e.style.opacity>0?setTimeout(r,t):e.style.display="none"});r()},v=function(n){if("function"==typeof MouseEvent){var r=new MouseEvent("click",{view:e,bubbles:!1,cancelable:!0});n.dispatchEvent(r)}else if(t.createEvent){var i=t.createEvent("MouseEvents");i.initEvent("click",!1,!1),n.dispatchEvent(i)}else t.createEventObject?n.fireEvent("onclick"):"function"==typeof n.onclick&&n.onclick()},y=function(t){"function"==typeof t.stopPropagation?(t.stopPropagation(),t.preventDefault()):e.event&&e.event.hasOwnProperty("cancelBubble")&&(e.event.cancelBubble=!0)};i.hasClass=o,i.addClass=a,i.removeClass=s,i.escapeHtml=l,i._show=u,i.show=c,i._hide=d,i.hide=f,i.isDescendant=h,i.getTopMargin=p,i.fadeIn=g,i.fadeOut=m,i.fireClick=v,i.stopEventPropagation=y},{}],5:[function(t,r,i){Object.defineProperty(i,"__esModule",{value:!0});var o=t("./handle-dom"),a=t("./handle-swal-dom"),s=function(t,r,i){var s=t||e.event,l=s.keyCode||s.which,u=i.querySelector("button.confirm"),c=i.querySelector("button.cancel"),d=i.querySelectorAll("button[tabindex]");if(-1!==[9,13,32,27].indexOf(l)){for(var f=s.target||s.srcElement,h=-1,p=0;p<d.length;p++)if(f===d[p]){h=p;break}9===l?(f=-1===h?u:h===d.length-1?d[0]:d[h+1],o.stopEventPropagation(s),f.focus(),r.confirmButtonColor&&a.setFocusStyle(f,r.confirmButtonColor)):13===l?("INPUT"===f.tagName&&(f=u,u.focus()),f=-1===h?u:n):27===l&&r.allowEscapeKey===!0?(f=c,o.fireClick(f,s)):f=n}};i["default"]=s,r.exports=i["default"]},{"./handle-dom":4,"./handle-swal-dom":6}],6:[function(n,r,i){var o=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(i,"__esModule",{value:!0});var a=n("./utils"),s=n("./handle-dom"),l=n("./default-params"),u=o(l),c=n("./injected-html"),d=o(c),f=".sweet-alert",h=".sweet-overlay",p=function(){var e=t.createElement("div");for(e.innerHTML=d["default"];e.firstChild;)t.body.appendChild(e.firstChild)},g=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=t.querySelector(f);return e||(p(),e=g()),e}),m=function(){var e=g();return e?e.querySelector("input"):void 0},v=function(){return t.querySelector(h)},y=function(e,t){var n=a.hexToRgb(t);e.style.boxShadow="0 0 2px rgba("+n+", 0.8), inset 0 0 0 1px rgba(0, 0, 0, 0.05)"},b=function(n){var r=g();s.fadeIn(v(),10),s.show(r),s.addClass(r,"showSweetAlert"),s.removeClass(r,"hideSweetAlert"),e.previousActiveElement=t.activeElement;var i=r.querySelector("button.confirm");i.focus(),setTimeout(function(){s.addClass(r,"visible")},500);var o=r.getAttribute("data-timer");if("null"!==o&&""!==o){var a=n;r.timeout=setTimeout(function(){var e=(a||null)&&"true"===r.getAttribute("data-has-done-function");e?a(null):sweetAlert.close()},o)}},$=function(){var e=g(),t=m();s.removeClass(e,"show-input"),t.value=u["default"].inputValue,t.setAttribute("type",u["default"].inputType),t.setAttribute("placeholder",u["default"].inputPlaceholder),E()},E=function(e){if(e&&13===e.keyCode)return!1;var t=g(),n=t.querySelector(".sa-input-error");s.removeClass(n,"show");var r=t.querySelector(".sa-error-container");s.removeClass(r,"show")},w=function(){var e=g();e.style.marginTop=s.getTopMargin(g())};i.sweetAlertInitialize=p,i.getModal=g,i.getOverlay=v,i.getInput=m,i.setFocusStyle=y,i.openModal=b,i.resetInput=$,i.resetInputError=E,i.fixVerticalPosition=w},{"./default-params":2,"./handle-dom":4,"./injected-html":7,"./utils":9}],7:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r='<div class="sweet-overlay" tabIndex="-1"></div><div class="sweet-alert"><div class="sa-icon sa-error">\n      <span class="sa-x-mark">\n        <span class="sa-line sa-left"></span>\n        <span class="sa-line sa-right"></span>\n      </span>\n    </div><div class="sa-icon sa-warning">\n      <span class="sa-body"></span>\n      <span class="sa-dot"></span>\n    </div><div class="sa-icon sa-info"></div><div class="sa-icon sa-success">\n      <span class="sa-line sa-tip"></span>\n      <span class="sa-line sa-long"></span>\n\n      <div class="sa-placeholder"></div>\n      <div class="sa-fix"></div>\n    </div><div class="sa-icon sa-custom"></div><h2>Title</h2>\n    <p>Text</p>\n    <fieldset>\n      <input type="text" tabIndex="3" />\n      <div class="sa-input-error"></div>\n    </fieldset><div class="sa-error-container">\n      <div class="icon">!</div>\n      <p>Not valid!</p>\n    </div><div class="sa-button-container">\n      <button class="cancel" tabIndex="2">Cancel</button>\n      <div class="sa-confirm-button-container">\n        <button class="confirm" tabIndex="1">OK</button><div class="la-ball-fall">\n          <div></div>\n          <div></div>\n          <div></div>\n        </div>\n      </div>\n    </div></div>';n["default"]=r,t.exports=n["default"]},{}],8:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var i=e("./utils"),o=e("./handle-swal-dom"),a=e("./handle-dom"),s=["error","warning","info","success","input","prompt"],l=function(e){var t=o.getModal(),r=t.querySelector("h2"),l=t.querySelector("p"),u=t.querySelector("button.cancel"),c=t.querySelector("button.confirm");if(r.innerHTML=e.html?e.title:a.escapeHtml(e.title).split("\n").join("<br>"),l.innerHTML=e.html?e.text:a.escapeHtml(e.text||"").split("\n").join("<br>"),e.text&&a.show(l),e.customClass)a.addClass(t,e.customClass),t.setAttribute("data-custom-class",e.customClass);else{var d=t.getAttribute("data-custom-class");a.removeClass(t,d),t.setAttribute("data-custom-class","")}if(a.hide(t.querySelectorAll(".sa-icon")),e.type&&!i.isIE8()){var f=function(){for(var r=!1,i=0;i<s.length;i++)if(e.type===s[i]){r=!0;break}if(!r)return logStr("Unknown alert type: "+e.type),{v:!1};var l=["success","error","warning","info"],u=n;-1!==l.indexOf(e.type)&&(u=t.querySelector(".sa-icon.sa-"+e.type),a.show(u));var c=o.getInput();switch(e.type){case"success":a.addClass(u,"animate"),a.addClass(u.querySelector(".sa-tip"),"animateSuccessTip"),a.addClass(u.querySelector(".sa-long"),"animateSuccessLong");break;case"error":a.addClass(u,"animateErrorIcon"),a.addClass(u.querySelector(".sa-x-mark"),"animateXMark");break;case"warning":a.addClass(u,"pulseWarning"),a.addClass(u.querySelector(".sa-body"),"pulseWarningIns"),a.addClass(u.querySelector(".sa-dot"),"pulseWarningIns");break;case"input":case"prompt":c.setAttribute("type",e.inputType),c.value=e.inputValue,c.setAttribute("placeholder",e.inputPlaceholder),a.addClass(t,"show-input"),setTimeout(function(){c.focus(),c.addEventListener("keyup",swal.resetInputError)},400)}}();if("object"==typeof f)return f.v}if(e.imageUrl){var h=t.querySelector(".sa-icon.sa-custom");h.style.backgroundImage="url("+e.imageUrl+")",a.show(h);var p=80,g=80;if(e.imageSize){var m=e.imageSize.toString().split("x"),v=m[0],y=m[1];v&&y?(p=v,g=y):logStr("Parameter imageSize expects value with format WIDTHxHEIGHT, got "+e.imageSize)}h.setAttribute("style",h.getAttribute("style")+"width:"+p+"px; height:"+g+"px")}t.setAttribute("data-has-cancel-button",e.showCancelButton),e.showCancelButton?u.style.display="inline-block":a.hide(u),t.setAttribute("data-has-confirm-button",e.showConfirmButton),e.showConfirmButton?c.style.display="inline-block":a.hide(c),e.cancelButtonText&&(u.innerHTML=a.escapeHtml(e.cancelButtonText)),e.confirmButtonText&&(c.innerHTML=a.escapeHtml(e.confirmButtonText)),e.confirmButtonColor&&(c.style.backgroundColor=e.confirmButtonColor,c.style.borderLeftColor=e.confirmLoadingButtonColor,c.style.borderRightColor=e.confirmLoadingButtonColor,o.setFocusStyle(c,e.confirmButtonColor)),t.setAttribute("data-allow-outside-click",e.allowOutsideClick);var b=!!e.doneFunction;t.setAttribute("data-has-done-function",b),e.animation?"string"==typeof e.animation?t.setAttribute("data-animation",e.animation):t.setAttribute("data-animation","pop"):t.setAttribute("data-animation","none"),t.setAttribute("data-timer",e.timer)};r["default"]=l,t.exports=r["default"]},{"./handle-dom":4,"./handle-swal-dom":6,"./utils":9}],9:[function(t,n,r){Object.defineProperty(r,"__esModule",{value:!0});var i=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},o=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?parseInt(t[1],16)+", "+parseInt(t[2],16)+", "+parseInt(t[3],16):null},a=function(){return e.attachEvent&&!e.addEventListener},s=function(t){e.console&&e.console.log("SweetAlert: "+t)},l=function(e,t){e=String(e).replace(/[^0-9a-f]/gi,""),e.length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;var n,r,i="#";for(r=0;3>r;r++)n=parseInt(e.substr(2*r,2),16),n=Math.round(Math.min(Math.max(0,n+n*t),255)).toString(16),i+=("00"+n).substr(n.length);return i};r.extend=i,r.hexToRgb=o,r.isIE8=a,r.logStr=s,r.colorLuminance=l},{}]},{},[1]),"function"==typeof define&&define.amd?define(function(){return sweetAlert}):"undefined"!=typeof module&&module.exports&&(module.exports=sweetAlert)}(window,document),function(e,t){"use strict";function n(e,n,r){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(i,o,a,s,l){function u(){h&&(r.cancel(h),h=null),d&&(d.$destroy(),d=null),f&&(h=r.leave(f),h.then(function(){h=null}),f=null)}function c(){var a=e.current&&e.current.locals;if(t.isDefined(a&&a.$template)){var a=i.$new(),s=e.current;f=l(a,function(e){r.enter(e,null,f||o).then(function(){!t.isDefined(p)||p&&!i.$eval(p)||n()}),u()}),d=s.scope=a,d.$emit("$viewContentLoaded"),d.$eval(g)}else u()}var d,f,h,p=a.autoscroll,g=a.onload||"";i.$on("$routeChangeSuccess",c),c()}}}function r(e,t,n){return{restrict:"ECA",priority:-400,link:function(r,i){var o=n.current,a=o.locals;i.html(a.$template);var s=e(i.contents());if(o.controller){a.$scope=r;var l=t(o.controller,a);o.controllerAs&&(r[o.controllerAs]=l),i.data("$ngControllerController",l),i.children().data("$ngControllerController",l)}r[o.resolveAs||"$resolve"]=a,s(r)}}}var i,o,a=t.module("ngRoute",["ng"]).provider("$route",function(){function e(e,n){return t.extend(Object.create(e),n)}function n(e,t){var n=t.caseInsensitiveMatch,r={originalPath:e,regexp:e},i=r.keys=[];return e=e.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)(\*\?|[\?\*])?/g,function(e,t,n,r){return e="?"===r||"*?"===r?"?":null,r="*"===r||"*?"===r?"*":null,i.push({name:n,optional:!!e}),t=t||"",""+(e?"":t)+"(?:"+(e?t:"")+(r&&"(.+?)"||"([^/]+)")+(e||"")+")"+(e||"")}).replace(/([\/$\*])/g,"\\$1"),r.regexp=new RegExp("^"+e+"$",n?"i":""),r}i=t.isArray,o=t.isObject;var r={};this.when=function(e,a){var s;if(s=void 0,i(a)){s=s||[];for(var l=0,u=a.length;l<u;l++)s[l]=a[l]}else if(o(a))for(l in s=s||{},a)"$"===l.charAt(0)&&"$"===l.charAt(1)||(s[l]=a[l]);return s=s||a,t.isUndefined(s.reloadOnSearch)&&(s.reloadOnSearch=!0),t.isUndefined(s.caseInsensitiveMatch)&&(s.caseInsensitiveMatch=this.caseInsensitiveMatch),r[e]=t.extend(s,e&&n(e,s)),e&&(l="/"==e[e.length-1]?e.substr(0,e.length-1):e+"/",r[l]=t.extend({redirectTo:e},n(l,s))),this},this.caseInsensitiveMatch=!1,this.otherwise=function(e){return"string"==typeof e&&(e={redirectTo:e}),this.when(null,e),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce",function(n,i,o,a,l,u,c){function d(e){var r=$.current;(y=(v=g())&&r&&v.$$route===r.$$route&&t.equals(v.pathParams,r.pathParams)&&!v.reloadOnSearch&&!b)||!r&&!v||n.$broadcast("$routeChangeStart",v,r).defaultPrevented&&e&&e.preventDefault()}function f(){var e=$.current,r=v;y?(e.params=r.params,t.copy(e.params,o),n.$broadcast("$routeUpdate",e)):(r||e)&&(b=!1,($.current=r)&&r.redirectTo&&(t.isString(r.redirectTo)?i.path(m(r.redirectTo,r.params)).search(r.params).replace():i.url(r.redirectTo(r.pathParams,i.path(),i.search())).replace()),a.when(r).then(h).then(function(i){r==$.current&&(r&&(r.locals=i,t.copy(r.params,o)),n.$broadcast("$routeChangeSuccess",r,e))},function(t){r==$.current&&n.$broadcast("$routeChangeError",r,e,t)}))}function h(e){if(e){var n=t.extend({},e.resolve);return t.forEach(n,function(e,r){n[r]=t.isString(e)?l.get(e):l.invoke(e,null,null,r)}),e=p(e),t.isDefined(e)&&(n.$template=e),a.all(n)}}function p(e){var n,r;return t.isDefined(n=e.template)?t.isFunction(n)&&(n=n(e.params)):t.isDefined(r=e.templateUrl)&&(t.isFunction(r)&&(r=r(e.params)),t.isDefined(r)&&(e.loadedTemplateUrl=c.valueOf(r),n=u(r))),n}function g(){var n,o;return t.forEach(r,function(r,a){var s;if(s=!o){var l=i.path();s=r.keys;var u={};if(r.regexp)if(l=r.regexp.exec(l)){for(var c=1,d=l.length;c<d;++c){var f=s[c-1],h=l[c];f&&h&&(u[f.name]=h)}s=u}else s=null;else s=null;s=n=s}s&&(o=e(r,{params:t.extend({},i.search(),n),pathParams:n}),o.$$route=r)}),o||r[null]&&e(r[null],{params:{},pathParams:{}})}function m(e,n){var r=[];return t.forEach((e||"").split(":"),function(e,t){if(0===t)r.push(e);else{var i=e.match(/(\w+)(?:[?*])?(.*)/),o=i[1];r.push(n[o]),r.push(i[2]||""),delete n[o]}}),r.join("")}var v,y,b=!1,$={routes:r,reload:function(){b=!0;var e={defaultPrevented:!1,preventDefault:function(){this.defaultPrevented=!0,b=!1}};n.$evalAsync(function(){d(e),e.defaultPrevented||f()})},updateParams:function(e){if(!this.current||!this.current.$$route)throw s("norout");e=t.extend({},this.current.params,e),i.path(m(this.current.$$route.originalPath,e)),i.search(e)}};return n.$on("$locationChangeStart",d),n.$on("$locationChangeSuccess",f),$}]}),s=t.$$minErr("ngRoute");a.provider("$routeParams",function(){this.$get=function(){return{}}}),a.directive("ngView",n),a.directive("ngView",r),n.$inject=["$route","$anchorScroll","$animate"],r.$inject=["$compile","$controller","$route"]}(window,window.angular),function(e,t){"use strict";function n(e,n){var r=!1,i=!1;this.ngClickOverrideEnabled=function(a){return t.isDefined(a)?(a&&!i&&(i=!0,o.$$moduleName="ngTouch",n.directive("ngClick",o),e.decorator("ngClickDirective",["$delegate",function(e){if(r)e.shift();else for(var t=e.length-1;0<=t;){if("ngTouch"===e[t].$$moduleName){e.splice(t,1);break}t--}return e}])),r=a,this):r},this.$get=function(){return{ngClickOverrideEnabled:function(){return r}}}}function r(e,n,r){i.directive(e,["$parse","$swipe",function(i,o){return function(a,s,l){function u(e){if(!c)return!1;var t=Math.abs(e.y-c.y);return e=(e.x-c.x)*n,d&&75>t&&0<e&&30<e&&.3>t/e}var c,d,f=i(l[e]),h=["touch"];t.isDefined(l.ngSwipeDisableMouse)||h.push("mouse"),o.bind(s,{start:function(e,t){c=e,d=!0},cancel:function(e){d=!1},end:function(e,t){u(e)&&a.$apply(function(){s.triggerHandler(r),
f(a,{$event:t})})}},h)}}])}var i=t.module("ngTouch",[]);i.provider("$touch",n),n.$inject=["$provide","$compileProvider"],i.factory("$swipe",[function(){function e(e){e=e.originalEvent||e;var t=e.touches&&e.touches.length?e.touches:[e];return e=e.changedTouches&&e.changedTouches[0]||t[0],{x:e.clientX,y:e.clientY}}function n(e,n){var i=[];return t.forEach(e,function(e){(e=r[e][n])&&i.push(e)}),i.join(" ")}var r={mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},touch:{start:"touchstart",move:"touchmove",end:"touchend",cancel:"touchcancel"},pointer:{start:"pointerdown",move:"pointermove",end:"pointerup",cancel:"pointercancel"}};return{bind:function(t,r,i){var o,a,s,l,u=!1;i=i||["mouse","touch","pointer"],t.on(n(i,"start"),function(t){s=e(t),u=!0,a=o=0,l=s,r.start&&r.start(s,t)});var c=n(i,"cancel");c&&t.on(c,function(e){u=!1,r.cancel&&r.cancel(e)}),t.on(n(i,"move"),function(t){if(u&&s){var n=e(t);o+=Math.abs(n.x-l.x),a+=Math.abs(n.y-l.y),l=n,10>o&&10>a||(a>o?(u=!1,r.cancel&&r.cancel(t)):(t.preventDefault(),r.move&&r.move(n,t)))}}),t.on(n(i,"end"),function(t){u&&(u=!1,r.end&&r.end(e(t),t))})}}}]);var o=["$parse","$timeout","$rootElement",function(e,n,r){function i(e,t,n){for(var r=0;r<e.length;r+=2){var i=e[r+1],o=n;if(25>Math.abs(e[r]-t)&&25>Math.abs(i-o))return e.splice(r,r+2),!0}return!1}function o(e){if(!(2500<Date.now()-s)){var n=e.touches&&e.touches.length?e.touches:[e],r=n[0].clientX,n=n[0].clientY;if(!(1>r&&1>n||u&&u[0]===r&&u[1]===n)){u&&(u=null);var o=e.target;"label"===t.lowercase(o.nodeName||o[0]&&o[0].nodeName)&&(u=[r,n]),i(l,r,n)||(e.stopPropagation(),e.preventDefault(),e.target&&e.target.blur&&e.target.blur())}}}function a(e){e=e.touches&&e.touches.length?e.touches:[e];var t=e[0].clientX,r=e[0].clientY;l.push(t,r),n(function(){for(var e=0;e<l.length;e+=2)if(l[e]==t&&l[e+1]==r){l.splice(e,e+2);break}},2500,!1)}var s,l,u;return function(n,u,c){var d,f,h,p,g=e(c.ngClick),m=!1;u.on("touchstart",function(e){m=!0,d=e.target?e.target:e.srcElement,3==d.nodeType&&(d=d.parentNode),u.addClass("ng-click-active"),f=Date.now(),e=e.originalEvent||e,e=(e.touches&&e.touches.length?e.touches:[e])[0],h=e.clientX,p=e.clientY}),u.on("touchcancel",function(e){m=!1,u.removeClass("ng-click-active")}),u.on("touchend",function(e){var n=Date.now()-f,g=e.originalEvent||e,v=(g.changedTouches&&g.changedTouches.length?g.changedTouches:g.touches&&g.touches.length?g.touches:[g])[0],g=v.clientX,v=v.clientY,y=Math.sqrt(Math.pow(g-h,2)+Math.pow(v-p,2));m&&750>n&&12>y&&(l||(r[0].addEventListener("click",o,!0),r[0].addEventListener("touchstart",a,!0),l=[]),s=Date.now(),i(l,g,v),d&&d.blur(),t.isDefined(c.disabled)&&!1!==c.disabled||u.triggerHandler("click",[e])),m=!1,u.removeClass("ng-click-active")}),u.onclick=function(e){},u.on("click",function(e,t){n.$apply(function(){g(n,{$event:t||e})})}),u.on("mousedown",function(e){u.addClass("ng-click-active")}),u.on("mousemove mouseup",function(e){u.removeClass("ng-click-active")})}}];r("ngSwipeLeft",-1,"swipeleft"),r("ngSwipeRight",1,"swiperight")}(window,window.angular),!function(){function e(e,t){window.XMLHttpRequest.prototype[e]=t(window.XMLHttpRequest.prototype[e])}function t(e,t,n){try{Object.defineProperty(e,t,{get:n})}catch(r){}}if(window.FileAPI||(window.FileAPI={}),!window.XMLHttpRequest)throw"AJAX is not supported. XMLHttpRequest is not defined.";if(FileAPI.shouldLoad=!window.FormData||FileAPI.forceLoad,FileAPI.shouldLoad){var n=function(e){if(!e.__listeners){e.upload||(e.upload={}),e.__listeners=[];var t=e.upload.addEventListener;e.upload.addEventListener=function(n,r){e.__listeners[n]=r,t&&t.apply(this,arguments)}}};e("open",function(e){return function(t,r,i){n(this),this.__url=r;try{e.apply(this,[t,r,i])}catch(o){o.message.indexOf("Access is denied")>-1&&(this.__origError=o,e.apply(this,[t,"_fix_for_ie_crossdomain__",i]))}}}),e("getResponseHeader",function(e){return function(t){return this.__fileApiXHR&&this.__fileApiXHR.getResponseHeader?this.__fileApiXHR.getResponseHeader(t):null==e?null:e.apply(this,[t])}}),e("getAllResponseHeaders",function(e){return function(){return this.__fileApiXHR&&this.__fileApiXHR.getAllResponseHeaders?this.__fileApiXHR.getAllResponseHeaders():null==e?null:e.apply(this)}}),e("abort",function(e){return function(){return this.__fileApiXHR&&this.__fileApiXHR.abort?this.__fileApiXHR.abort():null==e?null:e.apply(this)}}),e("setRequestHeader",function(e){return function(t,r){if("__setXHR_"===t){n(this);var i=r(this);i instanceof Function&&i(this)}else this.__requestHeaders=this.__requestHeaders||{},this.__requestHeaders[t]=r,e.apply(this,arguments)}}),e("send",function(e){return function(){var n=this;if(arguments[0]&&arguments[0].__isFileAPIShim){var r=arguments[0],i={url:n.__url,jsonp:!1,cache:!0,complete:function(e,r){e&&angular.isString(e)&&-1!==e.indexOf("#2174")&&(e=null),n.__completed=!0,!e&&n.__listeners.load&&n.__listeners.load({type:"load",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:!0}),!e&&n.__listeners.loadend&&n.__listeners.loadend({type:"loadend",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:!0}),"abort"===e&&n.__listeners.abort&&n.__listeners.abort({type:"abort",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:!0}),void 0!==r.status&&t(n,"status",function(){return 0===r.status&&e&&"abort"!==e?500:r.status}),void 0!==r.statusText&&t(n,"statusText",function(){return r.statusText}),t(n,"readyState",function(){return 4}),void 0!==r.response&&t(n,"response",function(){return r.response});var i=r.responseText||(e&&0===r.status&&"abort"!==e?e:void 0);t(n,"responseText",function(){return i}),t(n,"response",function(){return i}),e&&t(n,"err",function(){return e}),n.__fileApiXHR=r,n.onreadystatechange&&n.onreadystatechange(),n.onload&&n.onload()},progress:function(e){if(e.target=n,n.__listeners.progress&&n.__listeners.progress(e),n.__total=e.total,n.__loaded=e.loaded,e.total===e.loaded){var t=this;setTimeout(function(){n.__completed||(n.getAllResponseHeaders=function(){},t.complete(null,{status:204,statusText:"No Content"}))},FileAPI.noContentTimeout||1e4)}},headers:n.__requestHeaders};i.data={},i.files={};for(var o=0;o<r.data.length;o++){var a=r.data[o];null!=a.val&&null!=a.val.name&&null!=a.val.size&&null!=a.val.type?i.files[a.key]=a.val:i.data[a.key]=a.val}setTimeout(function(){if(!FileAPI.hasFlash)throw'Adode Flash Player need to be installed. To check ahead use "FileAPI.hasFlash"';n.__fileApiXHR=FileAPI.upload(i)},1)}else{if(this.__origError)throw this.__origError;e.apply(n,arguments)}}}),window.XMLHttpRequest.__isFileAPIShim=!0,window.FormData=FormData=function(){return{append:function(e,t,n){t.__isFileAPIBlobShim&&(t=t.data[0]),this.data.push({key:e,val:t,name:n})},data:[],__isFileAPIShim:!0}},window.Blob=Blob=function(e){return{data:e,__isFileAPIBlobShim:!0}}}}(),function(){function e(e){return"input"===e[0].tagName.toLowerCase()&&e.attr("type")&&"file"===e.attr("type").toLowerCase()}function t(){try{var e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(e)return!0}catch(t){if(void 0!==navigator.mimeTypes["application/x-shockwave-flash"])return!0}return!1}function n(e){var t=0,n=0;if(window.jQuery)return jQuery(e).offset();if(e.offsetParent)do t+=e.offsetLeft-e.scrollLeft,n+=e.offsetTop-e.scrollTop,e=e.offsetParent;while(e);return{left:t,top:n}}if(FileAPI.shouldLoad){if(FileAPI.hasFlash=t(),FileAPI.forceLoad&&(FileAPI.html5=!1),!FileAPI.upload){var r,i,o,a,s,l=document.createElement("script"),u=document.getElementsByTagName("script");if(window.FileAPI.jsUrl)r=window.FileAPI.jsUrl;else if(window.FileAPI.jsPath)i=window.FileAPI.jsPath;else for(o=0;o<u.length;o++)if(s=u[o].src,a=s.search(/\/ng\-file\-upload[\-a-zA-z0-9\.]*\.js/),a>-1){i=s.substring(0,a+1);break}null==FileAPI.staticPath&&(FileAPI.staticPath=i),l.setAttribute("src",r||i+"FileAPI.min.js"),document.getElementsByTagName("head")[0].appendChild(l)}FileAPI.ngfFixIE=function(r,i,o){if(!t())throw'Adode Flash Player need to be installed. To check ahead use "FileAPI.hasFlash"';var a=function(){var t=i.parent();r.attr("disabled")?t&&t.removeClass("js-fileapi-wrapper"):(i.attr("__ngf_flash_")||(i.unbind("change"),i.unbind("click"),i.bind("change",function(e){s.apply(this,[e]),o.apply(this,[e])}),i.attr("__ngf_flash_","true")),t.addClass("js-fileapi-wrapper"),e(r)||(t.css("position","absolute").css("top",n(r[0]).top+"px").css("left",n(r[0]).left+"px").css("width",r[0].offsetWidth+"px").css("height",r[0].offsetHeight+"px").css("filter","alpha(opacity=0)").css("display",r.css("display")).css("overflow","hidden").css("z-index","900000").css("visibility","visible"),i.css("width",r[0].offsetWidth+"px").css("height",r[0].offsetHeight+"px").css("position","absolute").css("top","0px").css("left","0px")))};r.bind("mouseenter",a);var s=function(e){for(var t=FileAPI.getFiles(e),n=0;n<t.length;n++)void 0===t[n].size&&(t[n].size=0),void 0===t[n].name&&(t[n].name="file"),void 0===t[n].type&&(t[n].type="undefined");e.target||(e.target={}),e.target.files=t,e.target.files!==t&&(e.__files_=t),(e.__files_||e.target.files).item=function(t){return(e.__files_||e.target.files)[t]||null}}},FileAPI.disableFileInput=function(e,t){t?e.removeClass("js-fileapi-wrapper"):e.addClass("js-fileapi-wrapper")}}}(),window.FileReader||(window.FileReader=function(){var e=this,t=!1;this.listeners={},this.addEventListener=function(t,n){e.listeners[t]=e.listeners[t]||[],e.listeners[t].push(n)},this.removeEventListener=function(t,n){e.listeners[t]&&e.listeners[t].splice(e.listeners[t].indexOf(n),1)},this.dispatchEvent=function(t){var n=e.listeners[t.type];if(n)for(var r=0;r<n.length;r++)n[r].call(e,t)},this.onabort=this.onerror=this.onload=this.onloadstart=this.onloadend=this.onprogress=null;var n=function(t,n){var r={type:t,target:e,loaded:n.loaded,total:n.total,error:n.error};return null!=n.result&&(r.target.result=n.result),r},r=function(r){t||(t=!0,e.onloadstart&&e.onloadstart(n("loadstart",r)));var i;"load"===r.type?(e.onloadend&&e.onloadend(n("loadend",r)),i=n("load",r),e.onload&&e.onload(i),e.dispatchEvent(i)):"progress"===r.type?(i=n("progress",r),e.onprogress&&e.onprogress(i),e.dispatchEvent(i)):(i=n("error",r),e.onerror&&e.onerror(i),e.dispatchEvent(i))};this.readAsDataURL=function(e){FileAPI.readAsDataURL(e,r)},this.readAsText=function(e){FileAPI.readAsText(e,r)}}),!window.XMLHttpRequest||window.FileAPI&&FileAPI.shouldLoad||(window.XMLHttpRequest.prototype.setRequestHeader=function(e){return function(t,n){if("__setXHR_"===t){var r=n(this);r instanceof Function&&r(this)}else e.apply(this,arguments)}}(window.XMLHttpRequest.prototype.setRequestHeader));var ngFileUpload=angular.module("ngFileUpload",[]);ngFileUpload.version="12.0.4",ngFileUpload.service("UploadBase",["$http","$q","$timeout",function(e,t,n){function r(r){function i(e){u.notify&&u.notify(e),c.progressFunc&&n(function(){c.progressFunc(e)})}function s(e){return null!=r._start&&a?{loaded:e.loaded+r._start,total:r._file&&r._file.size||e.total,type:e.type,config:r,lengthComputable:!0,target:e.target}:e}function l(){e(r).then(function(e){a&&r._chunkSize&&!r._finished&&r._file?(i({loaded:r._end,total:r._file&&r._file.size,config:r,type:"progress"}),o.upload(r,!0)):(r._finished&&delete r._finished,u.resolve(e))},function(e){u.reject(e)},function(e){u.notify(e)})}r.method=r.method||"POST",r.headers=r.headers||{};var u=r._deferred=r._deferred||t.defer(),c=u.promise;return r.disableProgress||(r.headers.__setXHR_=function(){return function(e){e&&e.upload&&e.upload.addEventListener&&(r.__XHR=e,r.xhrFn&&r.xhrFn(e),e.upload.addEventListener("progress",function(e){e.config=r,i(s(e))},!1),e.upload.addEventListener("load",function(e){e.lengthComputable&&(e.config=r,i(s(e)))},!1))}}),a?r._chunkSize&&r._end&&!r._finished?(r._start=r._end,r._end+=r._chunkSize,l()):r.resumeSizeUrl?e.get(r.resumeSizeUrl).then(function(e){r._start=r.resumeSizeResponseReader?r.resumeSizeResponseReader(e.data):parseInt((null==e.data.size?e.data:e.data.size).toString()),r._chunkSize&&(r._end=r._start+r._chunkSize),l()},function(e){throw e}):r.resumeSize?r.resumeSize().then(function(e){r._start=e,l()},function(e){throw e}):(r._chunkSize&&(r._start=0,r._end=r._start+r._chunkSize),l()):l(),c.success=function(e){return c.then(function(t){e(t.data,t.status,t.headers,r)}),c},c.error=function(e){return c.then(null,function(t){e(t.data,t.status,t.headers,r)}),c},c.progress=function(e){return c.progressFunc=e,c.then(null,null,function(t){e(t)}),c},c.abort=c.pause=function(){return r.__XHR&&n(function(){r.__XHR.abort()}),c},c.xhr=function(e){return r.xhrFn=function(t){return function(){t&&t.apply(c,arguments),e.apply(c,arguments)}}(r.xhrFn),c},o.promisesCount++,c["finally"](function(){o.promisesCount--}),c}function i(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var o=this;o.promisesCount=0,this.isResumeSupported=function(){return window.Blob&&window.Blob.prototype.slice};var a=this.isResumeSupported();this.isUploadInProgress=function(){return o.promisesCount>0},this.rename=function(e,t){return e.ngfName=t,e},this.jsonBlob=function(e){null==e||angular.isString(e)||(e=JSON.stringify(e));var t=new window.Blob([e],{type:"application/json"});return t._ngfBlob=!0,t},this.json=function(e){return angular.toJson(e)},this.isFile=function(e){return null!=e&&(e instanceof window.Blob||e.flashId&&e.name&&e.size)},this.upload=function(e,t){function n(t,n){if(t._ngfBlob)return t;if(e._file=e._file||t,null!=e._start&&a){e._end&&e._end>=t.size&&(e._finished=!0,e._end=t.size);var r=t.slice(e._start,e._end||t.size);return r.name=t.name,r.ngfName=t.ngfName,e._chunkSize&&(n.append("_chunkSize",e._chunkSize),n.append("_currentChunkSize",e._end-e._start),n.append("_chunkNumber",Math.floor(e._start/e._chunkSize)),n.append("_totalSize",e._file.size)),r}return t}function s(t,r,i){if(void 0!==r)if(angular.isDate(r)&&(r=r.toISOString()),angular.isString(r))t.append(i,r);else if(o.isFile(r)){var a=n(r,t),l=i.split(",");l[1]&&(a.ngfName=l[1].replace(/^\s+|\s+$/g,""),i=l[0]),e._fileKey=e._fileKey||i,t.append(i,a,a.ngfName||a.name)}else if(angular.isObject(r)){if(r.$$ngfCircularDetection)throw"ngFileUpload: Circular reference in config.data. Make sure specified data for Upload.upload() has no circular reference: "+i;r.$$ngfCircularDetection=!0;try{for(var u in r)if(r.hasOwnProperty(u)&&"$$ngfCircularDetection"!==u){var c=null==e.objectKey?"[i]":e.objectKey;r.length&&parseInt(u)>-1&&(c=null==e.arrayKey?c:e.arrayKey),s(t,r[u],i+c.replace(/[ik]/g,u))}}finally{delete r.$$ngfCircularDetection}}else t.append(i,r)}function l(){e._chunkSize=o.translateScalars(e.resumeChunkSize),e._chunkSize=e._chunkSize?parseInt(e._chunkSize.toString()):null,e.headers=e.headers||{},e.headers["Content-Type"]=void 0,e.transformRequest=e.transformRequest?angular.isArray(e.transformRequest)?e.transformRequest:[e.transformRequest]:[],e.transformRequest.push(function(t){var n,r=new window.FormData;t=t||e.fields||{},e.file&&(t.file=e.file);for(n in t)if(t.hasOwnProperty(n)){var i=t[n];e.formDataAppender?e.formDataAppender(r,n,i):s(r,i,n)}return r})}return t||(e=i(e)),e._isDigested||(e._isDigested=!0,l()),r(e)},this.http=function(t){return t=i(t),t.transformRequest=t.transformRequest||function(t){return window.ArrayBuffer&&t instanceof window.ArrayBuffer||t instanceof window.Blob?t:e.defaults.transformRequest[0].apply(this,arguments)},t._chunkSize=o.translateScalars(t.resumeChunkSize),t._chunkSize=t._chunkSize?parseInt(t._chunkSize.toString()):null,r(t)},this.translateScalars=function(e){if(angular.isString(e)){if(e.search(/kb/i)===e.length-2)return parseFloat(1024*e.substring(0,e.length-2));if(e.search(/mb/i)===e.length-2)return parseFloat(1048576*e.substring(0,e.length-2));if(e.search(/gb/i)===e.length-2)return parseFloat(1073741824*e.substring(0,e.length-2));if(e.search(/b/i)===e.length-1)return parseFloat(e.substring(0,e.length-1));if(e.search(/s/i)===e.length-1)return parseFloat(e.substring(0,e.length-1));if(e.search(/m/i)===e.length-1)return parseFloat(60*e.substring(0,e.length-1));if(e.search(/h/i)===e.length-1)return parseFloat(3600*e.substring(0,e.length-1))}return e},this.urlToBlob=function(n){var r=t.defer();return e({url:n,method:"get",responseType:"arraybuffer"}).then(function(e){var t=new Uint8Array(e.data),n=e.headers("content-type")||"image/WebP",i=new window.Blob([t],{type:n});r.resolve(i)},function(e){r.reject(e)}),r.promise},this.setDefaults=function(e){this.defaults=e||{}},this.defaults={},this.version=ngFileUpload.version}]),ngFileUpload.service("Upload",["$parse","$timeout","$compile","$q","UploadExif",function(e,t,n,r,i){function o(e,t,n){var i=[l.emptyPromise()];return angular.forEach(e,function(r,o){0===r.type.indexOf("image/jpeg")&&l.attrGetter("ngfFixOrientation",t,n,{$file:r})&&i.push(l.happyPromise(l.applyExifRotation(r),r).then(function(t){e.splice(o,1,t)}))}),r.all(i)}function a(e,t,n){var i=l.attrGetter("ngfResize",t,n);if(!i||!l.isResizeSupported()||!e.length)return l.emptyPromise();if(!(i instanceof Function))return s(i,e,t,n);var o=r.defer();i(e).then(function(r){s(r,e,t,n).then(function(e){o.resolve(e)},function(e){o.reject(e)})},function(e){o.reject(e)})}function s(e,t,n,i){function o(r,o){if(0===r.type.indexOf("image")){if(e.pattern&&!l.validatePattern(r,e.pattern))return;var s=l.resize(r,e.width,e.height,e.quality,e.type,e.ratio,e.centerCrop,function(e,t){return l.attrGetter("ngfResizeIf",n,i,{$width:e,$height:t,$file:r})},e.restoreExif!==!1);a.push(s),s.then(function(e){t.splice(o,1,e)},function(e){r.$error="resize",r.$errorParam=(e?(e.message?e.message:e)+": ":"")+(r&&r.name)})}}for(var a=[l.emptyPromise()],s=0;s<t.length;s++)o(t[s],s);return r.all(a)}var l=i;return l.getAttrWithDefaults=function(e,t){if(null!=e[t])return e[t];var n=l.defaults[t];return null==n?n:angular.isString(n)?n:JSON.stringify(n)},l.attrGetter=function(t,n,r,i){var o=this.getAttrWithDefaults(n,t);if(!r)return o;try{return i?e(o)(r,i):e(o)(r)}catch(a){if(t.search(/min|max|pattern/i))return o;throw a}},l.shouldUpdateOn=function(e,t,n){var r=l.attrGetter("ngModelOptions",t,n);return!r||!r.updateOn||r.updateOn.split(" ").indexOf(e)>-1},l.emptyPromise=function(){var e=r.defer(),n=arguments;return t(function(){e.resolve.apply(e,n)}),e.promise},l.rejectPromise=function(){var e=r.defer(),n=arguments;return t(function(){e.reject.apply(e,n)}),e.promise},l.happyPromise=function(e,n){var i=r.defer();return e.then(function(e){i.resolve(e)},function(e){t(function(){throw e}),i.resolve(n)}),i.promise},l.updateModel=function(n,r,i,s,u,c,d){function f(o,a,u,d,f){r.$$ngfPrevValidFiles=o,r.$$ngfPrevInvalidFiles=a;var h=o&&o.length?o[0]:null,p=a&&a.length?a[0]:null;n&&(l.applyModelValidation(n,o),n.$setViewValue(f?h:o)),s&&e(s)(i,{$files:o,$file:h,$newFiles:u,$duplicateFiles:d,$invalidFiles:a,$invalidFile:p,$event:c});var g=l.attrGetter("ngfModelInvalid",r);g&&t(function(){e(g).assign(i,f?p:a)}),t(function(){})}function h(){function e(e,t){return e.name===t.name&&(e.$ngfOrigSize||e.size)===(t.$ngfOrigSize||t.size)&&e.type===t.type}function t(t){var n;for(n=0;n<y.length;n++)if(e(t,y[n]))return!0;for(n=0;n<b.length;n++)if(e(t,b[n]))return!0;return!1}if(u){v=[],$=[];for(var n=0;n<u.length;n++)t(u[n])?$.push(u[n]):v.push(u[n])}}function p(e){return angular.isArray(e)?e:[e]}function g(){w=[],E=[],angular.forEach(v,function(e){e.$error?E.push(e):w.push(e)})}function m(){function e(){t(function(){f(S?y.concat(w):w,S?b.concat(E):E,u,$,x)},T&&T.debounce?T.debounce.change||T.debounce:0)}a(C?v:w,r,i).then(function(){C?l.validate(v,y.length,n,r,i).then(function(){g(),e()}):e()},function(e){throw"Could not resize files "+e})}var v,y,b,$=[],E=[],w=[];y=r.$$ngfPrevValidFiles||[],b=r.$$ngfPrevInvalidFiles||[],n&&n.$modelValue&&(y=p(n.$modelValue));var S=l.attrGetter("ngfKeep",r,i);v=(u||[]).slice(0),("distinct"===S||l.attrGetter("ngfKeepDistinct",r,i)===!0)&&h(r,i);var x=!S&&!l.attrGetter("ngfMultiple",r,i)&&!l.attrGetter("multiple",r);if(!S||v.length){l.attrGetter("ngfBeforeModelChange",r,i,{$files:u,$file:u&&u.length?u[0]:null,$newFiles:v,$duplicateFiles:$,$event:c});var C=l.attrGetter("ngfValidateAfterResize",r,i),T=l.attrGetter("ngModelOptions",r,i);l.validate(v,y.length,n,r,i).then(function(){d?f(v,[],u,$,x):(T&&T.allowInvalid||C?w=v:g(),l.attrGetter("ngfFixOrientation",r,i)&&l.isExifSupported()?o(w,r,i).then(function(){m()}):m())})}},l}]),ngFileUpload.directive("ngfSelect",["$parse","$timeout","$compile","Upload",function(e,t,n,r){function i(e){var t=e.match(/Android[^\d]*(\d+)\.(\d+)/);if(t&&t.length>2){var n=r.defaults.androidFixMinorVersion||4;return parseInt(t[1])<4||parseInt(t[1])===n&&parseInt(t[2])<n}return-1===e.indexOf("Chrome")&&/.*Windows.*Safari.*/.test(e)}function o(e,t,n,r,o,s,l,u){function c(){return"input"===t[0].tagName.toLowerCase()&&n.type&&"file"===n.type.toLowerCase()}function d(){return b("ngfChange")||b("ngfSelect")}function f(t){if(u.shouldUpdateOn("change",n,e)){for(var i=t.__files_||t.target&&t.target.files,o=[],a=0;a<i.length;a++)o.push(i[a]);u.updateModel(r,n,e,d(),o.length?o:null,t)}}function h(e){if(t!==e)for(var n=0;n<t[0].attributes.length;n++){var r=t[0].attributes[n];"type"!==r.name&&"class"!==r.name&&"style"!==r.name&&((null==r.value||""===r.value)&&("required"===r.name&&(r.value="required"),"multiple"===r.name&&(r.value="multiple")),e.attr(r.name,"id"===r.name?"ngf-"+r.value:r.value))}}function p(){if(c())return t;var e=angular.element('<input type="file">');h(e);var n=angular.element("<label>upload</label>");return n.css("visibility","hidden").css("position","absolute").css("overflow","hidden").css("width","0px").css("height","0px").css("border","none").css("margin","0px").css("padding","0px").attr("tabindex","-1"),a.push({el:t,ref:n}),document.body.appendChild(n.append(e)[0]),e}function g(n){if(t.attr("disabled"))return!1;if(!b("ngfSelectDisabled",e)){var r=m(n);if(null!=r)return r;v(n);try{c()||document.body.contains(w[0])||(a.push({el:t,ref:w.parent()}),document.body.appendChild(w.parent()[0]),w.bind("change",f))}catch(o){}return i(navigator.userAgent)?setTimeout(function(){w[0].click()},0):w[0].click(),!1}}function m(e){var t=e.changedTouches||e.originalEvent&&e.originalEvent.changedTouches;if("touchstart"===e.type)return E=t?t[0].clientY:0,!0;if(e.stopPropagation(),e.preventDefault(),"touchend"===e.type){var n=t?t[0].clientY:0;if(Math.abs(n-E)>20)return!1}}function v(t){u.shouldUpdateOn("click",n,e)&&w.val()&&(w.val(null),u.updateModel(r,n,e,d(),null,t,!0))}function y(e){if(w&&!w.attr("__ngf_ie10_Fix_")){if(!w[0].parentNode)return void(w=null);e.preventDefault(),e.stopPropagation(),w.unbind("click");var t=w.clone();return w.replaceWith(t),w=t,w.attr("__ngf_ie10_Fix_","true"),w.bind("change",f),w.bind("click",y),w[0].click(),!1}w.removeAttr("__ngf_ie10_Fix_")}var b=function(e,t){return u.attrGetter(e,n,t)};u.registerModelChangeValidator(r,n,e);var $=[];$.push(e.$watch(b("ngfMultiple"),function(){w.attr("multiple",b("ngfMultiple",e))})),$.push(e.$watch(b("ngfCapture"),function(){w.attr("capture",b("ngfCapture",e))})),$.push(e.$watch(b("ngfAccept"),function(){w.attr("accept",b("ngfAccept",e))})),n.$observe("accept",function(){w.attr("accept",b("accept"))}),$.push(function(){n.$$observers&&delete n.$$observers.accept});var E=0,w=t;c()||(w=p()),w.bind("change",f),c()?t.bind("click",v):t.bind("click touchstart touchend",g),-1!==navigator.appVersion.indexOf("MSIE 10")&&w.bind("click",y),r&&r.$formatters.push(function(e){return(null==e||0===e.length)&&w.val()&&w.val(null),e}),e.$on("$destroy",function(){c()||w.parent().remove(),angular.forEach($,function(e){e()})}),s(function(){for(var e=0;e<a.length;e++){var t=a[e];document.body.contains(t.el[0])||(a.splice(e,1),t.ref.remove())}}),window.FileAPI&&window.FileAPI.ngfFixIE&&window.FileAPI.ngfFixIE(t,w,f)}var a=[];return{restrict:"AEC",require:"?ngModel",link:function(i,a,s,l){o(i,a,s,l,e,t,n,r)}}}]),function(){function e(e){return"img"===e.tagName.toLowerCase()?"image":"audio"===e.tagName.toLowerCase()?"audio":"video"===e.tagName.toLowerCase()?"video":/./}function t(t,n,r,i,o,a,s,l){function u(e){var a=t.attrGetter("ngfNoObjectUrl",o,r);t.dataUrl(e,a)["finally"](function(){n(function(){var t=(a?e.$ngfDataUrl:e.$ngfBlobUrl)||e.$ngfDataUrl;l?i.css("background-image","url('"+(t||"")+"')"):i.attr("src",t),t?i.removeClass("ng-hide"):i.addClass("ng-hide")})})}n(function(){var n=r.$watch(o[a],function(n){var r=s;if("ngfThumbnail"===a&&(r||(r={width:i[0].clientWidth,height:i[0].clientHeight}),0===r.width&&window.getComputedStyle)){var o=getComputedStyle(i[0]);r={width:parseInt(o.width.slice(0,-2)),height:parseInt(o.height.slice(0,-2))}}return angular.isString(n)?(i.removeClass("ng-hide"),l?i.css("background-image","url('"+n+"')"):i.attr("src",n)):void(!n||!n.type||0!==n.type.search(e(i[0]))||l&&0!==n.type.indexOf("image")?i.addClass("ng-hide"):r&&t.isResizeSupported()?t.resize(n,r.width,r.height,r.quality).then(function(e){u(e)},function(e){throw e}):u(n))});r.$on("$destroy",function(){n()})})}ngFileUpload.service("UploadDataUrl",["UploadBase","$timeout","$q",function(e,t,n){var r=e;return r.base64DataUrl=function(e){if(angular.isArray(e)){var t=n.defer(),i=0;return angular.forEach(e,function(n){r.dataUrl(n,!0)["finally"](function(){if(i++,i===e.length){var n=[];angular.forEach(e,function(e){n.push(e.$ngfDataUrl)}),t.resolve(n,e)}})}),t.promise}return r.dataUrl(e,!0)},r.dataUrl=function(e,i){if(!e)return r.emptyPromise(e,e);if(i&&null!=e.$ngfDataUrl||!i&&null!=e.$ngfBlobUrl)return r.emptyPromise(i?e.$ngfDataUrl:e.$ngfBlobUrl,e);var o=i?e.$$ngfDataUrlPromise:e.$$ngfBlobUrlPromise;if(o)return o;var a=n.defer();return t(function(){if(window.FileReader&&e&&(!window.FileAPI||-1===navigator.userAgent.indexOf("MSIE 8")||e.size<2e4)&&(!window.FileAPI||-1===navigator.userAgent.indexOf("MSIE 9")||e.size<4e6)){var n=window.URL||window.webkitURL;if(n&&n.createObjectURL&&!i){var o;try{o=n.createObjectURL(e)}catch(s){return void t(function(){e.$ngfBlobUrl="",a.reject()})}t(function(){if(e.$ngfBlobUrl=o,o){a.resolve(o,e),r.blobUrls=r.blobUrls||[],r.blobUrlsTotalSize=r.blobUrlsTotalSize||0,r.blobUrls.push({url:o,size:e.size}),r.blobUrlsTotalSize+=e.size||0;for(var t=r.defaults.blobUrlsMaxMemory||268435456,i=r.defaults.blobUrlsMaxQueueSize||200;(r.blobUrlsTotalSize>t||r.blobUrls.length>i)&&r.blobUrls.length>1;){var s=r.blobUrls.splice(0,1)[0];n.revokeObjectURL(s.url),r.blobUrlsTotalSize-=s.size}}})}else{var l=new FileReader;l.onload=function(n){t(function(){e.$ngfDataUrl=n.target.result,a.resolve(n.target.result,e),t(function(){delete e.$ngfDataUrl},1e3)})},l.onerror=function(){t(function(){e.$ngfDataUrl="",a.reject()})},l.readAsDataURL(e)}}else t(function(){e[i?"$ngfDataUrl":"$ngfBlobUrl"]="",a.reject()})}),o=i?e.$$ngfDataUrlPromise=a.promise:e.$$ngfBlobUrlPromise=a.promise,o["finally"](function(){delete e[i?"$$ngfDataUrlPromise":"$$ngfBlobUrlPromise"]}),o},r}]),ngFileUpload.directive("ngfSrc",["Upload","$timeout",function(e,n){return{restrict:"AE",link:function(r,i,o){t(e,n,r,i,o,"ngfSrc",e.attrGetter("ngfResize",o,r),!1)}}}]),ngFileUpload.directive("ngfBackground",["Upload","$timeout",function(e,n){return{restrict:"AE",link:function(r,i,o){t(e,n,r,i,o,"ngfBackground",e.attrGetter("ngfResize",o,r),!0)}}}]),ngFileUpload.directive("ngfThumbnail",["Upload","$timeout",function(e,n){return{restrict:"AE",link:function(r,i,o){var a=e.attrGetter("ngfSize",o,r);t(e,n,r,i,o,"ngfThumbnail",a,e.attrGetter("ngfAsBackground",o,r))}}}]),ngFileUpload.config(["$compileProvider",function(e){e.imgSrcSanitizationWhitelist&&e.imgSrcSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|local|file|data|blob):/),e.aHrefSanitizationWhitelist&&e.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|local|file|data|blob):/)}]),ngFileUpload.filter("ngfDataUrl",["UploadDataUrl","$sce",function(e,t){return function(n,r,i){if(angular.isString(n))return t.trustAsResourceUrl(n);var o=n&&((r?n.$ngfDataUrl:n.$ngfBlobUrl)||n.$ngfDataUrl);return n&&!o?(!n.$ngfDataUrlFilterInProgress&&angular.isObject(n)&&(n.$ngfDataUrlFilterInProgress=!0,e.dataUrl(n,r)),""):(n&&delete n.$ngfDataUrlFilterInProgress,(n&&o?i?t.trustAsResourceUrl(o):o:n)||"")}}])}(),ngFileUpload.service("UploadValidate",["UploadDataUrl","$q","$timeout",function(e,t,n){function r(e){var t="",n=[];if(e.length>2&&"/"===e[0]&&"/"===e[e.length-1])t=e.substring(1,e.length-1);else{var i=e.split(",");if(i.length>1)for(var o=0;o<i.length;o++){var a=r(i[o]);a.regexp?(t+="("+a.regexp+")",o<i.length-1&&(t+="|")):n=n.concat(a.excludes)}else 0===e.indexOf("!")?n.push("^((?!"+r(e.substring(1)).regexp+").)*$"):(0===e.indexOf(".")&&(e="*"+e),t="^"+e.replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\-]","g"),"\\$&")+"$",t=t.replace(/\\\*/g,".*").replace(/\\\?/g,"."))}return{regexp:t,excludes:n}}function i(e,t){null==t||e.$dirty||(e.$setDirty?e.$setDirty():e.$dirty=!0)}var o=e;return o.validatePattern=function(e,t){if(!t)return!0;var n=r(t),i=!0;if(n.regexp&&n.regexp.length){var o=new RegExp(n.regexp,"i");i=null!=e.type&&o.test(e.type)||null!=e.name&&o.test(e.name)}for(var a=n.excludes.length;a--;){var s=new RegExp(n.excludes[a],"i");i=i&&(null==e.type||s.test(e.type))&&(null==e.name||s.test(e.name))}return i},o.ratioToFloat=function(e){var t=e.toString(),n=t.search(/[x:]/i);return t=n>-1?parseFloat(t.substring(0,n))/parseFloat(t.substring(n+1)):parseFloat(t)},o.registerModelChangeValidator=function(e,t,n){e&&e.$formatters.push(function(r){e.$dirty&&(r&&!angular.isArray(r)&&(r=[r]),o.validate(r,0,e,t,n).then(function(){o.applyModelValidation(e,r)}))})},o.applyModelValidation=function(e,t){i(e,t),angular.forEach(e.$ngfValidations,function(t){e.$setValidity(t.name,t.valid)})},o.getValidationAttr=function(e,t,n,r,i){var a="ngf"+n[0].toUpperCase()+n.substr(1),s=o.attrGetter(a,e,t,{$file:i});if(null==s&&(s=o.attrGetter("ngfValidate",e,t,{$file:i}))){var l=(r||n).split(".");s=s[l[0]],l.length>1&&(s=s&&s[l[1]])}return s},o.validate=function(e,n,r,i,a){function s(t,n,s){if(e){for(var l=e.length,u=null;l--;){var c=e[l];if(c){var d=o.getValidationAttr(i,a,t,n,c);null!=d&&(s(c,d,l)||(c.$error=t,(c.$errorMessages=c.$errorMessages||{})[t]=!0,c.$errorParam=d,e.splice(l,1),u=!1))}}null!==u&&r.$ngfValidations.push({name:t,valid:u})}}function l(n,s,l,c,d){function f(e,t,r){null!=r?c(t,r).then(function(i){d(i,r)?e.resolve():(t.$error=n,(t.$errorMessages=t.$errorMessages||{})[n]=!0,t.$errorParam=r,e.reject())},function(){u("ngfValidateForce",{$file:t})?(t.$error=n,(t.$errorMessages=t.$errorMessages||{})[n]=!0,t.$errorParam=r,e.reject()):e.resolve()}):e.resolve()}var h=[o.emptyPromise()];return e?(e=void 0===e.length?[e]:e,angular.forEach(e,function(e){var r=t.defer();return h.push(r.promise),!l||null!=e.type&&0===e.type.search(l)?void("dimensions"===n&&null!=o.attrGetter("ngfDimensions",i)?o.imageDimensions(e).then(function(t){f(r,e,u("ngfDimensions",{$file:e,$width:t.width,$height:t.height}))},function(){r.reject()}):"duration"===n&&null!=o.attrGetter("ngfDuration",i)?o.mediaDuration(e).then(function(t){f(r,e,u("ngfDuration",{$file:e,$duration:t}))},function(){r.reject()}):f(r,e,o.getValidationAttr(i,a,n,s,e))):void r.resolve()}),t.all(h).then(function(){r.$ngfValidations.push({name:n,valid:!0})},function(){r.$ngfValidations.push({name:n,valid:!1})})):void 0}r=r||{},r.$ngfValidations=r.$ngfValidations||[],angular.forEach(r.$ngfValidations,function(e){e.valid=!0});var u=function(e,t){return o.attrGetter(e,i,a,t)};if(null==e||0===e.length)return o.emptyPromise(r);e=void 0===e.length?[e]:e.slice(0),s("maxFiles",null,function(e,t,r){return t>n+r}),s("pattern",null,o.validatePattern),s("minSize","size.min",function(e,t){return e.size+.1>=o.translateScalars(t)}),s("maxSize","size.max",function(e,t){return e.size-.1<=o.translateScalars(t)});var c=0;if(s("maxTotalSize",null,function(t,n){return c+=t.size,!(c>o.translateScalars(n))||(e.splice(0,e.length),!1)}),s("validateFn",null,function(e,t){return t===!0||null===t||""===t}),!e.length)return o.emptyPromise(r,r.$ngfValidations);var d=t.defer(),f=[];return f.push(o.happyPromise(l("maxHeight","height.max",/image/,this.imageDimensions,function(e,t){
return e.height<=t}))),f.push(o.happyPromise(l("minHeight","height.min",/image/,this.imageDimensions,function(e,t){return e.height>=t}))),f.push(o.happyPromise(l("maxWidth","width.max",/image/,this.imageDimensions,function(e,t){return e.width<=t}))),f.push(o.happyPromise(l("minWidth","width.min",/image/,this.imageDimensions,function(e,t){return e.width>=t}))),f.push(o.happyPromise(l("dimensions",null,/image/,function(e,t){return o.emptyPromise(t)},function(e){return e}))),f.push(o.happyPromise(l("ratio",null,/image/,this.imageDimensions,function(e,t){for(var n=t.toString().split(","),r=!1,i=0;i<n.length;i++)Math.abs(e.width/e.height-o.ratioToFloat(n[i]))<1e-4&&(r=!0);return r}))),f.push(o.happyPromise(l("maxRatio","ratio.max",/image/,this.imageDimensions,function(e,t){return e.width/e.height-o.ratioToFloat(t)<1e-4}))),f.push(o.happyPromise(l("minRatio","ratio.min",/image/,this.imageDimensions,function(e,t){return e.width/e.height-o.ratioToFloat(t)>-1e-4}))),f.push(o.happyPromise(l("maxDuration","duration.max",/audio|video/,this.mediaDuration,function(e,t){return e<=o.translateScalars(t)}))),f.push(o.happyPromise(l("minDuration","duration.min",/audio|video/,this.mediaDuration,function(e,t){return e>=o.translateScalars(t)}))),f.push(o.happyPromise(l("duration",null,/audio|video/,function(e,t){return o.emptyPromise(t)},function(e){return e}))),f.push(o.happyPromise(l("validateAsyncFn",null,null,function(e,t){return t},function(e){return e===!0||null===e||""===e}))),t.all(f).then(function(){d.resolve(r,r.$ngfValidations)})},o.imageDimensions=function(e){if(e.$ngfWidth&&e.$ngfHeight){var r=t.defer();return n(function(){r.resolve({width:e.$ngfWidth,height:e.$ngfHeight})}),r.promise}if(e.$ngfDimensionPromise)return e.$ngfDimensionPromise;var i=t.defer();return n(function(){return 0!==e.type.indexOf("image")?void i.reject("not image"):void o.dataUrl(e).then(function(t){function r(){var t=s[0].clientWidth,n=s[0].clientHeight;s.remove(),e.$ngfWidth=t,e.$ngfHeight=n,i.resolve({width:t,height:n})}function o(){s.remove(),i.reject("load error")}function a(){n(function(){s[0].parentNode&&(s[0].clientWidth?r():l>10?o():a())},1e3)}var s=angular.element("<img>").attr("src",t).css("visibility","hidden").css("position","fixed").css("max-width","none !important").css("max-height","none !important");s.on("load",r),s.on("error",o);var l=0;a(),angular.element(document.getElementsByTagName("body")[0]).append(s)},function(){i.reject("load error")})}),e.$ngfDimensionPromise=i.promise,e.$ngfDimensionPromise["finally"](function(){delete e.$ngfDimensionPromise}),e.$ngfDimensionPromise},o.mediaDuration=function(e){if(e.$ngfDuration){var r=t.defer();return n(function(){r.resolve(e.$ngfDuration)}),r.promise}if(e.$ngfDurationPromise)return e.$ngfDurationPromise;var i=t.defer();return n(function(){return 0!==e.type.indexOf("audio")&&0!==e.type.indexOf("video")?void i.reject("not media"):void o.dataUrl(e).then(function(t){function r(){var t=s[0].duration;e.$ngfDuration=t,s.remove(),i.resolve(t)}function o(){s.remove(),i.reject("load error")}function a(){n(function(){s[0].parentNode&&(s[0].duration?r():l>10?o():a())},1e3)}var s=angular.element(0===e.type.indexOf("audio")?"<audio>":"<video>").attr("src",t).css("visibility","none").css("position","fixed");s.on("loadedmetadata",r),s.on("error",o);var l=0;a(),angular.element(document.body).append(s)},function(){i.reject("load error")})}),e.$ngfDurationPromise=i.promise,e.$ngfDurationPromise["finally"](function(){delete e.$ngfDurationPromise}),e.$ngfDurationPromise},o}]),ngFileUpload.service("UploadResize",["UploadValidate","$q",function(e,t){var n=e,r=function(e,t,n,r,i){var o=i?Math.max(n/e,r/t):Math.min(n/e,r/t);return{width:e*o,height:t*o,marginX:e*o-n,marginY:t*o-r}},i=function(e,i,o,a,s,l,u,c){var d=t.defer(),f=document.createElement("canvas"),h=document.createElement("img");return h.onload=function(){if(null!=c&&c(h.width,h.height)===!1)return void d.reject("resizeIf");try{if(l){var e=n.ratioToFloat(l),t=h.width/h.height;e>t?(i=h.width,o=i/e):(o=h.height,i=o*e)}i||(i=h.width),o||(o=h.height);var p=r(h.width,h.height,i,o,u);f.width=Math.min(p.width,i),f.height=Math.min(p.height,o);var g=f.getContext("2d");g.drawImage(h,Math.min(0,-p.marginX/2),Math.min(0,-p.marginY/2),p.width,p.height),d.resolve(f.toDataURL(s||"image/WebP",a||.934))}catch(m){d.reject(m)}},h.onerror=function(){d.reject()},h.src=e,d.promise};return n.dataUrltoBlob=function(e,t,n){for(var r=e.split(","),i=r[0].match(/:(.*?);/)[1],o=atob(r[1]),a=o.length,s=new Uint8Array(a);a--;)s[a]=o.charCodeAt(a);var l=new window.Blob([s],{type:i});return l.name=t,l.$ngfOrigSize=n,l},n.isResizeSupported=function(){var e=document.createElement("canvas");return window.atob&&e.getContext&&e.getContext("2d")&&window.Blob},n.isResizeSupported()&&Object.defineProperty(window.Blob.prototype,"name",{get:function(){return this.$ngfName},set:function(e){this.$ngfName=e},configurable:!0}),n.resize=function(e,r,o,a,s,l,u,c,d){if(0!==e.type.indexOf("image"))return n.emptyPromise(e);var f=t.defer();return n.dataUrl(e,!0).then(function(t){i(t,r,o,a,s||e.type,l,u,c).then(function(r){if("image/jpeg"===e.type&&d)try{r=n.restoreExif(t,r)}catch(i){setTimeout(function(){throw i},1)}try{var o=n.dataUrltoBlob(r,e.name,e.size);f.resolve(o)}catch(i){f.reject(i)}},function(t){"resizeIf"===t&&f.resolve(e),f.reject(t)})},function(e){f.reject(e)}),f.promise},n}]),function(){function e(e,n,r,i,o,a,s,l,u,c){function d(){return n.attr("disabled")||v("ngfDropDisabled",e)}function f(t,n){l.updateModel(i,r,e,v("ngfChange")||v("ngfDrop"),t,n)}function h(t,n){if(!l.shouldUpdateOn(t,r,e)||!n)return l.rejectPromise([]);var i=[];n.replace(/<(img src|img [^>]* src) *=\"([^\"]*)\"/gi,function(e,t,n){i.push(n)});var o=[],a=[];if(i.length){angular.forEach(i,function(e){o.push(l.urlToBlob(e).then(function(e){a.push(e)}))});var s=c.defer();return c.all(o).then(function(){s.resolve(a)},function(e){s.reject(e)}),s.promise}return l.emptyPromise()}function p(e,t,n,r){var i=v("ngfDragOverClass",e,{$event:n}),o="dragover";if(angular.isString(i))o=i;else if(i&&(i.delay&&(E=i.delay),i.accept||i.reject)){var a=n.dataTransfer.items;if(null!=a&&a.length)for(var s=i.pattern||v("ngfPattern",e,{$event:n}),u=a.length;u--;){if(!l.validatePattern(a[u],s)){o=i.reject;break}o=i.accept}else o=i.accept}r(o)}function g(t,n,i,o){function a(e,t){var n=c.defer();if(null!=e)if(e.isDirectory){var r=[l.emptyPromise()];if(f){var i={type:"directory"};i.name=i.path=(t||"")+e.name+e.name,h.push(i)}var o=e.createReader(),s=[],g=function(){o.readEntries(function(i){try{i.length?(s=s.concat(Array.prototype.slice.call(i||[],0)),g()):(angular.forEach(s.slice(0),function(n){h.length<=u&&d>=p&&r.push(a(n,(t?t:"")+e.name+"/"))}),c.all(r).then(function(){n.resolve()},function(e){n.reject(e)}))}catch(o){n.reject(o)}},function(e){n.reject(e)})};g()}else e.file(function(e){try{e.path=(t?t:"")+e.name,f&&(e=l.rename(e,e.path)),h.push(e),p+=e.size,n.resolve()}catch(r){n.reject(r)}},function(e){n.reject(e)});return n.promise}var u=l.getValidationAttr(r,e,"maxFiles")||Number.MAX_VALUE,d=l.getValidationAttr(r,e,"maxTotalSize")||Number.MAX_VALUE,f=v("ngfIncludeDir",e),h=[],p=0,g=[l.emptyPromise()];if(t&&t.length>0&&"file"!==s.protocol())for(var m=0;m<t.length;m++){if(t[m].webkitGetAsEntry&&t[m].webkitGetAsEntry()&&t[m].webkitGetAsEntry().isDirectory){var y=t[m].webkitGetAsEntry();if(y.isDirectory&&!i)continue;null!=y&&g.push(a(y))}else{var b=t[m].getAsFile();null!=b&&(h.push(b),p+=b.size)}if(h.length>u||p>d||!o&&h.length>0)break}else if(null!=n)for(var $=0;$<n.length;$++){var E=n.item($);if((E.type||E.size>0)&&(h.push(E),p+=E.size),h.length>u||p>d||!o&&h.length>0)break}var w=c.defer();return c.all(g).then(function(){if(o||f||!h.length)w.resolve(h);else{for(var e=0;h[e]&&"directory"===h[e].type;)e++;w.resolve([h[e]])}},function(e){w.reject(e)}),w.promise}var m=t(),v=function(e,t,n){return l.attrGetter(e,r,t,n)};if(v("dropAvailable")&&a(function(){e[v("dropAvailable")]?e[v("dropAvailable")].value=m:e[v("dropAvailable")]=m}),!m)return void(v("ngfHideOnDropNotAvailable",e)===!0&&n.css("display","none"));null==v("ngfSelect")&&l.registerModelChangeValidator(i,r,e);var y,b=null,$=o(v("ngfStopPropagation")),E=1;n[0].addEventListener("dragover",function(t){if(!d()&&l.shouldUpdateOn("drop",r,e)){if(t.preventDefault(),$(e)&&t.stopPropagation(),navigator.userAgent.indexOf("Chrome")>-1){var i=t.dataTransfer.effectAllowed;t.dataTransfer.dropEffect="move"===i||"linkMove"===i?"move":"copy"}a.cancel(b),y||(y="C",p(e,r,t,function(r){y=r,n.addClass(y),v("ngfDrag",e,{$isDragging:!0,$class:y,$event:t})}))}},!1),n[0].addEventListener("dragenter",function(t){!d()&&l.shouldUpdateOn("drop",r,e)&&(t.preventDefault(),$(e)&&t.stopPropagation())},!1),n[0].addEventListener("dragleave",function(t){!d()&&l.shouldUpdateOn("drop",r,e)&&(t.preventDefault(),$(e)&&t.stopPropagation(),b=a(function(){y&&n.removeClass(y),y=null,v("ngfDrag",e,{$isDragging:!1,$event:t})},E||100))},!1),n[0].addEventListener("drop",function(t){if(!d()&&l.shouldUpdateOn("drop",r,e)){t.preventDefault(),$(e)&&t.stopPropagation(),y&&n.removeClass(y),y=null;var i,o=t.dataTransfer.items;try{i=t.dataTransfer&&t.dataTransfer.getData&&t.dataTransfer.getData("text/html")}catch(a){}g(o,t.dataTransfer.files,v("ngfAllowDir",e)!==!1,v("multiple")||v("ngfMultiple",e)).then(function(e){e.length?f(e,t):h("dropUrl",i).then(function(e){f(e,t)})})}},!1),n[0].addEventListener("paste",function(t){if(navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&v("ngfEnableFirefoxPaste",e)&&t.preventDefault(),!d()&&l.shouldUpdateOn("paste",r,e)){var n=[],i=t.clipboardData||t.originalEvent.clipboardData;if(i&&i.items)for(var o=0;o<i.items.length;o++)-1!==i.items[o].type.indexOf("image")&&n.push(i.items[o].getAsFile());n.length?f(n,t):h("pasteUrl",i).then(function(e){f(e,t)})}},!1),navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&v("ngfEnableFirefoxPaste",e)&&(n.attr("contenteditable",!0),n.on("keypress",function(e){e.metaKey||e.ctrlKey||e.preventDefault()}))}function t(){var e=document.createElement("div");return"draggable"in e&&"ondrop"in e&&!/Edge\/12./i.test(navigator.userAgent)}ngFileUpload.directive("ngfDrop",["$parse","$timeout","$location","Upload","$http","$q",function(t,n,r,i,o,a){return{restrict:"AEC",require:"?ngModel",link:function(s,l,u,c){e(s,l,u,c,t,n,r,i,o,a)}}}]),ngFileUpload.directive("ngfNoFileDrop",function(){return function(e,n){t()&&n.css("display","none")}}),ngFileUpload.directive("ngfDropAvailable",["$parse","$timeout","Upload",function(e,n,r){return function(i,o,a){if(t()){var s=e(r.attrGetter("ngfDropAvailable",a));n(function(){s(i),s.assign&&s.assign(i,!0)})}}}])}(),ngFileUpload.service("UploadExif",["UploadResize","$q",function(e,t){function n(e,t,n,r){switch(t){case 2:return e.transform(-1,0,0,1,n,0);case 3:return e.transform(-1,0,0,-1,n,r);case 4:return e.transform(1,0,0,-1,0,r);case 5:return e.transform(0,1,1,0,0,0);case 6:return e.transform(0,1,-1,0,r,0);case 7:return e.transform(0,-1,-1,0,r,n);case 8:return e.transform(0,-1,1,0,0,n)}}function r(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,i=0;r>i;i++)t+=String.fromCharCode(n[i]);return window.btoa(t)}var i=e;return i.isExifSupported=function(){return window.FileReader&&(new FileReader).readAsArrayBuffer&&i.isResizeSupported()},i.readOrientation=function(e){var n=t.defer(),r=new FileReader,i=e.slice?e.slice(0,65536):e;return r.readAsArrayBuffer(i),r.onerror=function(e){return n.reject(e)},r.onload=function(e){var t={orientation:1},r=new DataView(this.result);if(65496!==r.getUint16(0,!1))return n.resolve(t);for(var i=r.byteLength,o=2;i>o;){var a=r.getUint16(o,!1);if(o+=2,65505===a){if(1165519206!==r.getUint32(o+=2,!1))return n.resolve(t);var s=18761===r.getUint16(o+=6,!1);o+=r.getUint32(o+4,s);var l=r.getUint16(o,s);o+=2;for(var u=0;l>u;u++)if(274===r.getUint16(o+12*u,s)){var c=r.getUint16(o+12*u+8,s);return c>=2&&8>=c&&(r.setUint16(o+12*u+8,1,s),t.fixedArrayBuffer=e.target.result),t.orientation=c,n.resolve(t)}}else{if(65280!==(65280&a))break;o+=r.getUint16(o,!1)}}return n.resolve(t)},n.promise},i.applyExifRotation=function(e){if(0!==e.type.indexOf("image/jpeg"))return i.emptyPromise(e);var o=t.defer();return i.readOrientation(e).then(function(t){return t.orientation<2||t.orientation>8?o.resolve(e):void i.dataUrl(e,!0).then(function(a){var s=document.createElement("canvas"),l=document.createElement("img");l.onload=function(){try{s.width=t.orientation>4?l.height:l.width,s.height=t.orientation>4?l.width:l.height;var a=s.getContext("2d");n(a,t.orientation,l.width,l.height),a.drawImage(l,0,0);var u=s.toDataURL(e.type||"image/WebP",.934);u=i.restoreExif(r(t.fixedArrayBuffer),u);var c=i.dataUrltoBlob(u,e.name);o.resolve(c)}catch(d){return o.reject(d)}},l.onerror=function(){o.reject()},l.src=a},function(e){o.reject(e)})},function(e){o.reject(e)}),o.promise},i.restoreExif=function(e,t){var n={};return n.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n.encode64=function(e){var t,n,r,i,o,a="",s="",l="",u=0;do t=e[u++],n=e[u++],s=e[u++],r=t>>2,i=(3&t)<<4|n>>4,o=(15&n)<<2|s>>6,l=63&s,isNaN(n)?o=l=64:isNaN(s)&&(l=64),a=a+this.KEY_STR.charAt(r)+this.KEY_STR.charAt(i)+this.KEY_STR.charAt(o)+this.KEY_STR.charAt(l),t=n=s="",r=i=o=l="";while(u<e.length);return a},n.restore=function(e,t){e.match("data:image/jpeg;base64,")&&(e=e.replace("data:image/jpeg;base64,",""));var n=this.decode64(e),r=this.slice2Segments(n),i=this.exifManipulation(t,r);return"data:image/jpeg;base64,"+this.encode64(i)},n.exifManipulation=function(e,t){var n=this.getExifArray(t),r=this.insertExif(e,n);return new Uint8Array(r)},n.getExifArray=function(e){for(var t,n=0;n<e.length;n++)if(t=e[n],255===t[0]&225===t[1])return t;return[]},n.insertExif=function(e,t){var n=e.replace("data:image/jpeg;base64,",""),r=this.decode64(n),i=r.indexOf(255,3),o=r.slice(0,i),a=r.slice(i),s=o;return s=s.concat(t),s=s.concat(a)},n.slice2Segments=function(e){for(var t=0,n=[];!(255===e[t]&218===e[t+1]);){if(255===e[t]&216===e[t+1])t+=2;else{var r=256*e[t+2]+e[t+3],i=t+r+2,o=e.slice(t,i);n.push(o),t=i}if(t>e.length)break}return n},n.decode64=function(e){var t,n,r,i,o,a="",s="",l=0,u=[],c=/[^A-Za-z0-9\+\/\=]/g;c.exec(e)&&console.log("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, NaNExpect errors in decoding."),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");do r=this.KEY_STR.indexOf(e.charAt(l++)),i=this.KEY_STR.indexOf(e.charAt(l++)),o=this.KEY_STR.indexOf(e.charAt(l++)),s=this.KEY_STR.indexOf(e.charAt(l++)),t=r<<2|i>>4,n=(15&i)<<4|o>>2,a=(3&o)<<6|s,u.push(t),64!==o&&u.push(n),64!==s&&u.push(a),t=n=a="",r=i=o=s="";while(l<e.length);return u},n.restore(e,t)},i}]),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=function(t,n){return void 0===n&&(n="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(n),n}:e(jQuery)}(function(e){"use strict";var t=function(n,r){this.id=++e.FE.ID,this.opts=e.extend(!0,{},e.extend({},t.DEFAULTS,"object"==typeof r&&r));var i=JSON.stringify(this.opts);e.FE.OPTS_MAPPING[i]=e.FE.OPTS_MAPPING[i]||this.id,this.sid=e.FE.OPTS_MAPPING[i],e.FE.SHARED[this.sid]=e.FE.SHARED[this.sid]||{},this.shared=e.FE.SHARED[this.sid],this.shared.count=(this.shared.count||0)+1,this.$oel=e(n),this.$oel.data("froala.editor",this),this.o_doc=n.ownerDocument,this.o_win="defaultView"in this.o_doc?this.o_doc.defaultView:this.o_doc.parentWindow;var o=e(this.o_win).scrollTop();this.$oel.on("froala.doInit",e.proxy(function(){this.$oel.off("froala.doInit"),this.doc=this.$el.get(0).ownerDocument,this.win="defaultView"in this.doc?this.doc.defaultView:this.doc.parentWindow,this.$doc=e(this.doc),this.$win=e(this.win),this.opts.pluginsEnabled||(this.opts.pluginsEnabled=Object.keys(e.FE.PLUGINS)),this.opts.initOnClick?(this.load(e.FE.MODULES),this.$el.on("touchstart.init",function(){e(this).data("touched",!0)}),this.$el.on("touchmove.init",function(){e(this).removeData("touched")}),this.$el.on("mousedown.init touchend.init dragenter.init focus.init",e.proxy(function(t){if("touchend"==t.type&&!this.$el.data("touched"))return!0;if(1===t.which||0===t.which){this.$el.off("mousedown.init touchstart.init touchmove.init touchend.init dragenter.init focus.init"),this.load(e.FE.MODULES),this.load(e.FE.PLUGINS);var n=t.originalEvent&&t.originalEvent.originalTarget;n&&"IMG"==n.tagName&&e(n).trigger("mousedown"),"undefined"==typeof this.ul&&this.destroy(),"touchend"==t.type&&this.image&&t.originalEvent&&t.originalEvent.target&&e(t.originalEvent.target).is("img")&&setTimeout(e.proxy(function(){this.image.edit(e(t.originalEvent.target))},this),100),this.events.trigger("initialized")}},this))):(this.load(e.FE.MODULES),this.load(e.FE.PLUGINS),e(this.o_win).scrollTop(o),"undefined"==typeof this.ul&&this.destroy(),this.events.trigger("initialized"))},this)),this._init()};t.DEFAULTS={initOnClick:!1,pluginsEnabled:null},t.MODULES={},t.PLUGINS={},t.VERSION="2.3.4",t.INSTANCES=[],t.OPTS_MAPPING={},t.SHARED={},t.ID=0,t.prototype._init=function(){var t=this.$oel.prop("tagName"),n=e.proxy(function(){this._original_html=this._original_html||this.$oel.html(),this.$box=this.$box||this.$oel,this.opts.fullPage&&(this.opts.iframe=!0),this.opts.iframe?(this.$iframe=e('<iframe src="about:blank" frameBorder="0">'),this.$wp=e("<div></div>"),this.$box.html(this.$wp),this.$wp.append(this.$iframe),this.$iframe.get(0).contentWindow.document.open(),this.$iframe.get(0).contentWindow.document.write("<!DOCTYPE html>"),this.$iframe.get(0).contentWindow.document.write("<html><head></head><body></body></html>"),this.$iframe.get(0).contentWindow.document.close(),this.$el=this.$iframe.contents().find("body"),this.$head=this.$iframe.contents().find("head"),this.$html=this.$iframe.contents().find("html"),this.iframe_document=this.$iframe.get(0).contentWindow.document,this.$oel.trigger("froala.doInit")):(this.$el=e("<div></div>"),this.$wp=e("<div></div>").append(this.$el),this.$box.html(this.$wp),this.$oel.trigger("froala.doInit"))},this),r=e.proxy(function(){this.$box=e("<div>"),this.$oel.before(this.$box).hide(),this._original_html=this.$oel.val(),this.$oel.parents("form").on("submit."+this.id,e.proxy(function(){this.events.trigger("form.submit")},this)),this.$oel.parents("form").on("reset."+this.id,e.proxy(function(){this.events.trigger("form.reset")},this)),n()},this),i=e.proxy(function(){this.$el=this.$oel,this.$el.attr("contenteditable",!0).css("outline","none").css("display","inline-block"),this.opts.multiLine=!1,this.opts.toolbarInline=!1,this.$oel.trigger("froala.doInit")},this),o=e.proxy(function(){this.$el=this.$oel,this.opts.toolbarInline=!1,this.$oel.trigger("froala.doInit")},this),a=e.proxy(function(){this.$el=this.$oel,this.opts.toolbarInline=!1,this.$oel.on("click.popup",function(e){e.preventDefault()}),this.$oel.trigger("froala.doInit")},this);this.opts.editInPopup?a():"TEXTAREA"==t?r():"A"==t?i():"IMG"==t?o():"BUTTON"==t||"INPUT"==t?(this.opts.editInPopup=!0,this.opts.toolbarInline=!1,a()):n()},t.prototype.load=function(t){for(var n in t)if(t.hasOwnProperty(n)){if(this[n])continue;if(e.FE.PLUGINS[n]&&this.opts.pluginsEnabled.indexOf(n)<0)continue;if(this[n]=new t[n](this),this[n]._init&&(this[n]._init(),this.opts.initOnClick&&"core"==n))return!1}},t.prototype.destroy=function(){this.shared.count--,this.events.$off();var t=this.html.get();if(this.events.trigger("destroy",[],!0),this.events.trigger("shared.destroy",void 0,!0),0===this.shared.count){for(var n in this.shared)this.shared.hasOwnProperty(n)&&(null==this.shared[n],e.FE.SHARED[this.sid][n]=null);e.FE.SHARED[this.sid]={}}this.$oel.parents("form").off("."+this.id),this.$oel.off("click.popup"),this.$oel.removeData("froala.editor"),this.core.destroy(t),e.FE.INSTANCES.splice(e.FE.INSTANCES.indexOf(this),1)},e.fn.froalaEditor=function(n){for(var r=[],i=0;i<arguments.length;i++)r.push(arguments[i]);if("string"==typeof n){var o=[];return this.each(function(){var t=e(this),i=t.data("froala.editor");if(i){var a,s;if(n.indexOf(".")>0&&i[n.split(".")[0]]?(i[n.split(".")[0]]&&(a=i[n.split(".")[0]]),s=n.split(".")[1]):(a=i,s=n.split(".")[0]),!a[s])return e.error("Method "+n+" does not exist in Froala Editor.");var l=a[s].apply(i,r.slice(1));void 0===l?o.push(this):0===o.length&&o.push(l)}}),1==o.length?o[0]:o}return"object"!=typeof n&&n?void 0:this.each(function(){var r=e(this).data("froala.editor");if(!r){var i=this;new t(i,n)}})},e.fn.froalaEditor.Constructor=t,e.FroalaEditor=t,e.FE=t,e.FE.MODULES.node=function(t){function n(t){return t&&"IFRAME"!=t.tagName?e(t).contents():[]}function r(t){return!!t&&(t.nodeType==Node.ELEMENT_NODE&&e.FE.BLOCK_TAGS.indexOf(t.tagName.toLowerCase())>=0)}function i(i,o){if(e(i).find("table").length>0)return!1;if(i.querySelectorAll(e.FE.VOID_ELEMENTS.join(",")).length-i.querySelectorAll("br").length)return!1;if(i.querySelectorAll(t.opts.htmlAllowedEmptyTags.join(":not(.fr-marker),")+":not(.fr-marker)").length)return!1;if(i.querySelectorAll(e.FE.BLOCK_TAGS.join(",")).length>1)return!1;if(i.querySelectorAll(t.opts.htmlDoNotWrapTags.join(":not(.fr-marker),")+":not(.fr-marker)").length)return!1;var a=n(i);1==a.length&&r(a[0])&&(a=n(a[0]));for(var s=!1,l=0;l<a.length;l++){var u=a[l];if(!(o&&e(u).hasClass("fr-marker")||u.nodeType==Node.TEXT_NODE&&0==u.textContent.length)){if("BR"!=u.tagName&&(u.textContent||"").replace(/\u200B/gi,"").replace(/\n/g,"").length>0)return!1;if(s)return!1;"BR"==u.tagName&&(s=!0)}}return!0}function o(n){for(;n&&n.parentNode!==t.$el.get(0)&&(!n.parentNode||!e(n.parentNode).hasClass("fr-inner"));)if(n=n.parentNode,r(n))return n;return null}function a(n,i,o){if("undefined"==typeof i&&(i=[]),"undefined"==typeof o&&(o=!0),i.push(t.$el.get(0)),i.indexOf(n.parentNode)>=0||n.parentNode&&e(n.parentNode).hasClass("fr-inner")||n.parentNode&&e.FE.SIMPLE_ENTER_TAGS.indexOf(n.parentNode.tagName)>=0&&o)return null;for(;i.indexOf(n.parentNode)<0&&n.parentNode&&!e(n.parentNode).hasClass("fr-inner")&&(e.FE.SIMPLE_ENTER_TAGS.indexOf(n.parentNode.tagName)<0||!o)&&(!r(n)||!r(n.parentNode)||!o);)n=n.parentNode;return n}function s(e){var t={},n=e.attributes;if(n)for(var r=0;r<n.length;r++){var i=n[r];t[i.nodeName]=i.value}return t}function l(e){for(var t="",n=s(e),r=Object.keys(n).sort(),i=0;i<r.length;i++){var o=r[i],a=n[o];t+=a.indexOf('"')<0?" "+o+'="'+a+'"':" "+o+"='"+a+"'"}return t}function u(e){for(var t=e.attributes,n=0;n<t.length;n++){var r=t[n];e.removeAttribute(r.nodeName)}}function c(e){return"<"+e.tagName.toLowerCase()+l(e)+">"}function d(e){return"</"+e.tagName.toLowerCase()+">"}function f(t,n){"undefined"==typeof n&&(n=!0);for(var r=t.previousSibling;r&&n&&e(r).hasClass("fr-marker");)r=r.previousSibling;return!r||r.nodeType==Node.TEXT_NODE&&""===r.textContent&&f(r)}function h(t,n){"undefined"==typeof n&&(n=!0);for(var r=t.nextSibling;r&&n&&e(r).hasClass("fr-marker");)r=r.nextSibling;return!r||r.nodeType==Node.TEXT_NODE&&""===r.textContent&&h(r)}function p(t){return t&&t.nodeType==Node.ELEMENT_NODE&&e.FE.VOID_ELEMENTS.indexOf((t.tagName||"").toLowerCase())>=0}function g(e){return!!e&&["UL","OL"].indexOf(e.tagName)>=0}function m(e){return e===t.$el.get(0)}function v(e){return e&&e.className&&(e.className||"").indexOf("fr-deletable")>=0}function y(e){return e===t.doc.activeElement&&(!t.doc.hasFocus||t.doc.hasFocus())&&!!(m(e)||e.type||e.href||~e.tabIndex)}function b(e){return(!e.getAttribute||"false"!=e.getAttribute("contenteditable"))&&["STYLE","SCRIPT"].indexOf(e.tagName)<0}return{isBlock:r,isEmpty:i,blockParent:o,deepestParent:a,rawAttributes:s,attributes:l,clearAttributes:u,openTagString:c,closeTagString:d,isFirstSibling:f,isLastSibling:h,isList:g,isElement:m,contents:n,isVoid:p,hasFocus:y,isEditable:b,isDeletable:v}},e.extend(e.FE.DEFAULTS,{htmlAllowedTags:["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","br","button","canvas","caption","cite","code","col","colgroup","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meter","nav","noscript","object","ol","optgroup","option","output","p","param","pre","progress","queue","rp","rt","ruby","s","samp","script","style","section","select","small","source","span","strike","strong","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","var","video","wbr"],htmlRemoveTags:["script","style"],htmlAllowedAttrs:["accept","accept-charset","accesskey","action","align","allowfullscreen","allowtransparency","alt","async","autocomplete","autofocus","autoplay","autosave","background","bgcolor","border","charset","cellpadding","cellspacing","checked","cite","class","color","cols","colspan","content","contenteditable","contextmenu","controls","coords","data","data-.*","datetime","default","defer","dir","dirname","disabled","download","draggable","dropzone","enctype","for","form","formaction","frameborder","headers","height","hidden","high","href","hreflang","http-equiv","icon","id","ismap","itemprop","keytype","kind","label","lang","language","list","loop","low","max","maxlength","media","method","min","mozallowfullscreen","multiple","name","novalidate","open","optimum","pattern","ping","placeholder","poster","preload","pubdate","radiogroup","readonly","rel","required","reversed","rows","rowspan","sandbox","scope","scoped","scrolling","seamless","selected","shape","size","sizes","span","src","srcdoc","srclang","srcset","start","step","summary","spellcheck","style","tabindex","target","title","type","translate","usemap","value","valign","webkitallowfullscreen","width","wrap"],htmlAllowComments:!0,fullPage:!1}),e.FE.HTML5Map={B:"STRONG",I:"EM",STRIKE:"S"},e.FE.MODULES.clean=function(t){function n(e){if(e.className&&e.className.indexOf("fr-marker")>=0)return!1;var r,i=t.node.contents(e),o=[];for(r=0;r<i.length;r++)i[r].nodeType!=Node.ELEMENT_NODE||t.node.isVoid(i[r])?i[r].nodeType==Node.TEXT_NODE&&(i[r].textContent=i[r].textContent.replace(/\u200b/g,"")):i[r].textContent.replace(/\u200b/g,"").length!=i[r].textContent.length&&n(i[r]);if(e.nodeType==Node.ELEMENT_NODE&&!t.node.isVoid(e)&&(e.normalize(),i=t.node.contents(e),o=e.querySelectorAll(".fr-marker"),i.length-o.length==0)){for(r=0;r<i.length;r++)if((i[r].className||"").indexOf("fr-marker")<0)return!1;for(r=0;r<o.length;r++)e.parentNode.insertBefore(o[r].cloneNode(!0),e);return e.parentNode.removeChild(e),!1}}function r(e){if(e.nodeType==Node.COMMENT_NODE)return"<!--"+e.nodeValue+"-->";if(e.nodeType==Node.TEXT_NODE)return e.textContent.replace(/\</g,"&lt;").replace(/\>/g,"&gt;").replace(/\u00A0/g,"&nbsp;");if(e.nodeType!=Node.ELEMENT_NODE)return e.outerHTML;if(e.nodeType==Node.ELEMENT_NODE&&["STYLE","SCRIPT"].indexOf(e.tagName)>=0)return e.outerHTML;if("IFRAME"==e.tagName)return e.outerHTML;var n=e.childNodes;if(0===n.length)return e.outerHTML;for(var i="",o=0;o<n.length;o++)i+=r(n[o]);return t.node.openTagString(e)+i+t.node.closeTagString(e)}function i(e){return F=[],e=e.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,function(e){return F.push(e),"[FROALA.EDITOR.SCRIPT "+(F.length-1)+"]"}),e=e.replace(/<img((?:[\w\W]*?)) src="/g,'<img$1 data-fr-src="')}function o(e){return e=e.replace(/\[FROALA\.EDITOR\.SCRIPT ([\d]*)\]/gi,function(e,n){return t.opts.htmlRemoveTags.indexOf("script")>=0?"":F[parseInt(n,10)]}),e=e.replace(/<img((?:[\w\W]*?)) data-fr-src="/g,'<img$1 src="')}function a(e){var t;for(t in e)e.hasOwnProperty(t)&&(t.match(O)||delete e[t]);for(var n="",r=Object.keys(e).sort(),i=0;i<r.length;i++)t=r[i],n+=e[t].indexOf('"')<0?" "+t+'="'+e[t]+'"':" "+t+"='"+e[t]+"'";return n}function s(e,n,r){if(t.opts.fullPage){var i=t.html.extractDoctype(r),o=a(t.html.extractNodeAttrs(r,"html"));n=null==n?t.html.extractNode(r,"head")||"<title></title>":n;var s=a(t.html.extractNodeAttrs(r,"head")),l=a(t.html.extractNodeAttrs(r,"body"));return i+"<html"+o+"><head"+s+">"+n+"</head><body"+l+">"+e+"</body></html>"}return e}function l(n,i){var o=e("<div>"+n+"</div>"),a="";if(o){for(var s=t.node.contents(o.get(0)),l=0;l<s.length;l++)i(s[l]);s=t.node.contents(o.get(0));for(var l=0;l<s.length;l++)a+=r(s[l])}return a}function u(e,n,r){e=i(e);var a=e,u=null;if(t.opts.fullPage){var a=t.html.extractNode(e,"body")||(e.indexOf("<body")>=0?"":e);r&&(u=t.html.extractNode(e,"head")||"")}a=l(a,n),u&&(u=l(u,n));var c=s(a,u,e);return o(c)}function c(e){return e.replace(/\u200b/g,"").length==e.length?e:t.clean.exec(e,n)}function d(){var n=t.$el.get(0).querySelectorAll(Object.keys(e.FE.HTML5Map).join(","));if(n.length){t.selection.save();for(var r=0;r<n.length;r++)""===t.node.attributes(n[r])&&e(n[r]).replaceWith("<"+e.FE.HTML5Map[n[r].tagName]+">"+n[r].innerHTML+"</"+e.FE.HTML5Map[n[r].tagName]+">");t.selection.restore()}}function f(n){if("SPAN"==n.tagName&&(n.className||"").indexOf("fr-marker")>=0)return!1;if("PRE"==n.tagName&&p(n),n.nodeType==Node.ELEMENT_NODE&&(n.getAttribute("data-fr-src")&&n.setAttribute("data-fr-src",t.helpers.sanitizeURL(n.getAttribute("data-fr-src"))),n.getAttribute("href")&&n.setAttribute("href",t.helpers.sanitizeURL(n.getAttribute("href"))),["TABLE","TBODY","TFOOT","TR"].indexOf(n.tagName)>=0&&(n.innerHTML=n.innerHTML.trim())),!t.opts.pasteAllowLocalImages&&n.nodeType==Node.ELEMENT_NODE&&"IMG"==n.tagName&&n.getAttribute("data-fr-src")&&0==n.getAttribute("data-fr-src").indexOf("file://"))return n.parentNode.removeChild(n),!1;if(n.nodeType==Node.ELEMENT_NODE&&e.FE.HTML5Map[n.tagName]&&""===t.node.attributes(n)){var r=e.FE.HTML5Map[n.tagName],i="<"+r+">"+n.innerHTML+"</"+r+">";n.insertAdjacentHTML("beforebegin",i),n=n.previousSibling,n.parentNode.removeChild(n.nextSibling)}if(t.opts.htmlAllowComments||n.nodeType!=Node.COMMENT_NODE)if(n.tagName&&n.tagName.match(M))n.parentNode.removeChild(n);else if(n.tagName&&!n.tagName.match(A))n.outerHTML=n.innerHTML;else{var o=n.attributes;if(o)for(var a=o.length-1;a>=0;a--){var s=o[a];s.nodeName.match(O)||n.removeAttribute(s.nodeName)}}else 0!==n.data.indexOf("[FROALA.EDITOR")&&n.parentNode.removeChild(n)}function h(e){for(var n=t.node.contents(e),r=0;r<n.length;r++)n[r].nodeType!=Node.TEXT_NODE&&h(n[r]);f(e)}function p(e){var t=e.innerHTML;t.indexOf("\n")>=0&&(e.innerHTML=t.replace(/\n/g,"<br>"))}function g(n,r,i,o){"undefined"==typeof r&&(r=[]),"undefined"==typeof i&&(i=[]),"undefined"==typeof o&&(o=!1),n=n.replace(/\u0009/g,"");var a,s=e.merge([],t.opts.htmlAllowedTags);for(a=0;a<r.length;a++)s.indexOf(r[a])>=0&&s.splice(s.indexOf(r[a]),1);var l=e.merge([],t.opts.htmlAllowedAttrs);for(a=0;a<i.length;a++)l.indexOf(i[a])>=0&&l.splice(l.indexOf(i[a]),1);return l.push("data-fr-.*"),l.push("fr-.*"),A=new RegExp("^"+s.join("$|^")+"$","gi"),O=new RegExp("^"+l.join("$|^")+"$","gi"),M=new RegExp("^"+t.opts.htmlRemoveTags.join("$|^")+"$","gi"),n=u(n,h,!0)}function m(){for(var n=t.$el.get(0).querySelectorAll("blockquote + blockquote"),r=0;r<n.length;r++){var i=n[r];t.node.attributes(i)==t.node.attributes(i.previousSibling)&&(e(i).prev().append(e(i).html()),e(i).remove())}}function v(){for(var e=t.$el.get(0).querySelectorAll("tr"),n=0;n<e.length;n++){for(var r=e[n].children,i=!0,o=0;o<r.length;o++)if("TH"!=r[o].tagName){i=!1;break}if(0!=i&&0!=r.length){for(var a=e[n];a&&"TABLE"!=a.tagName&&"THEAD"!=a.tagName;)a=a.parentNode;var s=a;"THEAD"!=s.tagName&&(s=t.doc.createElement("THEAD"),a.insertBefore(s,a.firstChild)),s.appendChild(e[n])}}}function y(){for(var n=t.$el.get(0).querySelectorAll("table"),r=0;r<n.length;r++){for(var i=n[r].previousSibling;i&&i.nodeType==Node.TEXT_NODE&&0==i.textContent.length;)i=i.previousSibling;!i||t.node.isBlock(i)||"BR"==i.tagName||i.nodeType!=Node.TEXT_NODE&&i.nodeType!=Node.ELEMENT_NODE||e(i).is(t.opts.htmlDoNotWrapTags.join(","))||n[r].parentNode.insertBefore(t.doc.createElement("br"),n[r])}}function b(){
var n=t.html.defaultTag();if(n)for(var r=t.$el.get(0).querySelectorAll("td > "+n+", th > "+n),i=0;i<r.length;i++)""===t.node.attributes(r[i])&&e(r[i]).replaceWith(r[i].innerHTML+"<br>")}function $(){v(),y(),b()}function E(){var e=[],n=function(e){return!t.node.isList(e.parentNode)};do{if(e.length){var r=e[0],i=t.doc.createElement("ul");r.parentNode.insertBefore(i,r);do{var o=r;r=r.nextSibling,i.appendChild(o)}while(r&&"LI"==r.tagName)}e=[];for(var a=t.$el.get(0).querySelectorAll("li"),s=0;s<a.length;s++)n(a[s])&&e.push(a[s])}while(e.length>0)}function w(){for(var e=t.$el.get(0).querySelectorAll("ol + ol, ul + ul"),n=0;n<e.length;n++){var r=e[n];if(t.node.isList(r.previousSibling)&&t.node.openTagString(r)==t.node.openTagString(r.previousSibling)){for(var i=t.node.contents(r),o=0;o<i.length;o++)r.previousSibling.appendChild(i[o]);r.parentNode.removeChild(r)}}}function S(){var e,n=function(t){0===t.querySelectorAll("LI").length&&(e=!0,t.parentNode.removeChild(t))};do{e=!1;for(var r=t.$el.get(0).querySelectorAll("li:empty"),i=0;i<r.length;i++)r[i].parentNode.removeChild(r[i]);for(var o=t.$el.get(0).querySelectorAll("ul, ol"),i=0;i<o.length;i++)n(o[i])}while(e===!0)}function x(){for(var n=t.$el.get(0).querySelectorAll("ul > ul, ol > ol, ul > ol, ol > ul"),r=0;r<n.length;r++){var i=n[r],o=i.previousSibling;o&&("LI"==o.tagName?o.appendChild(i):e(i).wrap("<li></li>"))}}function C(){for(var n=t.$el.get(0).querySelectorAll("li > ul, li > ol"),r=0;r<n.length;r++){var i=n[r];if(i.nextSibling){var o=i.nextSibling,a=e("<li>");e(i.parentNode).after(a);do{var s=o;o=o.nextSibling,a.append(s)}while(o)}}}function T(){for(var n=t.$el.get(0).querySelectorAll("li > ul, li > ol"),r=0;r<n.length;r++){var i=n[r];if(t.node.isFirstSibling(i))e(i).before("<br/>");else if(i.previousSibling&&"BR"==i.previousSibling.tagName){for(var o=i.previousSibling.previousSibling;o&&e(o).hasClass("fr-marker");)o=o.previousSibling;o&&"BR"!=o.tagName&&e(i.previousSibling).remove()}}}function D(){for(var n=t.$el.get(0).querySelectorAll("li:empty"),r=0;r<n.length;r++)e(n[r]).remove()}function k(){for(var n=t.$el.get(0).querySelectorAll("ul, ol"),r=0;r<n.length;r++)for(var i=t.node.contents(n[r]),o=null,a=i.length-1;a>=0;a--)"LI"!=i[a].tagName?(o||(o=e("<li>"),o.insertBefore(i[a])),o.append(i[a])):o=null}function N(){E(),w(),S(),x(),C(),T(),k(),D()}function _(){t.opts.fullPage&&e.merge(t.opts.htmlAllowedTags,["head","title","style","link","base","body","html"])}var A,M,O,F=[],F=[];return{_init:_,html:g,toHTML5:d,tables:$,lists:N,quotes:m,invisibleSpaces:c,exec:u}},e.FE.XS=0,e.FE.SM=1,e.FE.MD=2,e.FE.LG=3,e.FE.MODULES.helpers=function(t){function n(){var e,t,n=-1;return"Microsoft Internet Explorer"==navigator.appName?(e=navigator.userAgent,t=new RegExp("MSIE ([0-9]{1,}[\\.0-9]{0,})"),null!==t.exec(e)&&(n=parseFloat(RegExp.$1))):"Netscape"==navigator.appName&&(e=navigator.userAgent,t=new RegExp("Trident/.*rv:([0-9]{1,}[\\.0-9]{0,})"),null!==t.exec(e)&&(n=parseFloat(RegExp.$1))),n}function r(){var e={},t=n();if(t>0)e.msie=!0;else{var r=navigator.userAgent.toLowerCase(),i=/(edge)[ \/]([\w.]+)/.exec(r)||/(chrome)[ \/]([\w.]+)/.exec(r)||/(webkit)[ \/]([\w.]+)/.exec(r)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(r)||/(msie) ([\w.]+)/.exec(r)||r.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(r)||[],o={browser:i[1]||"",version:i[2]||"0"};i[1]&&(e[o.browser]=!0),e.chrome?e.webkit=!0:e.webkit&&(e.safari=!0)}return e.msie&&(e.version=t),e}function i(){return/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&!s()}function o(){return/(Android)/g.test(navigator.userAgent)&&!s()}function a(){return/(Blackberry)/g.test(navigator.userAgent)}function s(){return/(Windows Phone)/gi.test(navigator.userAgent)}function l(){return o()||i()||a()}function u(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}function c(e){return parseInt(e,10)||0}function d(){var t=e('<div class="fr-visibility-helper"></div>').appendTo("body"),n=c(t.css("margin-left"));return t.remove(),n}function f(){return"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch}function h(e){if(!/^(https?:|ftps?:|)\/\//i.test(e))return!1;e=String(e).replace(/</g,"%3C").replace(/>/g,"%3E").replace(/"/g,"%22").replace(/ /g,"%20");var t=/(http|ftp|https):\/\/[a-z\u00a1-\uffff0-9]+(\.[a-z\u00a1-\uffff0-9]*)*([a-z\u00a1-\uffff0-9.,@?^=%&amp;:\/~+#-]*[a-z\u00a1-\uffff0-9@?^=%&amp;\/~+#-])?/gi;return t.test(e)}function p(e){if(/^(https?:|ftps?:|)\/\//i.test(e)){if(!h(e)&&!h("http:"+e))return""}else e=encodeURIComponent(e).replace(/%23/g,"#").replace(/%2F/g,"/").replace(/%25/g,"%").replace(/mailto%3A/gi,"mailto:").replace(/file%3A/gi,"file:").replace(/sms%3A/gi,"sms:").replace(/tel%3A/gi,"tel:").replace(/notes%3A/gi,"notes:").replace(/data%3Aimage/gi,"data:image").replace(/blob%3A/gi,"blob:").replace(/webkit-fake-url%3A/gi,"webkit-fake-url:").replace(/%3F/g,"?").replace(/%3D/g,"=").replace(/%26/g,"&").replace(/&amp;/g,"&").replace(/%2C/g,",").replace(/%3B/g,";").replace(/%2B/g,"+").replace(/%40/g,"@").replace(/%5B/g,"[").replace(/%5D/g,"]").replace(/%7B/g,"{").replace(/%7D/g,"}");return e}function g(e){return e&&!e.propertyIsEnumerable("length")&&"object"==typeof e&&"number"==typeof e.length}function m(e){function t(e){return("0"+parseInt(e,10).toString(16)).slice(-2)}try{return e&&"transparent"!==e?/^#[0-9A-F]{6}$/i.test(e)?e:(e=e.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/),("#"+t(e[1])+t(e[2])+t(e[3])).toUpperCase()):""}catch(n){return null}}function v(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(t,function(e,t,n,r){return t+t+n+n+r+r});var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return n?"rgb("+parseInt(n[1],16)+", "+parseInt(n[2],16)+", "+parseInt(n[3],16)+")":""}function y(t){var n=(t.css("text-align")||"").replace(/-(.*)-/g,"");if(["left","right","justify","center"].indexOf(n)<0){if(!E){var r=e('<div dir="auto" style="text-align: initial; position: fixed; left: -3000px;"><span id="s1">.</span><span id="s2">.</span></div>');e("body").append(r);var i=r.find("#s1").get(0).getBoundingClientRect().left,o=r.find("#s2").get(0).getBoundingClientRect().left;r.remove(),E=o>i?"left":"right"}n=E}return n}function b(){return null==w&&(w=navigator.platform.toUpperCase().indexOf("MAC")>=0),w}function $(){t.browser=r()}var E,w=null;return{_init:$,isIOS:i,isMac:b,isAndroid:o,isBlackberry:a,isWindowsPhone:s,isMobile:l,requestAnimationFrame:u,getPX:c,screenSize:d,isTouch:f,sanitizeURL:p,isArray:g,RGBToHex:m,HEXtoRGB:v,isURL:h,getAlignment:y}},e.FE.MODULES.events=function(t){function n(e,t,n){y(e,t,n)}function r(){n(t.$el,"cut copy paste beforepaste",function(e){E(e.type,[e])})}function i(){n(t.$el,"click mouseup mousedown touchstart touchend dragenter dragover dragleave dragend drop dragstart",function(e){E(e.type,[e])}),v("mousedown",function(){for(var n=0;n<e.FE.INSTANCES.length;n++)e.FE.INSTANCES[n]!=t&&e.FE.INSTANCES[n].popups&&e.FE.INSTANCES[n].popups.areVisible()&&e.FE.INSTANCES[n].$el.find(".fr-marker").remove()})}function o(){n(t.$el,"keydown keypress keyup input",function(e){E(e.type,[e])})}function a(){n(t.$win,t._mousedown,function(e){E("window.mousedown",[e]),h()}),n(t.$win,t._mouseup,function(e){E("window.mouseup",[e])}),n(t.$win,"cut copy keydown keyup touchmove touchend",function(e){E("window."+e.type,[e])})}function s(){n(t.$doc,"dragend drop",function(e){E("document."+e.type,[e])})}function l(n){if("undefined"==typeof n&&(n=!0),!t.$wp)return!1;if(t.helpers.isIOS()&&t.$win.get(0).focus(),!t.core.hasFocus()&&n){var r=t.$win.scrollTop();return t.$el.focus(),r!=t.$win.scrollTop()&&t.$win.scrollTop(r),!1}if(!t.core.hasFocus()||t.$el.find(".fr-marker").length>0)return!1;var i=t.selection.info(t.$el.get(0));if(i.atStart&&t.selection.isCollapsed()&&null!=t.html.defaultTag()){var o=t.markers.insert();if(o&&!t.node.blockParent(o)){e(o).remove();var a=t.$el.find(t.html.blockTagsQuery()).get(0);a&&(e(a).prepend(e.FE.MARKERS),t.selection.restore())}else o&&e(o).remove()}}function u(){n(t.$el,"focus",function(e){g()&&(l(!1),k===!1&&E(e.type,[e]))}),n(t.$el,"blur",function(e){g()&&k===!0&&(E(e.type,[e]),h())}),v("focus",function(){k=!0}),v("blur",function(){k=!1})}function c(){t.helpers.isMobile()?(t._mousedown="touchstart",t._mouseup="touchend",t._move="touchmove",t._mousemove="touchmove"):(t._mousedown="mousedown",t._mouseup="mouseup",t._move="",t._mousemove="mousemove")}function d(n){var r=e(n.currentTarget);return t.edit.isDisabled()||r.hasClass("fr-disabled")?(n.preventDefault(),!1):"mousedown"===n.type&&1!==n.which||(t.helpers.isMobile()||n.preventDefault(),(t.helpers.isAndroid()||t.helpers.isWindowsPhone())&&0===r.parents(".fr-dropdown-menu").length&&(n.preventDefault(),n.stopPropagation()),r.addClass("fr-selected"),void t.events.trigger("commands.mousedown",[r]))}function f(n,r){var i=e(n.currentTarget);if(t.edit.isDisabled()||i.hasClass("fr-disabled"))return n.preventDefault(),!1;if("mouseup"===n.type&&1!==n.which)return!0;if(!i.hasClass("fr-selected"))return!0;if("touchmove"!=n.type){if(n.stopPropagation(),n.stopImmediatePropagation(),n.preventDefault(),!i.hasClass("fr-selected"))return e(".fr-selected").removeClass("fr-selected"),!1;if(e(".fr-selected").removeClass("fr-selected"),i.data("dragging")||i.attr("disabled"))return i.removeData("dragging"),!1;var o=i.data("timeout");o&&(clearTimeout(o),i.removeData("timeout")),r.apply(t,[n])}else i.data("timeout")||i.data("timeout",setTimeout(function(){i.data("dragging",!0)},100))}function h(){T=!0}function p(){T=!1}function g(){return T}function m(e,n,r){y(e,t._mousedown,n,function(e){t.edit.isDisabled()||d(e)},!0),y(e,t._mouseup+" "+t._move,n,function(e){t.edit.isDisabled()||f(e,r)},!0),y(e,"mousedown click mouseup",n,function(e){t.edit.isDisabled()||e.stopPropagation()},!0),v("window.mouseup",function(){t.edit.isDisabled()||(e.find(n).removeClass("fr-selected"),h())})}function v(e,n,r){var i=e.split(" ");if(i.length>1){for(var o=0;o<i.length;o++)v(i[o],n,r);return!0}"undefined"==typeof r&&(r=!1);var a;a=0!=e.indexOf("shared.")?D[e]=D[e]||[]:t.shared._events[e]=t.shared._events[e]||[],r?a.unshift(n):a.push(n)}function y(e,n,r,i,o){"function"==typeof r&&(o=i,i=r,r=!1);var a=o?t.shared.$_events:N,s=o?t.sid:t.id;r?e.on(n.split(" ").join(".ed"+s+" ")+".ed"+s,r,i):e.on(n.split(" ").join(".ed"+s+" ")+".ed"+s,i),a.indexOf(e.get(0))<0&&a.push(e.get(0))}function b(t,n){for(var r=0;r<t.length;r++)e(t[r]).off(".ed"+n)}function $(){b(N,t.id),N=[],0==t.shared.count&&(b(t.shared.$_events,t.sid),t.shared.$_events=null)}function E(n,r,i){if(!t.edit.isDisabled()||i){var o;if(0!=n.indexOf("shared."))o=D[n];else{if(t.shared.count>0)return!1;o=t.shared._events[n]}var a;if(o)for(var s=0;s<o.length;s++)if(a=o[s].apply(t,r),a===!1)return!1;return a=t.$oel.triggerHandler("froalaEditor."+n,e.merge([t],r||[])),a!==!1&&a}}function w(n,r,i){if(!t.edit.isDisabled()||i){var o;if(0!=n.indexOf("shared."))o=D[n];else{if(t.shared.count>0)return!1;o=t.shared._events[n]}var a;if(o)for(var s=0;s<o.length;s++)a=o[s].apply(t,[r]),"undefined"!=typeof a&&(r=a);return a=t.$oel.triggerHandler("froalaEditor."+n,e.merge([t],[r])),"undefined"!=typeof a&&(r=a),r}}function S(){for(var e in D)D.hasOwnProperty(e)&&delete D[e]}function x(){for(var e in t.shared._events)t.shared._events.hasOwnProperty(e)&&delete t.shared._events[e]}function C(){t.shared.$_events=t.shared.$_events||[],t.shared._events={},c(),i(),a(),s(),o(),u(),h(),r(),v("destroy",S),v("shared.destroy",x)}var T,D={},k=!1,N=[];return{_init:C,on:v,trigger:E,bindClick:m,disableBlur:p,enableBlur:h,blurActive:g,focus:l,chainTrigger:w,$on:y,$off:$}},e.FE.INVISIBLE_SPACE="&#8203;",e.FE.START_MARKER='<span class="fr-marker" data-id="0" data-type="true" style="display: none; line-height: 0;">'+e.FE.INVISIBLE_SPACE+"</span>",e.FE.END_MARKER='<span class="fr-marker" data-id="0" data-type="false" style="display: none; line-height: 0;">'+e.FE.INVISIBLE_SPACE+"</span>",e.FE.MARKERS=e.FE.START_MARKER+e.FE.END_MARKER,e.FE.MODULES.markers=function(t){function n(n,r){return e('<span class="fr-marker" data-id="'+r+'" data-type="'+n+'" style="display: '+(t.browser.safari?"none":"inline-block")+'; line-height: 0;">'+e.FE.INVISIBLE_SPACE+"</span>",t.doc)[0]}function r(r,i,o){try{var a=r.cloneRange();if(a.collapse(i),a.insertNode(n(i,o)),i===!0&&r.collapsed)for(var s=t.$el.find('span.fr-marker[data-type="true"][data-id="'+o+'"]'),l=s.get(0).nextSibling;l&&l.nodeType===Node.TEXT_NODE&&0===l.textContent.length;)e(l).remove(),l=s.nextSibling;if(i===!0&&!r.collapsed){var s=t.$el.find('span.fr-marker[data-type="true"][data-id="'+o+'"]').get(0),l=s.nextSibling;if(l&&l.nodeType===Node.ELEMENT_NODE&&t.node.isBlock(l)){var u=[l];do l=u[0],u=t.node.contents(l);while(u[0]&&t.node.isBlock(u[0]));e(l).prepend(e(s))}}if(i===!1&&!r.collapsed){var s=t.$el.find('span.fr-marker[data-type="false"][data-id="'+o+'"]').get(0),l=s.previousSibling;if(l&&l.nodeType===Node.ELEMENT_NODE&&t.node.isBlock(l)){var u=[l];do l=u[u.length-1],u=t.node.contents(l);while(u[u.length-1]&&t.node.isBlock(u[u.length-1]));e(l).append(e(s))}s.parentNode&&["TD","TH"].indexOf(s.parentNode.tagName)>=0&&s.parentNode.previousSibling&&!s.previousSibling&&e(s.parentNode.previousSibling).append(s)}var c=t.$el.find('span.fr-marker[data-type="'+i+'"][data-id="'+o+'"]').get(0);return c&&(c.style.display="none"),c}catch(d){return null}}function i(){if(!t.$wp)return null;try{var n=t.selection.ranges(0),r=n.commonAncestorContainer;if(r!=t.$el.get(0)&&0==t.$el.find(r).length)return null;var i=n.cloneRange(),o=n.cloneRange();i.collapse(!0);var a=e('<span class="fr-marker" style="display: none; line-height: 0;">'+e.FE.INVISIBLE_SPACE+"</span>",t.doc)[0];if(i.insertNode(a),a=t.$el.find("span.fr-marker").get(0)){for(var s=a.nextSibling;s&&s.nodeType===Node.TEXT_NODE&&0===s.textContent.length;)e(s).remove(),s=t.$el.find("span.fr-marker").get(0).nextSibling;return t.selection.clear(),t.selection.get().addRange(o),a}return null}catch(l){}}function o(){t.selection.isCollapsed()||t.selection.remove();var n=t.$el.find(".fr-marker").get(0);if(null==n&&(n=i()),null==n)return null;var r;if(r=t.node.deepestParent(n))if(t.node.isBlock(r)&&t.node.isEmpty(r))e(r).replaceWith('<span class="fr-marker"></span>');else{var o=n,a="",s="";do o=o.parentNode,a+=t.node.closeTagString(o),s=t.node.openTagString(o)+s;while(o!=r);e(n).replaceWith('<span id="fr-break"></span>');var l=t.node.openTagString(r)+e(r).html()+t.node.closeTagString(r);l=l.replace(/<span id="fr-break"><\/span>/g,a+'<span class="fr-marker"></span>'+s),e(r).replaceWith(l)}return t.$el.find(".fr-marker").get(0)}function a(e){var n=e.clientX,r=e.clientY;s();var o,a=null;if("undefined"!=typeof t.doc.caretPositionFromPoint?(o=t.doc.caretPositionFromPoint(n,r),a=t.doc.createRange(),a.setStart(o.offsetNode,o.offset),a.setEnd(o.offsetNode,o.offset)):"undefined"!=typeof t.doc.caretRangeFromPoint&&(o=t.doc.caretRangeFromPoint(n,r),a=t.doc.createRange(),a.setStart(o.startContainer,o.startOffset),a.setEnd(o.startContainer,o.startOffset)),null!==a&&"undefined"!=typeof t.win.getSelection){var l=t.win.getSelection();l.removeAllRanges(),l.addRange(a)}else if("undefined"!=typeof t.doc.body.createTextRange)try{a=t.doc.body.createTextRange(),a.moveToPoint(n,r);var u=a.duplicate();u.moveToPoint(n,r),a.setEndPoint("EndToEnd",u),a.select()}catch(c){return!1}i()}function s(){t.$el.find(".fr-marker").remove()}return{place:r,insert:i,split:o,insertAtPoint:a,remove:s}},e.FE.MODULES.selection=function(t){function n(){var e="";return t.win.getSelection?e=t.win.getSelection():t.doc.getSelection?e=t.doc.getSelection():t.doc.selection&&(e=t.doc.selection.createRange().text),e.toString()}function r(){var e="";return e=t.win.getSelection?t.win.getSelection():t.doc.getSelection?t.doc.getSelection():t.doc.selection.createRange()}function i(e){var n=r(),i=[];if(n&&n.getRangeAt&&n.rangeCount)for(var i=[],o=0;o<n.rangeCount;o++)i.push(n.getRangeAt(o));else i=t.doc.createRange?[t.doc.createRange()]:[];return"undefined"!=typeof e?i[e]:i}function o(){var e=r();try{e.removeAllRanges?e.removeAllRanges():e.empty?e.empty():e.clear&&e.clear()}catch(t){}}function a(){var o=r();try{if(o.rangeCount){var a=i(0),s=a.startContainer;if(s.nodeType==Node.TEXT_NODE&&a.startOffset==(s.textContent||"").length&&s.nextSibling&&(s=s.nextSibling),s.nodeType==Node.ELEMENT_NODE){var l=!1;if(s.childNodes.length>0&&s.childNodes[a.startOffset]){for(var u=s.childNodes[a.startOffset];u&&u.nodeType==Node.TEXT_NODE&&0==u.textContent.length;)u=u.nextSibling;u&&u.textContent.replace(/\u200B/g,"")===n().replace(/\u200B/g,"")&&(s=u,l=!0)}else if(!a.collapsed&&s.nextSibling&&s.nextSibling.nodeType==Node.ELEMENT_NODE){var u=s.nextSibling;u&&u.textContent.replace(/\u200B/g,"")===n().replace(/\u200B/g,"")&&(s=u,l=!0)}!l&&s.childNodes.length>0&&e(s.childNodes[0]).text().replace(/\u200B/g,"")===n().replace(/\u200B/g,"")&&["BR","IMG","HR"].indexOf(s.childNodes[0].tagName)<0&&(s=s.childNodes[0])}for(;s.nodeType!=Node.ELEMENT_NODE&&s.parentNode;)s=s.parentNode;for(var c=s;c&&"HTML"!=c.tagName;){if(c==t.$el.get(0))return s;c=e(c).parent()[0]}}}catch(d){}return t.$el.get(0)}function s(){var o=r();try{if(o.rangeCount){var a=i(0),s=a.endContainer;if(s.nodeType==Node.ELEMENT_NODE){var l=!1;if(s.childNodes.length>0&&s.childNodes[a.endOffset]&&e(s.childNodes[a.endOffset]).text()===n())s=s.childNodes[a.endOffset],l=!0;else if(!a.collapsed&&s.previousSibling&&s.previousSibling.nodeType==Node.ELEMENT_NODE){var u=s.previousSibling;u&&u.textContent.replace(/\u200B/g,"")===n().replace(/\u200B/g,"")&&(s=u,l=!0)}else if(!a.collapsed&&s.childNodes.length>0&&s.childNodes[a.endOffset]){var u=s.childNodes[a.endOffset].previousSibling;u.nodeType==Node.ELEMENT_NODE&&u&&u.textContent.replace(/\u200B/g,"")===n().replace(/\u200B/g,"")&&(s=u,l=!0)}!l&&s.childNodes.length>0&&e(s.childNodes[s.childNodes.length-1]).text()===n()&&["BR","IMG","HR"].indexOf(s.childNodes[s.childNodes.length-1].tagName)<0&&(s=s.childNodes[s.childNodes.length-1])}for(s.nodeType==Node.TEXT_NODE&&0==a.endOffset&&s.previousSibling&&s.previousSibling.nodeType==Node.ELEMENT_NODE&&(s=s.previousSibling);s.nodeType!=Node.ELEMENT_NODE&&s.parentNode;)s=s.parentNode;for(var c=s;c&&"HTML"!=c.tagName;){if(c==t.$el.get(0))return s;c=e(c).parent()[0]}}}catch(d){}return t.$el.get(0)}function l(e,t){var n=e;return n.nodeType==Node.ELEMENT_NODE&&n.childNodes.length>0&&n.childNodes[t]&&(n=n.childNodes[t]),n.nodeType==Node.TEXT_NODE&&(n=n.parentNode),n}function u(){var n=[],o=r();if(b()&&o.rangeCount)for(var a=i(),s=0;s<a.length;s++){var u=a[s],c=l(u.startContainer,u.startOffset),d=l(u.endContainer,u.endOffset);t.node.isBlock(c)&&n.indexOf(c)<0&&n.push(c);var f=t.node.blockParent(c);f&&n.indexOf(f)<0&&n.push(f);for(var h=[],p=c;p!==d&&p!==t.$el.get(0);)h.indexOf(p)<0&&p.children&&p.children.length?(h.push(p),p=p.children[0]):p.nextSibling?p=p.nextSibling:p.parentNode&&(p=p.parentNode,h.push(p)),t.node.isBlock(p)&&h.indexOf(p)<0&&n.indexOf(p)<0&&(p!==d||u.endOffset>0)&&n.push(p);t.node.isBlock(d)&&n.indexOf(d)<0&&u.endOffset>0&&n.push(d);var f=t.node.blockParent(d);f&&n.indexOf(f)<0&&n.push(f)}for(var s=n.length-1;s>0;s--)e(n[s]).find(n).length&&"LI"!=n[s].tagName&&n.splice(s,1);return n}function c(){if(t.$wp){t.markers.remove();for(var e=i(),n=[],r=0;r<e.length;r++)if(e[r].startContainer!==t.doc){var o=e[r],a=o.collapsed,s=t.markers.place(o,!0,r),l=t.markers.place(o,!1,r);if(t.$el.get(0).normalize(),t.browser.safari&&!a){var o=t.doc.createRange();o.setStartAfter(s),o.setEndBefore(l),n.push(o)}}if(t.browser.safari&&n.length){t.selection.clear();for(var r=0;r<n.length;r++)t.selection.get().addRange(n[r])}}}function d(){var n=t.$el.get(0).querySelectorAll('.fr-marker[data-type="true"]');if(!t.$wp)return t.markers.remove(),!1;if(0===n.length)return!1;if(t.browser.msie||t.browser.edge)for(var i=0;i<n.length;i++)n[i].style.display="inline-block";t.core.hasFocus()||t.browser.msie||t.browser.webkit||t.$el.focus(),o();for(var a=r(),i=0;i<n.length;i++){var s=e(n[i]).data("id"),l=n[i],u=t.doc.createRange(),c=t.$el.find('.fr-marker[data-type="false"][data-id="'+s+'"]');(t.browser.msie||t.browser.edge)&&c.css("display","inline-block");var d=null;if(c.length>0){c=c[0];try{for(var h=!1,p=l.nextSibling;p&&p.nodeType==Node.TEXT_NODE&&0==p.textContent.length;){var g=p;p=p.nextSibling,e(g).remove()}for(var m=c.nextSibling;m&&m.nodeType==Node.TEXT_NODE&&0==m.textContent.length;){var g=m;m=m.nextSibling,e(g).remove()}if(l.nextSibling==c||c.nextSibling==l){for(var v=l.nextSibling==c?l:c,y=v==l?c:l,b=v.previousSibling;b&&b.nodeType==Node.TEXT_NODE&&0==b.length;){var g=b;b=b.previousSibling,e(g).remove()}if(b&&b.nodeType==Node.TEXT_NODE)for(;b&&b.previousSibling&&b.previousSibling.nodeType==Node.TEXT_NODE;)b.previousSibling.textContent=b.previousSibling.textContent+b.textContent,b=b.previousSibling,e(b.nextSibling).remove();for(var $=y.nextSibling;$&&$.nodeType==Node.TEXT_NODE&&0==$.length;){var g=$;$=$.nextSibling,e(g).remove()}if($&&$.nodeType==Node.TEXT_NODE)for(;$&&$.nextSibling&&$.nextSibling.nodeType==Node.TEXT_NODE;)$.nextSibling.textContent=$.textContent+$.nextSibling.textContent,$=$.nextSibling,e($.previousSibling).remove();if(b&&(t.node.isVoid(b)||t.node.isBlock(b))&&(b=null),$&&(t.node.isVoid($)||t.node.isBlock($))&&($=null),b&&$&&b.nodeType==Node.TEXT_NODE&&$.nodeType==Node.TEXT_NODE){e(l).remove(),e(c).remove();var E=b.textContent.length;b.textContent=b.textContent+$.textContent,e($).remove(),t.spaces.normalize(b),u.setStart(b,E),u.setEnd(b,E),h=!0}else!b&&$&&$.nodeType==Node.TEXT_NODE?(e(l).remove(),e(c).remove(),t.spaces.normalize($),d=e(t.doc.createTextNode("​")),e($).before(d),u.setStart($,0),u.setEnd($,0),h=!0):!$&&b&&b.nodeType==Node.TEXT_NODE&&(e(l).remove(),e(c).remove(),t.spaces.normalize(b),d=e(t.doc.createTextNode("​")),e(b).after(d),u.setStart(b,b.textContent.length),u.setEnd(b,b.textContent.length),h=!0)}if(!h){var w,S;if(t.browser.chrome&&l.nextSibling==c)w=f(c,u,!0)||u.setStartAfter(c),S=f(l,u,!1)||u.setEndBefore(l);else{l.previousSibling==c&&(l=c,c=l.nextSibling),c.nextSibling&&"BR"===c.nextSibling.tagName||!c.nextSibling&&t.node.isBlock(l.previousSibling)||l.previousSibling&&"BR"==l.previousSibling.tagName||(l.style.display="inline",c.style.display="inline",d=e(t.doc.createTextNode("​")));var x=l.previousSibling;x&&x.style&&"block"==t.win.getComputedStyle(x).display&&!t.opts.enter==e.FE.ENTER_BR?(u.setEndAfter(x),u.setStartAfter(x)):(w=f(l,u,!0)||e(l).before(d)&&u.setStartBefore(l),S=f(c,u,!1)||e(c).after(d)&&u.setEndAfter(c))}"function"==typeof w&&w(),"function"==typeof S&&S()}}catch(C){}}d&&d.remove();try{a.addRange(u)}catch(C){}}t.markers.remove()}function f(n,r,i){var o=n.previousSibling,a=n.nextSibling;if(o&&a&&o.nodeType==Node.TEXT_NODE&&a.nodeType==Node.TEXT_NODE){var s=o.textContent.length;return i?(a.textContent=o.textContent+a.textContent,e(o).remove(),e(n).remove(),t.spaces.normalize(a),function(){r.setStart(a,s)}):(o.textContent=o.textContent+a.textContent,e(a).remove(),e(n).remove(),t.spaces.normalize(o),function(){r.setEnd(o,s)})}if(o&&!a&&o.nodeType==Node.TEXT_NODE){var s=o.textContent.length;return i?(t.spaces.normalize(o),function(){r.setStart(o,s)}):(t.spaces.normalize(o),function(){r.setEnd(o,s)})}return!(!a||o||a.nodeType!=Node.TEXT_NODE)&&(i?(t.spaces.normalize(a),function(){r.setStart(a,0)}):(t.spaces.normalize(a),function(){r.setEnd(a,0)}))}function h(){return!0}function p(){for(var e=i(),t=0;t<e.length;t++)if(!e[t].collapsed)return!1;return!0}function g(e){var n,r,i=!1,o=!1;if(t.win.getSelection){var a=t.win.getSelection();a.rangeCount&&(n=a.getRangeAt(0),r=n.cloneRange(),r.selectNodeContents(e),r.setEnd(n.startContainer,n.startOffset),i=""===r.toString(),r.selectNodeContents(e),r.setStart(n.endContainer,n.endOffset),o=""===r.toString())}else t.doc.selection&&"Control"!=t.doc.selection.type&&(n=t.doc.selection.createRange(),r=n.duplicate(),r.moveToElementText(e),r.setEndPoint("EndToStart",n),i=""===r.text,r.moveToElementText(e),r.setEndPoint("StartToEnd",n),o=""===r.text);return{atStart:i,atEnd:o}}function m(){if(p())return!1;t.$el.find("td").prepend('<span class="fr-mk">'+e.FE.INVISIBLE_SPACE+"</span>"),t.$el.find("img").append('<span class="fr-mk">'+e.FE.INVISIBLE_SPACE+"</span>");var n=!1,r=g(t.$el.get(0));return r.atStart&&r.atEnd&&(n=!0),t.$el.find(".fr-mk").remove(),n}function v(n,r){"undefined"==typeof r&&(r=!0);var i=e(n).html();i&&i.replace(/\u200b/g,"").length!=i.length&&e(n).html(i.replace(/\u200b/g,""));for(var o=t.node.contents(n),a=0;a<o.length;a++)o[a].nodeType!=Node.ELEMENT_NODE?e(o[a]).remove():(v(o[a],0==a),0==a&&(r=!1));n.nodeType==Node.TEXT_NODE?e(n).replaceWith('<span data-first="true" data-text="true"></span>'):r&&e(n).attr("data-first",!0)}function y(n,r){var i=t.node.contents(n.get(0));["TD","TH"].indexOf(n.get(0).tagName)>=0&&1==n.find(".fr-marker").length&&e(i[0]).hasClass("fr-marker")&&n.attr("data-del-cell",!0);for(var o=0;o<i.length;o++){var a=i[o];e(a).hasClass("fr-marker")?r=(r+1)%2:r?e(a).find(".fr-marker").length>0?r=y(e(a),r):["TD","TH"].indexOf(a.tagName)<0&&!e(a).hasClass("fr-inner")?!t.opts.keepFormatOnDelete||t.$el.find("[data-first]").length>0?e(a).remove():v(a):e(a).hasClass("fr-inner")?0==e(a).find(".fr-inner").length?e(a).html("<br>"):e(a).find(".fr-inner").filter(function(){return 0==e(this).find("fr-inner").length}).html("<br>"):(e(a).empty(),e(a).attr("data-del-cell",!0)):e(a).find(".fr-marker").length>0&&(r=y(e(a),r))}return r}function b(){try{if(!t.$wp)return!1;for(var e=i(0),n=e.commonAncestorContainer;n&&!t.node.isElement(n);)n=n.parentNode;return!!t.node.isElement(n)}catch(r){return!1}}function $(){if(p())return!0;c();for(var n=function(t){for(var n=t.previousSibling;n&&n.nodeType==Node.TEXT_NODE&&0==n.textContent.length;){var r=n,n=n.previousSibling;e(r).remove()}return n},r=function(t){for(var n=t.nextSibling;n&&n.nodeType==Node.TEXT_NODE&&0==n.textContent.length;){var r=n,n=n.nextSibling;e(r).remove()}return n},i=t.$el.find('.fr-marker[data-type="true"]'),o=0;o<i.length;o++)for(var a=i[o];!n(a)&&!t.node.isBlock(a.parentNode)&&!t.$el.is(a.parentNode);)e(a.parentNode).before(a);for(var s=t.$el.find('.fr-marker[data-type="false"]'),o=0;o<s.length;o++){for(var l=s[o];!r(l)&&!t.node.isBlock(l.parentNode)&&!t.$el.is(l.parentNode);)e(l.parentNode).after(l);l.parentNode&&t.node.isBlock(l.parentNode)&&t.node.isEmpty(l.parentNode)&&!t.$el.is(l.parentNode)&&e(l.parentNode).after(l)}if(h()){y(t.$el,0);var u=t.$el.find('[data-first="true"]');if(u.length)t.$el.find(".fr-marker").remove(),u.append(e.FE.INVISIBLE_SPACE+e.FE.MARKERS).removeAttr("data-first"),u.attr("data-text")&&u.replaceWith(u.html());else{t.$el.find("table").filter(function(){var t=e(this).find("[data-del-cell]").length>0&&e(this).find("[data-del-cell]").length==e(this).find("td, th").length;return t}).remove(),t.$el.find("[data-del-cell]").removeAttr("data-del-cell");for(var i=t.$el.find('.fr-marker[data-type="true"]'),o=0;o<i.length;o++){var f=i[o],g=f.nextSibling,m=t.$el.find('.fr-marker[data-type="false"][data-id="'+e(f).data("id")+'"]').get(0);if(m){if(g&&g==m);else if(f){var v=t.node.blockParent(f),b=t.node.blockParent(m),$=!1,E=!1;if(v&&["UL","OL"].indexOf(v.tagName)>=0&&(v=null,$=!0),b&&["UL","OL"].indexOf(b.tagName)>=0&&(b=null,E=!0),e(f).after(m),v==b);else if(null!=v||$)if(null!=b||E||0!=e(v).parentsUntil(t.$el,"table").length)v&&b&&0==e(v).parentsUntil(t.$el,"table").length&&0==e(b).parentsUntil(t.$el,"table").length&&(e(v).append(e(b).html()),e(b).remove());else{for(var g=v;!g.nextSibling&&g.parentNode!=t.$el.get(0);)g=g.parentNode;for(g=g.nextSibling;g&&"BR"!=g.tagName;){var w=g.nextSibling;e(v).append(g),g=w}g&&"BR"==g.tagName&&e(g).remove()}else{var S=t.node.deepestParent(f);S?(e(S).after(e(b).html()),e(b).remove()):0==e(b).parentsUntil(t.$el,"table").length&&(e(f).next().after(e(b).html()),e(b).remove())}}}else m=e(f).clone().attr("data-type",!1),e(f).after(m)}}}t.opts.keepFormatOnDelete||t.html.fillEmptyBlocks(),t.html.cleanEmptyTags(!0),t.clean.lists(),t.spaces.normalize();var x=t.$el.find(".fr-marker:last").get(0),C=t.$el.find(".fr-marker:first").get(0);!x.nextSibling&&C.previousSibling&&"BR"==C.previousSibling.tagName&&t.node.isElement(x.parentNode)&&t.node.isElement(C.parentNode)&&t.$el.append("<br>"),d()}function E(n){if(e(n).find(".fr-marker").length>0)return!1;for(var r=t.node.contents(n);r.length&&t.node.isBlock(r[0]);)n=r[0],r=t.node.contents(n);e(n).prepend(e.FE.MARKERS)}function w(n){if(e(n).find(".fr-marker").length>0)return!1;for(var r=t.node.contents(n);r.length&&t.node.isBlock(r[r.length-1]);)n=r[r.length-1],r=t.node.contents(n);e(n).append(e.FE.MARKERS)}function S(n){for(var r=n.previousSibling;r&&r.nodeType==Node.TEXT_NODE&&0==r.textContent.length;)r=r.previousSibling;return!!r&&(t.node.isBlock(r)?w(r):"BR"==r.tagName?e(r).before(e.FE.MARKERS):e(r).after(e.FE.MARKERS),!0)}function x(n){for(var r=n.nextSibling;r&&r.nodeType==Node.TEXT_NODE&&0==r.textContent.length;)r=r.nextSibling;return!!r&&(t.node.isBlock(r)?E(r):e(r).before(e.FE.MARKERS),!0)}return{text:n,get:r,ranges:i,clear:o,element:a,endElement:s,save:c,restore:d,isCollapsed:p,isFull:m,inEditor:b,remove:$,blocks:u,info:g,setAtEnd:w,setAtStart:E,setBefore:S,setAfter:x,rangeElement:l}},e.FE.MODULES.spaces=function(t){function n(e){var t=e.nextSibling||e.parentNode;return e.parentNode.removeChild(e),t}function r(e,t){return e&&e.parentNode===t||"PRE"===t.nodeName?t.nextSibling||t.parentNode:t.firstChild||t.nextSibling||t.parentNode}function i(e){if(e.firstChild&&"PRE"!==e.nodeName&&!(["STYLE","SCRIPT"].indexOf(e.tagName)>=0)){for(var i=null,o=null,a=r(o,e);a!==e&&"PRE"!==a.nodeName&&["STYLE","SCRIPT"].indexOf(a.tagName)<0;){if(a.nodeType===Node.TEXT_NODE){var s=a.data.replace(/[ \r\n\t]+/g," ");if(i&&!/ $/.test(i.data)||" "!==s[0]||a.previousSibling&&t.node.isVoid(a.previousSibling)&&"BR"!==a.previousSibling.tagName||(s=s.substr(1)),!s||0==s.length){a=n(a);continue}a.data=s,i=a}else a.nodeType===Node.ELEMENT_NODE&&(t.node.isBlock(a)||t.node.isVoid(a)?(i&&i.data&&(t.node.isBlock(a)||"BR"===a.tagName)&&(i.data=i.data.replace(/ $/,"")),i=null):0==a.textContent.length&&(i=a));var l=r(o,a);o=a,a=l}i&&i.data&&(i.data=i.data.replace(/ $/,""),i.data||n(i))}}function o(n,r){if("undefined"!=typeof n&&n||(n=t.$el.get(0)),"undefined"==typeof r&&(r=!1),r&&i(n),!n.getAttribute||"false"!=n.getAttribute("contenteditable"))if(n.nodeType==Node.ELEMENT_NODE&&["STYLE","SCRIPT","HEAD"].indexOf(n.tagName)<0)for(var a=t.node.contents(n),s=a.length-1;s>=0;s--)(a[s].tagName!=Node.ELEMENT_NODE||(a[s].className||"").indexOf("fr-marker")<0)&&o(a[s]);else if(n.nodeType==Node.TEXT_NODE&&n.textContent.length>0){var l=(n.previousSibling,n.nextSibling,n.textContent);l=l.replace(new RegExp(e.FE.UNICODE_NBSP,"g")," ");for(var u="",c=0;c<l.length;c++)u+=32!=l.charCodeAt(c)||0!==c&&32!=u.charCodeAt(c-1)?l[c]:e.FE.UNICODE_NBSP;(!n.nextSibling||t.node.isBlock(n.nextSibling)||n.nextSibling.nodeType==Node.ELEMENT_NODE&&t.win.getComputedStyle(n.nextSibling)&&"block"==t.win.getComputedStyle(n.nextSibling).display)&&(u=u.replace(/ $/,e.FE.UNICODE_NBSP)),!n.previousSibling||t.node.isVoid(n.previousSibling)||t.node.isBlock(n.previousSibling)||(u=u.replace(/^\u00A0([^ $])/," $1"),1!==u.length||160!==u.charCodeAt(0)||!n.nextSibling||t.node.isVoid(n.nextSibling)||t.node.isBlock(n.nextSibling)||(u=" ")),u=u.replace(/([^ \u00A0])\u00A0([^ \u00A0])/g,"$1 $2"),n.textContent!=u&&(n.textContent=u)}}return{normalize:o}},e.FE.UNICODE_NBSP=String.fromCharCode(160),e.FE.VOID_ELEMENTS=["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"],e.FE.BLOCK_TAGS=["address","article","aside","audio","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","section","table","tbody","td","tfoot","th","thead","tr","ul","video"],
e.extend(e.FE.DEFAULTS,{htmlAllowedEmptyTags:["textarea","a","iframe","object","video","style","script",".fa",".fr-emoticon"],htmlDoNotWrapTags:["script","style"],htmlSimpleAmpersand:!1}),e.FE.MODULES.html=function(t){function n(){return t.opts.enter==e.FE.ENTER_P?"p":t.opts.enter==e.FE.ENTER_DIV?"div":t.opts.enter==e.FE.ENTER_BR?null:void 0}function r(){for(var n=[],r=t.$el.get(0).querySelectorAll(o()),i=0;i<r.length;i++)if(!(r[i].querySelectorAll(e.FE.VOID_ELEMENTS.join(",")).length>0||r[i].querySelectorAll(t.opts.htmlAllowedEmptyTags.join(":not(.fr-marker),")+":not(.fr-marker)").length>0||r[i].querySelectorAll(o()).length>0)){for(var a=t.node.contents(r[i]),s=!1,l=0;l<a.length;l++)if(a[l].nodeType!=Node.COMMENT_NODE&&a[l].textContent&&a[l].textContent.replace(/\u200B/g,"").replace(/\n/g,"").length>0){s=!0;break}s||n.push(r[i])}return n}function i(){return e.FE.BLOCK_TAGS.join(":empty, ")+":empty"}function o(){return e.FE.BLOCK_TAGS.join(", ")}function a(n){var r=e.merge([],e.FE.VOID_ELEMENTS);r=e.merge(r,t.opts.htmlAllowedEmptyTags),"undefined"==typeof n&&(r=e.merge(r,e.FE.BLOCK_TAGS));var i,o;do{o=!1,i=t.$el.get(0).querySelectorAll("*:empty:not("+r.join("):not(")+"):not(.fr-marker)");for(var a=0;a<i.length;a++)(0===i[a].attributes.length||"undefined"!=typeof i[a].getAttribute("href"))&&(e(i[a]).remove(),o=!0);i=t.$el.get(0).querySelectorAll("*:empty:not("+r.join("):not(")+"):not(.fr-marker)")}while(i.length&&o)}function s(r,i){var o=n();if(i&&(o='div class="fr-temp-div"'),o)for(var a=t.node.contents(r.get(0)),s=null,l=0;l<a.length;l++){var u=a[l];if(u.nodeType==Node.ELEMENT_NODE&&(t.node.isBlock(u)||e(u).is(t.opts.htmlDoNotWrapTags.join(","))&&!e(u).hasClass("fr-marker")))s=null;else if(u.nodeType!=Node.ELEMENT_NODE&&u.nodeType!=Node.TEXT_NODE)s=null;else if(u.nodeType==Node.ELEMENT_NODE&&"BR"==u.tagName)if(null==s)i?e(u).replaceWith("<"+o+' data-empty="true"><br></div>'):e(u).replaceWith("<"+o+"><br></"+o+">");else{e(u).remove();for(var c=t.node.contents(s),d=!1,f=0;f<c.length;f++)if(!e(c[f]).hasClass("fr-marker")&&(c[f].nodeType!=Node.TEXT_NODE||0!==c[f].textContent.replace(/ /g,"").length)){d=!0;break}d===!1&&(s.append("<br>"),s.data("empty",!0)),s=null}else u.nodeType==Node.TEXT_NODE&&0==e(u).text().trim().length?e(u).remove():(null==s&&(s=e("<"+o+">"),e(u).before(s)),u.nodeType==Node.TEXT_NODE&&e(u).text().trim().length>0?(s.append(e(u).clone()),e(u).remove()):s.append(e(u)))}}function l(n,r,i,o){return!!t.$wp&&("undefined"==typeof n&&(n=!1),"undefined"==typeof r&&(r=!1),"undefined"==typeof i&&(i=!1),"undefined"==typeof o&&(o=!1),s(t.$el,n),o&&t.$el.find(".fr-inner").each(function(){s(e(this),n)}),r&&t.$el.find("td, th").each(function(){s(e(this),n)}),void(i&&t.$el.find("blockquote").each(function(){s(e(this),n)})))}function u(){t.$el.find("div.fr-temp-div").each(function(){e(this).data("empty")||"LI"==this.parentNode.tagName?e(this).replaceWith(e(this).html()):e(this).replaceWith(e(this).html()+"<br>")}),t.$el.find(".fr-temp-div").removeClass("fr-temp-div").filter(function(){return""==e(this).attr("class")}).removeAttr("class")}function c(){for(var n=r(),i=0;i<n.length;i++){var o=n[i];"false"==o.getAttribute("contenteditable")||0!=o.querySelectorAll(t.opts.htmlAllowedEmptyTags.join(":not(.fr-marker),")+":not(.fr-marker)").length||t.node.isVoid(o)||"TABLE"!=o.tagName&&o.appendChild(t.doc.createElement("br"))}if(t.browser.msie&&t.opts.enter==e.FE.ENTER_BR){var a=t.node.contents(t.$el.get(0));a.length&&a[a.length-1].nodeType==Node.TEXT_NODE&&t.$el.append("<br>")}}function d(){return t.$el.find(o())}function f(e){if("undefined"==typeof e&&(e=t.$el.get(0)),e&&["SCRIPT","STYLE","PRE"].indexOf(e.tagName)>=0)return!1;for(var n=t.node.contents(e),r=n.length-1;r>=0;r--)n[r].nodeType==Node.TEXT_NODE?(n[r].textContent=n[r].textContent.replace(/(?!^)( ){2,}(?!$)/g," "),n[r].textContent=n[r].textContent.replace(/\n/g," "),n[r].textContent=n[r].textContent.replace(/^[ ]{2,}/g," "),n[r].textContent=n[r].textContent.replace(/[ ]{2,}$/g," "),(t.node.isBlock(e)||t.node.isElement(e))&&(n[r].previousSibling||(n[r].textContent=n[r].textContent.replace(/^ */,"")),n[r].nextSibling||(n[r].textContent=n[r].textContent.replace(/ *$/,"")),n[r].previousSibling&&n[r].nextSibling&&" "==n[r].textContent&&(n[r].previousSibling&&n[r].nextSibling&&t.node.isBlock(n[r].previousSibling)&&t.node.isBlock(n[r].nextSibling)?n[r].textContent="":n[r].textContent="\n"))):f(n[r])}function h(e){return e&&(t.node.isBlock(e)||["STYLE","SCRIPT","HEAD","BR","HR"].indexOf(e.tagName)>=0||e.nodeType==Node.COMMENT_NODE)}function p(n){if("undefined"==typeof n&&(n=t.$el.get(0)),n.nodeType==Node.ELEMENT_NODE&&["STYLE","SCRIPT","HEAD"].indexOf(n.tagName)<0){for(var r=t.node.contents(n),i=r.length-1;i>=0;i--)if(!e(r[i]).hasClass("fr-marker")){var o=p(r[i]);if(1==o)return!0}}else if(n.nodeType==Node.TEXT_NODE&&n.textContent.length>0){var a=n.previousSibling,s=n.nextSibling;if(h(a)&&h(s)&&0===n.textContent.trim().length)return!0;var l=n.textContent;l=l.replace(new RegExp(e.FE.UNICODE_NBSP,"g")," ");for(var u="",c=0;c<l.length;c++)u+=32!=l.charCodeAt(c)||0!==c&&32!=u.charCodeAt(c-1)?l[c]:e.FE.UNICODE_NBSP;if(n.nextSibling||(u=u.replace(/ $/,e.FE.UNICODE_NBSP)),n.previousSibling&&!t.node.isVoid(n.previousSibling)&&(u=u.replace(/^\u00A0([^ $])/," $1")),u=u.replace(/([^ \u00A0])\u00A0([^ \u00A0])/g,"$1 $2"),n.textContent!=u)return!0}return!1}function g(e,t,n){var r=new RegExp(t,"gi"),i=r.exec(e);return i?i[n]:null}function m(e,t){var n=e.match(/<!DOCTYPE ?([^ ]*) ?([^ ]*) ?"?([^"]*)"? ?"?([^"]*)"?>/i);return n?t.implementation.createDocumentType(n[1],n[3],n[4]):t.implementation.createDocumentType("html")}function v(e){var t=e.doctype,n="<!DOCTYPE html>";return t&&(n="<!DOCTYPE "+t.name+(t.publicId?' PUBLIC "'+t.publicId+'"':"")+(!t.publicId&&t.systemId?" SYSTEM":"")+(t.systemId?' "'+t.systemId+'"':"")+">"),n}function y(){l(),f(),a(),t.spaces.normalize(null,!0),t.html.fillEmptyBlocks(),t.clean.quotes(),t.clean.lists(),t.clean.tables(),t.clean.toHTML5(),t.selection.restore(),b(),t.placeholder.refresh()}function b(){t.core.isEmpty()&&(null!=n()?0===t.$el.get(0).querySelectorAll(o()).length&&0===t.$el.get(0).querySelectorAll(t.opts.htmlDoNotWrapTags.join(":not(.fr-marker),")+":not(.fr-marker)").length&&(t.core.hasFocus()?(t.$el.html("<"+n()+">"+e.FE.MARKERS+"<br/></"+n()+">"),t.selection.restore()):t.$el.html("<"+n()+"><br/></"+n()+">")):0===t.$el.get(0).querySelectorAll("*:not(.fr-marker):not(br)").length&&(t.core.hasFocus()?(t.$el.html(e.FE.MARKERS+"<br/>"),t.selection.restore()):t.$el.html("<br/>")))}function $(e,t){return g(e,"<"+t+"[^>]*?>([\\w\\W]*)</"+t+">",1)}function E(n,r){var i=e("<div "+(g(n,"<"+r+"([^>]*?)>",1)||"")+">");return t.node.rawAttributes(i.get(0))}function w(e){return g(e,"<!DOCTYPE([^>]*?)>",0)||"<!DOCTYPE html>"}function S(n){var r=t.clean.html(n||"",[],[],t.opts.fullPage);if(t.opts.fullPage){var i=$(r,"body")||(r.indexOf("<body")>=0?"":r),o=E(r,"body"),a=$(r,"head")||"<title></title>",s=E(r,"head"),l=e("<div>").append(a).find("base, link, meta, noscript, script, style, template, title").remove().end().html().trim();a=e("<div>").append(a).find("base, link, meta, noscript, script, style, template, title").map(function(){return this.outerHTML}).toArray().join("");var u=w(r),c=E(r,"html");t.$el.html(l+"\n"+i),t.node.clearAttributes(t.$el.get(0)),t.$el.attr(o),t.$el.addClass("fr-view"),t.$el.attr("spellcheck",t.opts.spellcheck),t.$el.attr("dir",t.opts.direction),t.$head.html(a),t.node.clearAttributes(t.$head.get(0)),t.$head.attr(s),t.node.clearAttributes(t.$html.get(0)),t.$html.attr(c),t.iframe_document.doctype.parentNode.replaceChild(m(u,t.iframe_document),t.iframe_document.doctype)}else t.$el.html(r);var d=t.edit.isDisabled();t.edit.on(),t.core.injectStyle(t.opts.iframeStyle),y(),t.opts.useClasses||(t.$el.find("[fr-original-class]").each(function(){this.setAttribute("class",this.getAttribute("fr-original-class")),this.removeAttribute("fr-original-class")}),t.$el.find("[fr-original-style]").each(function(){this.setAttribute("style",this.getAttribute("fr-original-style")),this.removeAttribute("fr-original-style")})),d&&t.edit.off(),t.events.trigger("html.set")}function x(e,n){if(!t.$wp)return t.$oel.clone().removeClass("fr-view").removeAttr("contenteditable").get(0).outerHTML;var r="";t.events.trigger("html.beforeGet");var i,o=function(e){var t=/(#[^\s\+>~\.\[:]+)/g,n=/(\[[^\]]+\])/g,r=/(\.[^\s\+>~\.\[:]+)/g,i=/(::[^\s\+>~\.\[:]+|:first-line|:first-letter|:before|:after)/gi,o=/(:[\w-]+\([^\)]*\))/gi,a=/(:[^\s\+>~\.\[:]+)/g,s=/([^\s\+>~\.\[:]+)/g;!function(){var t=/:not\(([^\)]*)\)/g;t.test(e)&&(e=e.replace(t,"     $1 "))}();var l=100*(e.match(t)||[]).length+10*(e.match(n)||[]).length+10*(e.match(r)||[]).length+10*(e.match(o)||[]).length+10*(e.match(a)||[]).length+(e.match(i)||[]).length;return e=e.replace(/[\*\s\+>~]/g," "),e=e.replace(/[#\.]/g," "),l+=(e.match(s)||[]).length},a=[],s={};if(!t.opts.useClasses&&!n){for(i=0;i<t.doc.styleSheets.length;i++){var l,u=0;try{l=t.doc.styleSheets[i].cssRules,t.doc.styleSheets[i].ownerNode&&"STYLE"==t.doc.styleSheets[i].ownerNode.nodeType&&(u=1)}catch(c){}if(l)for(var d=0,f=l.length;f>d;d++)if(l[d].selectorText&&l[d].style.cssText.length>0){var h,p=l[d].selectorText.replace(/body |\.fr-view /g,"").replace(/::/g,":");try{h=t.$el.get(0).querySelectorAll(p)}catch(c){h=[]}for(var g=0;g<h.length;g++){!h[g].getAttribute("fr-original-style")&&h[g].getAttribute("style")?(h[g].setAttribute("fr-original-style",h[g].getAttribute("style")),a.push(h[g])):h[g].getAttribute("fr-original-style")||a.push(h[g]),s[h[g]]||(s[h[g]]={});for(var m=1e3*u+o(l[d].selectorText),y=l[d].style.cssText.split(";"),b=0;b<y.length;b++){var $=y[b].trim().split(":")[0];s[h[g]][$]||(s[h[g]][$]=0,(h[g].getAttribute("fr-original-style")||"").indexOf($+":")>=0&&(s[h[g]][$]=1e4)),m>=s[h[g]][$]&&(s[h[g]][$]=m,y[b].trim().length&&(h[g].style[$.trim()]=y[b].trim().split(":")[1].trim()))}}}}for(i=0;i<a.length;i++)if(a[i].getAttribute("class")&&(a[i].setAttribute("fr-original-class",a[i].getAttribute("class")),a[i].removeAttribute("class")),(a[i].getAttribute("fr-original-style")||"").trim().length>0)for(var E=a[i].getAttribute("fr-original-style").split(";"),g=0;g<E.length;g++)E[g].indexOf(":")>0&&(a[i].style[E[g].split(":")[0].trim()]=E[g].split(":")[1].trim())}if(t.core.isEmpty()?t.opts.fullPage&&(r=v(t.iframe_document),r+="<html"+t.node.attributes(t.$html.get(0))+">"+t.$html.find("head").get(0).outerHTML+"<body></body></html>"):("undefined"==typeof e&&(e=!1),t.opts.fullPage?(r=v(t.iframe_document),t.$el.removeClass("fr-view"),r+="<html"+t.node.attributes(t.$html.get(0))+">"+t.$html.html()+"</html>",t.$el.addClass("fr-view")):r=t.$el.html()),!t.opts.useClasses&&!n)for(i=0;i<a.length;i++)a[i].getAttribute("fr-original-class")&&(a[i].setAttribute("class",a[i].getAttribute("fr-original-class")),a[i].removeAttribute("fr-original-class")),a[i].getAttribute("fr-original-style")?(a[i].setAttribute("style",a[i].getAttribute("fr-original-style")),a[i].removeAttribute("fr-original-style")):a[i].removeAttribute("style");t.opts.fullPage&&(r=r.replace(/<style data-fr-style="true">(?:[\w\W]*?)<\/style>/g,""),r=r.replace(/<link(?:[\w\W]*?)data-fr-style="true"(?:[\w\W]*?)>/g,""),r=r.replace(/<style(?:[\w\W]*?)class="firebugResetStyles"(?:[\w\W]*?)>(?:[\w\W]*?)<\/style>/g,""),r=r.replace(/<body((?:[\w\W]*?)) spellcheck="true"((?:[\w\W]*?))>((?:[\w\W]*?))<\/body>/g,"<body$1$2>$3</body>"),r=r.replace(/<body((?:[\w\W]*?)) contenteditable="(true|false)"((?:[\w\W]*?))>((?:[\w\W]*?))<\/body>/g,"<body$1$3>$4</body>"),r=r.replace(/<body((?:[\w\W]*?)) dir="([\w]*)"((?:[\w\W]*?))>((?:[\w\W]*?))<\/body>/g,"<body$1$3>$4</body>"),r=r.replace(/<body((?:[\w\W]*?))class="([\w\W]*?)(fr-rtl|fr-ltr)([\w\W]*?)"((?:[\w\W]*?))>((?:[\w\W]*?))<\/body>/g,'<body$1class="$2$4"$5>$6</body>'),r=r.replace(/<body((?:[\w\W]*?)) class=""((?:[\w\W]*?))>((?:[\w\W]*?))<\/body>/g,"<body$1$2>$3</body>")),t.opts.htmlSimpleAmpersand&&(r=r.replace(/\&amp;/gi,"&")),t.events.trigger("html.afterGet"),e||(r=r.replace(/<span[^>]*? class\s*=\s*["']?fr-marker["']?[^>]+>\u200b<\/span>/gi,"")),r=t.clean.invisibleSpaces(r);var w=t.events.chainTrigger("html.get",r);return"string"==typeof w&&(r=w),r=r.replace(/<pre(?:[\w\W]*?)>(?:[\w\W]*?)<\/pre>/g,function(e){return e.replace(/<br>/g,"\n")})}function C(){var n=function(n,r){for(;r&&(r.nodeType==Node.TEXT_NODE||!t.node.isBlock(r))&&!t.node.isElement(r);)r&&r.nodeType!=Node.TEXT_NODE&&e(n).wrapInner(t.node.openTagString(r)+t.node.closeTagString(r)),r=r.parentNode;r&&n.innerHTML==r.innerHTML&&(n.innerHTML=r.outerHTML)},r=function(){var n,r=null;return t.win.getSelection?(n=t.win.getSelection(),n&&n.rangeCount&&(r=n.getRangeAt(0).commonAncestorContainer,r.nodeType!=Node.ELEMENT_NODE&&(r=r.parentNode))):(n=t.doc.selection)&&"Control"!=n.type&&(r=n.createRange().parentElement()),null!=r&&(e.inArray(t.$el.get(0),e(r).parents())>=0||r==t.$el.get(0))?r:null},i="";if("undefined"!=typeof t.win.getSelection){t.browser.mozilla&&(t.selection.save(),t.$el.find('.fr-marker[data-type="false"]').length>1&&(t.$el.find('.fr-marker[data-type="false"][data-id="0"]').remove(),t.$el.find('.fr-marker[data-type="false"]:last').attr("data-id","0"),t.$el.find(".fr-marker").not('[data-id="0"]').remove()),t.selection.restore());for(var o=t.selection.ranges(),a=0;a<o.length;a++){var s=document.createElement("div");s.appendChild(o[a].cloneContents()),n(s,r()),e(s).find(".fr-element").length>0&&(s=t.$el.get(0)),i+=s.innerHTML}}else"undefined"!=typeof t.doc.selection&&"Text"==t.doc.selection.type&&(i=t.doc.selection.createRange().htmlText);return i}function T(t){var n=e("<div>").html(t);return n.find(o()).length>0}function D(e){var n=t.doc.createElement("div");return n.innerHTML=e,t.selection.setAtEnd(n),n.innerHTML}function k(e){return e.replace(/</gi,"&lt;").replace(/>/gi,"&gt;").replace(/"/gi,"&quot;").replace(/'/gi,"&apos;")}function N(n,r,i){t.selection.isCollapsed()||t.selection.remove();var o;if(o=r?n:t.clean.html(n),o=o.replace(/\r|\n/g," "),n.indexOf('class="fr-marker"')<0&&(o=D(o)),t.core.isEmpty())t.$el.html(o);else{var a=t.markers.insert();if(a){var s;if((T(o)||i)&&(s=t.node.deepestParent(a))){var a=t.markers.split();if(!a)return!1;e(a).replaceWith(o)}else e(a).replaceWith(o)}else t.$el.append(o)}y(),t.events.trigger("html.inserted")}function _(n){var r=null;"undefined"==typeof n&&(r=t.selection.element());var i,o;do{o=!1,i=t.$el.get(0).querySelectorAll("*:not(.fr-marker)");for(var a=0;a<i.length;a++){var s=i[a];if(r!=s){var l=s.textContent;0===s.children.length&&1===l.length&&8203==l.charCodeAt(0)&&(e(s).remove(),o=!0)}}}while(o)}function A(){var e=function(){_(),t.placeholder&&t.placeholder.refresh()};t.events.on("mouseup",e),t.events.on("keydown",e),t.events.on("contentChanged",b)}return{defaultTag:n,emptyBlocks:r,emptyBlockTagsQuery:i,blockTagsQuery:o,fillEmptyBlocks:c,cleanEmptyTags:a,cleanWhiteTags:_,doNormalize:p,cleanBlankSpaces:f,blocks:d,getDoctype:v,set:S,get:x,getSelected:C,insert:N,wrap:l,unwrap:u,escapeEntities:k,checkIfEmpty:b,extractNode:$,extractNodeAttrs:E,extractDoctype:w,_init:A}},e.extend(e.FE.DEFAULTS,{height:null,heightMax:null,heightMin:null,width:null}),e.FE.MODULES.size=function(e){function t(){n(),e.opts.height&&e.$el.css("minHeight",e.opts.height-e.helpers.getPX(e.$el.css("padding-top"))-e.helpers.getPX(e.$el.css("padding-bottom"))),e.$iframe.height(e.$el.outerHeight(!0))}function n(){e.opts.heightMin?e.$el.css("minHeight",e.opts.heightMin):e.$el.css("minHeight",""),e.opts.heightMax?(e.$wp.css("maxHeight",e.opts.heightMax),e.$wp.css("overflow","auto")):(e.$wp.css("maxHeight",""),e.$wp.css("overflow","")),e.opts.height?(e.$wp.height(e.opts.height),e.$el.css("minHeight",e.opts.height-e.helpers.getPX(e.$el.css("padding-top"))-e.helpers.getPX(e.$el.css("padding-bottom"))),e.$wp.css("overflow","auto")):(e.$wp.css("height",""),e.opts.heightMin||e.$el.css("minHeight",""),e.opts.heightMax||e.$wp.css("overflow","")),e.opts.width&&e.$box.width(e.opts.width)}function r(){return!!e.$wp&&(n(),void(e.$iframe&&(e.events.on("keyup",t),e.events.on("commands.after",t),e.events.on("html.set",t),e.events.on("init",t),e.events.on("initialized",t))))}return{_init:r,syncIframe:t,refresh:n}},e.extend(e.FE.DEFAULTS,{language:null}),e.FE.LANGUAGE={},e.FE.MODULES.language=function(t){function n(e){return i&&i.translation[e]?i.translation[e]:e}function r(){e.FE.LANGUAGE&&(i=e.FE.LANGUAGE[t.opts.language]),i&&i.direction&&(t.opts.direction=i.direction)}var i;return{_init:r,translate:n}},e.extend(e.FE.DEFAULTS,{placeholderText:"Type something"}),e.FE.MODULES.placeholder=function(t){function n(){t.$placeholder||a();var n=0,r=0,i=0,o=0,s=t.node.contents(t.$el.get(0));if(s.length&&s[0].nodeType==Node.ELEMENT_NODE){var l=e(s[0]);t.opts.toolbarInline||(n=t.helpers.getPX(l.css("margin-top")),i=t.helpers.getPX(l.css("padding-top")),r=t.helpers.getPX(l.css("margin-left")),o=t.helpers.getPX(l.css("padding-left"))),t.$placeholder.css("font-size",l.css("font-size")),t.$placeholder.css("line-height",l.css("line-height"))}else t.$placeholder.css("font-size",t.$el.css("font-size")),t.$placeholder.css("line-height",t.$el.css("line-height"));t.$wp.addClass("show-placeholder"),t.$placeholder.css({marginTop:Math.max(t.helpers.getPX(t.$el.css("margin-top")),n),paddingTop:Math.max(t.helpers.getPX(t.$el.css("padding-top")),i),paddingLeft:Math.max(t.helpers.getPX(t.$el.css("padding-left")),o),marginLeft:Math.max(t.helpers.getPX(t.$el.css("margin-left")),r)}).text(t.language.translate(t.opts.placeholderText||t.$oel.attr("placeholder")||"")),t.$placeholder.html(t.$placeholder.text().replace(/\n/g,"<br>"))}function r(){t.$wp.removeClass("show-placeholder")}function i(){return!t.$wp||t.$wp.hasClass("show-placeholder")}function o(){return!!t.$wp&&void(t.core.isEmpty()?n():r())}function a(){t.$placeholder=e('<span class="fr-placeholder"></span>'),t.$wp.append(t.$placeholder)}function s(){return!!t.$wp&&void t.events.on("init input keydown keyup contentChanged initialized",o)}return{_init:s,show:n,hide:r,refresh:o,isVisible:i}},e.FE.MODULES.edit=function(e){function t(){if(e.browser.mozilla)try{e.doc.execCommand("enableObjectResizing",!1,"false"),e.doc.execCommand("enableInlineTableEditing",!1,"false")}catch(t){}if(e.browser.msie)try{e.doc.body.addEventListener("mscontrolselect",function(e){return e.preventDefault(),!1})}catch(t){}}function n(){e.$wp?(e.$el.attr("contenteditable",!0),e.$el.removeClass("fr-disabled"),e.$tb&&e.$tb.removeClass("fr-disabled"),t()):e.$el.is("a")&&e.$el.attr("contenteditable",!0),o=!1}function r(){e.$wp?(e.$el.attr("contenteditable",!1),e.$el.addClass("fr-disabled"),e.$tb&&e.$tb.addClass("fr-disabled")):e.$el.is("a")&&e.$el.attr("contenteditable",!1),o=!0}function i(){return o}var o=!1;return{on:n,off:r,disableDesign:t,isDisabled:i}},e.extend(e.FE.DEFAULTS,{editorClass:null,typingTimer:500,iframe:!1,requestWithCORS:!0,requestHeaders:{},useClasses:!0,spellcheck:!0,iframeStyle:'html{margin: 0px;}body{padding:10px;background:transparent;color:#000000;position:relative;z-index: 2;-webkit-user-select:auto;margin:0px;overflow:hidden;min-height:20px;}body:after{content:"";display:block;clear:both;}',iframeStyleFiles:[],direction:"auto",zIndex:1,disableRightClick:!1,scrollableContainer:"body",keepFormatOnDelete:!1,theme:null}),e.FE.MODULES.core=function(t){function n(e){if(t.opts.iframe){t.$head.find("style[data-fr-style], link[data-fr-style]").remove(),t.$head.append('<style data-fr-style="true">'+e+"</style>");for(var n=0;n<t.opts.iframeStyleFiles.length;n++)t.$head.append('<link data-fr-style="true" rel="stylesheet" href="'+t.opts.iframeStyleFiles[n]+'">')}}function r(){t.opts.iframe||t.$el.addClass("fr-element fr-view")}function i(){if(t.$box.addClass("fr-box"+(t.opts.editorClass?" "+t.opts.editorClass:"")),t.$wp.addClass("fr-wrapper"),r(),t.opts.iframe){t.$iframe.addClass("fr-iframe"),t.$el.addClass("fr-view");for(var e=0;e<t.o_doc.styleSheets.length;e++){var n;try{n=t.o_doc.styleSheets[e].cssRules}catch(i){}if(n)for(var o=0,a=n.length;a>o;o++)!n[o].selectorText||0!==n[o].selectorText.indexOf(".fr-view")&&0!==n[o].selectorText.indexOf(".fr-element")||n[o].style.cssText.length>0&&(0===n[o].selectorText.indexOf(".fr-view")?t.opts.iframeStyle+=n[o].selectorText.replace(/\.fr-view/g,"body")+"{"+n[o].style.cssText+"}":t.opts.iframeStyle+=n[o].selectorText.replace(/\.fr-element/g,"body")+"{"+n[o].style.cssText+"}")}}"auto"!=t.opts.direction&&t.$box.removeClass("fr-ltr fr-rtl").addClass("fr-"+t.opts.direction),t.$el.attr("dir",t.opts.direction),t.$wp.attr("dir",t.opts.direction),t.opts.zIndex>1&&t.$box.css("z-index",t.opts.zIndex),t.opts.theme&&t.$box.addClass(t.opts.theme+"-theme")}function o(){return t.node.isEmpty(t.$el.get(0))}function a(){t.drag_support={filereader:"undefined"!=typeof FileReader,formdata:!!t.win.FormData,progress:"upload"in new XMLHttpRequest}}function s(e,n){var r=new XMLHttpRequest;r.open(n,e,!0),t.opts.requestWithCORS&&(r.withCredentials=!0);for(var i in t.opts.requestHeaders)t.opts.requestHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,t.opts.requestHeaders[i]);return r}function l(e){"TEXTAREA"==t.$oel.get(0).tagName&&t.$oel.val(e),t.$wp&&("TEXTAREA"==t.$oel.get(0).tagName?(t.$el.html(""),t.$wp.html(""),t.$box.replaceWith(t.$oel),t.$oel.show()):(t.$wp.replaceWith(e),t.$el.html(""),t.$box.removeClass("fr-view fr-ltr fr-box "+(t.opts.editorClass||"")),t.opts.theme&&t.$box.addClass(t.opts.theme+"-theme"))),this.$wp=null,this.$el=null,this.$box=null}function u(){return t.browser.mozilla&&t.helpers.isMobile()?t.selection.inEditor():t.node.hasFocus(t.$el.get(0))||t.$el.find("*:focus").length>0}function c(e){if(!e)return!1;var n=e.data("instance");return!!n&&n.id==t.id}function d(){if(e.FE.INSTANCES.push(t),a(),t.$wp){i(),t.html.set(t._original_html),t.$el.attr("spellcheck",t.opts.spellcheck),t.helpers.isMobile()&&(t.$el.attr("autocomplete",t.opts.spellcheck?"on":"off"),t.$el.attr("autocorrect",t.opts.spellcheck?"on":"off"),t.$el.attr("autocapitalize",t.opts.spellcheck?"on":"off")),t.opts.disableRightClick&&t.events.$on(t.$el,"contextmenu",function(e){return 2!=e.button&&void 0});try{t.doc.execCommand("styleWithCSS",!1,!1)}catch(n){}}t.events.on("drop",function(e){e.preventDefault(),e.stopPropagation()}),"TEXTAREA"==t.$oel.get(0).tagName&&(t.events.on("contentChanged",function(){t.$oel.val(t.html.get())}),t.events.on("form.submit",function(){t.$oel.val(t.html.get())}),t.events.on("form.reset",function(){t.html.set(t._original_html)}),t.$oel.val(t.html.get())),t.helpers.isIOS()&&t.events.$on(t.$doc,"selectionchange",function(){t.$doc.get(0).hasFocus()||t.$win.get(0).focus()}),t.events.trigger("init")}return{_init:d,destroy:l,isEmpty:o,getXHR:s,injectStyle:n,hasFocus:u,sameInstance:c}},e.FE.MODULES.format=function(t){function n(e,t){var n="<"+e;for(var r in t)t.hasOwnProperty(r)&&(n+=" "+r+'="'+t[r]+'"');return n+=">"}function r(e){return"</"+e+">"}function i(e,t){var n=e;for(var r in t)t.hasOwnProperty(r)&&(e+="id"==r?"#"+t[r]:"class"==r?"."+t[r]:"["+r+'="'+t[r]+'"]');return n}function o(e,t){return!(!e||e.nodeType!=Node.ELEMENT_NODE)&&(e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector).call(e,t)}function a(r,i,o){if(r){if(t.node.isBlock(r))return a(r.firstChild,i,o),!1;for(var s=e(n(i,o)).insertBefore(r),l=r;l&&!e(l).is(".fr-marker")&&0==e(l).find(".fr-marker").length;){var u=l;l=l.nextSibling,s.append(u)}if(l)e(l).find(".fr-marker").length&&a(l.firstChild,i,o);else{for(var c=s.get(0).parentNode;c&&!c.nextSibling&&!t.node.isElement(c);)c=c.parentNode;if(c){var d=c.nextSibling;d&&(t.node.isBlock(d)?a(d.firstChild,i,o):a(d,i,o))}}s.is(":empty")&&s.remove()}}function s(s,l){if("undefined"==typeof l&&(l={}),l.style&&delete l.style,t.selection.isCollapsed()){t.markers.insert();var u=t.$el.find(".fr-marker");u.replaceWith(n(s,l)+e.FE.INVISIBLE_SPACE+e.FE.MARKERS+r(s)),t.selection.restore()}else{t.selection.save();var c=t.$el.find('.fr-marker[data-type="true"]').get(0).nextSibling;a(c,s,l);var d;do d=t.$el.find(i(s,l)+" > "+i(s,l)),d.each(function(){e(this).replaceWith(this.innerHTML)});while(d.length);t.$el.get(0).normalize();for(var f=t.$el.get(0).querySelectorAll(".fr-marker"),h=0;h<f.length;h++){var p=e(f[h]);1==p.data("type")?o(p.get(0).nextSibling,i(s,l))&&p.next().prepend(p):o(p.get(0).previousSibling,i(s,l))&&p.prev().append(p)}t.selection.restore()}}function l(e,n,r,a){if(!a){var s=!1;if(e.data("type")===!0)for(;t.node.isFirstSibling(e.get(0))&&!e.parent().is(t.$el);)e.parent().before(e),s=!0;else if(e.data("type")===!1)for(;t.node.isLastSibling(e.get(0))&&!e.parent().is(t.$el);)e.parent().after(e),s=!0;if(s)return!0}if(e.parents(n).length||"undefined"==typeof n){var l="",u="",c=e.parent();if(c.is(t.$el)||t.node.isBlock(c.get(0)))return!1;for(;"undefined"==typeof n&&!t.node.isBlock(c.parent().get(0))||"undefined"!=typeof n&&!o(c.get(0),i(n,r));)l+=t.node.closeTagString(c.get(0)),u=t.node.openTagString(c.get(0))+u,c=c.parent();var d=e.get(0).outerHTML;e.replaceWith('<span id="mark"></span>');var f=c.html().replace(/<span id="mark"><\/span>/,l+t.node.closeTagString(c.get(0))+u+d+l+t.node.openTagString(c.get(0))+u);return c.replaceWith(t.node.openTagString(c.get(0))+f+t.node.closeTagString(c.get(0))),!0}return!1}function u(n,r,a,s){for(var l=t.node.contents(n.get(0)),c=0;c<l.length;c++){var d=l[c];e(d).hasClass("fr-marker")?r=(r+1)%2:r?e(d).find(".fr-marker").length>0?r=u(e(d),r,a,s):(e(e(d).find(a||"*").get().reverse()).each(function(){t.node.isBlock(this)||t.node.isVoid(this)||e(this).replaceWith(this.innerHTML)}),("undefined"==typeof a&&d.nodeType==Node.ELEMENT_NODE&&!t.node.isVoid(d)&&!t.node.isBlock(d)||o(d,i(a,s)))&&e(d).replaceWith(d.innerHTML)):e(d).find(".fr-marker").length>0&&(r=u(e(d),r,a,s))}return r}function c(n,r){"undefined"==typeof r&&(r={}),r.style&&delete r.style;var i=t.selection.isCollapsed();t.selection.save();for(var o=!0;o;){o=!1;for(var a=t.$el.find(".fr-marker"),s=0;s<a.length;s++)if(l(e(a[s]),n,r,i)){o=!0;break}}u(t.$el,0,n,r),i&&t.$el.find(".fr-marker").before(e.FE.INVISIBLE_SPACE).after(e.FE.INVISIBLE_SPACE),t.html.cleanEmptyTags(),t.$el.get(0).normalize(),t.selection.restore()}function d(e,t){m(e,t)?c(e,t):s(e,t)}function f(t,n){var r=e(t);r.css(n,""),""===r.attr("style")&&r.replaceWith(r.html())}function h(t,n){return 0===e(t).attr("style").indexOf(n+":")||e(t).attr("style").indexOf(";"+n+":")>=0||e(t).attr("style").indexOf("; "+n+":")>=0}function p(n,r){if(t.selection.isCollapsed()){t.markers.insert();var i=t.$el.find(".fr-marker"),o=i.parent();t.node.openTagString(o.get(0))=='<span style="'+n+": "+o.css(n)+';">'&&t.node.isEmpty(o.get(0))?o.replaceWith('<span style="'+n+": "+r+';">'+e.FE.INVISIBLE_SPACE+e.FE.MARKERS+"</span>"):t.node.isEmpty(o.get(0))&&o.is("span")?(i.replaceWith(e.FE.MARKERS),o.css(n,r)):i.replaceWith('<span style="'+n+": "+r+';">'+e.FE.INVISIBLE_SPACE+e.FE.MARKERS+"</span>"),t.selection.restore()}else{if(t.selection.save(),null===r)for(var s=t.$el.find(".fr-marker"),l=0;l<s.length;l++){var i=e(s[l]);if(i.data("type")===!0)for(;t.node.isFirstSibling(i.get(0))&&!i.parent().is(t.$el);)i.parent().before(i);else for(;t.node.isLastSibling(i.get(0))&&!i.parent().is(t.$el);)i.parent().after(i)}var u=t.$el.find('.fr-marker[data-type="true"]').get(0).nextSibling,c={"class":"fr-unprocessed"};for(r&&(c.style=n+": "+r+";"),a(u,"span",c),t.$el.find(".fr-marker + .fr-unprocessed").each(function(){e(this).prepend(e(this).prev())}),t.$el.find(".fr-unprocessed + .fr-marker").each(function(){e(this).prev().append(this)});t.$el.find("span.fr-unprocessed").length>0;){var d=t.$el.find("span.fr-unprocessed:first").removeClass("fr-unprocessed");if(d.parent().get(0).normalize(),d.parent().is("span")&&1==d.parent().get(0).childNodes.length){d.parent().css(n,r);var p=d;d=d.parent(),p.replaceWith(p.html())}for(var g=d.find("span"),l=g.length-1;l>=0;l--)f(g[l],n);var m=d.parentsUntil(t.$el,"span[style]").filter(function(){return h(this,n)});if(m.length){var v="",y="",b="",$="",E=d.get(0);do E=E.parentNode,v+=t.node.closeTagString(E),y=t.node.openTagString(e(E).clone().addClass("fr-split").get(0))+y,m.get(0)!=E&&(b+=t.node.closeTagString(E),$=t.node.openTagString(e(E).clone().addClass("fr-split").get(0))+$);while(m.get(0)!=E);var w=v+t.node.openTagString(e(m.get(0)).clone().css(n,r||"").get(0))+$+d.css(n,"").get(0).outerHTML+b+"</span>"+y;d.replaceWith('<span id="fr-break"></span>');var S=m.get(0).outerHTML;e(m.get(0)).replaceWith(S.replace(/<span id="fr-break"><\/span>/g,w))}}for(;t.$el.find(".fr-split:empty").length>0;)t.$el.find(".fr-split:empty").remove();t.$el.find(".fr-split").removeClass("fr-split"),t.$el.find('span[style=""]').removeAttr("style"),t.$el.find('span[class=""]').removeAttr("class"),t.html.cleanEmptyTags(),e(t.$el.find("span").get().reverse()).each(function(){this.attributes&&0!=this.attributes.length||e(this).replaceWith(this.innerHTML)}),t.$el.get(0).normalize();var x=t.$el.find("span[style] + span[style]");for(l=0;l<x.length;l++){var C=e(x[l]),T=e(x[l]).prev();C.get(0).previousSibling==T.get(0)&&t.node.openTagString(C.get(0))==t.node.openTagString(T.get(0))&&(C.prepend(T.html()),T.remove())}t.$el.get(0).normalize(),t.selection.restore()}}function g(e){p(e,null)}function m(e,n){"undefined"==typeof n&&(n={}),n.style&&delete n.style;var r=t.selection.ranges(0),a=r.startContainer;a.nodeType==Node.ELEMENT_NODE&&a.childNodes.length>0&&a.childNodes[r.startOffset]&&(a=a.childNodes[r.startOffset]);for(var s=a;s&&s.nodeType==Node.ELEMENT_NODE&&!o(s,i(e,n));)s=s.firstChild;if(s&&s.nodeType==Node.ELEMENT_NODE&&o(s,i(e,n)))return!0;var l=a;for(l&&l.nodeType!=Node.ELEMENT_NODE&&(l=l.parentNode);l&&l.nodeType==Node.ELEMENT_NODE&&l!=t.$el.get(0)&&!o(l,i(e,n));)l=l.parentNode;return!(!l||l.nodeType!=Node.ELEMENT_NODE||l==t.$el.get(0)||!o(l,i(e,n)))}return{is:m,toggle:d,apply:s,remove:c,applyStyle:p,removeStyle:g}},e.FE.COMMANDS={bold:{title:"Bold",refresh:function(e){e.toggleClass("fr-active",this.format.is("strong"))}},italic:{title:"Italic",refresh:function(e){e.toggleClass("fr-active",this.format.is("em"))}},underline:{title:"Underline",refresh:function(e){e.toggleClass("fr-active",this.format.is("u"))}},strikeThrough:{title:"Strikethrough",refresh:function(e){e.toggleClass("fr-active",this.format.is("s"))}},subscript:{title:"Subscript",refresh:function(e){e.toggleClass("fr-active",this.format.is("sub"))}},superscript:{title:"Superscript",refresh:function(e){e.toggleClass("fr-active",this.format.is("sup"))}},outdent:{title:"Decrease Indent"},indent:{title:"Increase Indent"},undo:{title:"Undo",undo:!1,forcedRefresh:!0,disabled:!0},redo:{title:"Redo",undo:!1,forcedRefresh:!0,disabled:!0},insertHR:{title:"Insert Horizontal Line"},clearFormatting:{title:"Clear Formatting"},selectAll:{title:"Select All",undo:!1}},e.FE.RegisterCommand=function(t,n){e.FE.COMMANDS[t]=n},e.FE.MODULES.commands=function(t){function n(n,r){if(t.events.trigger("commands.before",e.merge([n],r||[]))!==!1){var i=e.FE.COMMANDS[n]&&e.FE.COMMANDS[n].callback||s[n],o=!0;e.FE.COMMANDS[n]&&"undefined"!=typeof e.FE.COMMANDS[n].focus&&(o=e.FE.COMMANDS[n].focus),t.core.hasFocus()||!o||t.popups.areVisible()||t.events.focus(!0),e.FE.COMMANDS[n]&&e.FE.COMMANDS[n].undo!==!1&&t.undo.saveStep(),i&&i.apply(t,e.merge([n],r||[])),t.events.trigger("commands.after",e.merge([n],r||[])),e.FE.COMMANDS[n]&&e.FE.COMMANDS[n].undo!==!1&&t.undo.saveStep()}}function r(e,n){t.format.toggle(n)}function i(n){t.selection.save(),t.html.wrap(!0,!0,!0,!0),t.selection.restore();for(var r=t.selection.blocks(),i=0;i<r.length;i++)if("LI"!=r[i].tagName&&"LI"!=r[i].parentNode.tagName){var o=e(r[i]),a="rtl"==t.opts.direction||"rtl"==o.css("direction")?"margin-right":"margin-left",s=t.helpers.getPX(o.css(a));o.css(a,Math.max(s+20*n,0)||""),o.removeClass("fr-temp-div")}t.selection.save(),t.html.unwrap(),t.selection.restore()}function o(e){return function(){n(e)}}function a(){t.events.on("keydown",function(e){var n=t.selection.element();return n&&"HR"==n.tagName?(e.preventDefault(),
!1):void 0}),t.events.on("mousedown",function(e){return e.target&&"HR"==e.target.tagName?(e.preventDefault(),e.stopPropagation(),!1):void 0}),t.events.on("mouseup",function(n){var r=t.selection.element(),i=t.selection.endElement();r==i&&r&&"HR"==r.tagName&&(r.nextSibling&&(t.node.isBlock(r.nextSibling)?t.selection.setAtStart(r.nextSibling):e(r).after(e.FE.MARKERS)),t.selection.restore())})}var s={bold:function(){r("bold","strong")},subscript:function(){r("subscript","sub")},superscript:function(){r("superscript","sup")},italic:function(){r("italic","em")},strikeThrough:function(){r("strikeThrough","s")},underline:function(){r("underline","u")},undo:function(){t.undo.run()},redo:function(){t.undo.redo()},indent:function(){i(1)},outdent:function(){i(-1)},show:function(){t.opts.toolbarInline&&t.toolbar.showInline(null,!0)},insertHR:function(){t.selection.remove();var e="";t.core.isEmpty()&&(e="<br>",t.html.defaultTag()&&(e="<"+t.html.defaultTag()+">"+e+"</"+t.html.defaultTag()+">")),t.html.insert('<hr id="fr-just">'+e);var n=t.$el.find("hr#fr-just");n.removeAttr("id"),t.selection.setAfter(n.get(0))||t.selection.setBefore(n.get(0)),t.selection.restore()},clearFormatting:function(){t.format.remove()},selectAll:function(){t.doc.execCommand("selectAll",!1,!1)}},l={};for(var u in s)s.hasOwnProperty(u)&&(l[u]=o(u));return e.extend(l,{exec:n,_init:a})},e.FE.MODULES.cursorLists=function(t){function n(e){for(var t=e;"LI"!=t.tagName;)t=t.parentNode;return t}function r(e){for(var n=e;!t.node.isList(n);)n=n.parentNode;return n}function i(i){var o,a=n(i),s=a.nextSibling,l=a.previousSibling,u=t.html.defaultTag();if(t.node.isEmpty(a,!0)&&s){for(var c="",d="",f=i.parentNode;!t.node.isList(f)&&f.parentNode&&"LI"!==f.parentNode.tagName;)c=t.node.openTagString(f)+c,d+=t.node.closeTagString(f),f=f.parentNode;c=t.node.openTagString(f)+c,d+=t.node.closeTagString(f);var h="";for(h=f.parentNode&&"LI"==f.parentNode.tagName?d+"<li>"+e.FE.MARKERS+"<br>"+c:u?d+"<"+u+">"+e.FE.MARKERS+"<br></"+u+">"+c:d+e.FE.MARKERS+"<br>"+c,e(a).html('<span id="fr-break"></span>');["UL","OL"].indexOf(f.tagName)<0||f.parentNode&&"LI"===f.parentNode.tagName;)f=f.parentNode;var p=t.node.openTagString(f)+e(f).html()+t.node.closeTagString(f);p=p.replace(/<span id="fr-break"><\/span>/g,h),e(f).replaceWith(p),t.$el.find("li:empty").remove()}else l&&s||!t.node.isEmpty(a,!0)?(e(a).before("<li><br></li>"),e(i).remove()):l?(o=r(a),o.parentNode&&"LI"==o.parentNode.tagName?e(o.parentNode).after("<li>"+e.FE.MARKERS+"<br></li>"):u?e(o).after("<"+u+">"+e.FE.MARKERS+"<br></"+u+">"):e(o).after(e.FE.MARKERS+"<br>"),e(a).remove()):(o=r(a),o.parentNode&&"LI"==o.parentNode.tagName?e(o.parentNode).before("<li>"+e.FE.MARKERS+"<br></li>"):u?e(o).before("<"+u+">"+e.FE.MARKERS+"<br></"+u+">"):e(o).before(e.FE.MARKERS+"<br>"),e(a).remove())}function o(r){for(var i=n(r),o="",a=r,s="",l="";a!=i;){a=a.parentNode;var u="A"==a.tagName&&t.cursor.isAtEnd(r,a)?"fr-to-remove":"";s=t.node.openTagString(e(a).clone().addClass(u).get(0))+s,l=t.node.closeTagString(a)+l}o=l+o+s+e.FE.MARKERS,e(r).replaceWith('<span id="fr-break"></span>');var c=t.node.openTagString(i)+e(i).html()+t.node.closeTagString(i);c=c.replace(/<span id="fr-break"><\/span>/g,o),e(i).replaceWith(c)}function a(r){for(var i=n(r),o=e.FE.MARKERS,a="",s=r,l=!1;s!=i;){s=s.parentNode;var u="A"==s.tagName&&t.cursor.isAtEnd(r,s)?"fr-to-remove":"";l||s==i||t.node.isBlock(s)||(l=!0,a+=e.FE.INVISIBLE_SPACE),a=t.node.openTagString(e(s).clone().addClass(u).get(0))+a,o+=t.node.closeTagString(s)}var c=a+o;e(r).remove(),e(i).after(c)}function s(i){var o=n(i),a=o.previousSibling;if(a){a=e(a).find(t.html.blockTagsQuery()).get(-1)||a,e(i).replaceWith(e.FE.MARKERS);var s=t.node.contents(a);s.length&&"BR"==s[s.length-1].tagName&&e(s[s.length-1]).remove(),e(o).find(t.html.blockTagsQuery()).not("ol, ul, table").each(function(){this.parentNode==o&&e(this).replaceWith(e(this).html()+(t.node.isEmpty(this)?"":"<br>"))});for(var l,u=t.node.contents(o)[0];u&&!t.node.isList(u);)l=u.nextSibling,e(a).append(u),u=l;for(a=o.previousSibling;u;)l=u.nextSibling,e(a).append(u),u=l;e(o).remove()}else{var c=r(o);if(e(i).replaceWith(e.FE.MARKERS),c.parentNode&&"LI"==c.parentNode.tagName){var d=c.previousSibling;t.node.isBlock(d)?(e(o).find(t.html.blockTagsQuery()).not("ol, ul, table").each(function(){this.parentNode==o&&e(this).replaceWith(e(this).html()+(t.node.isEmpty(this)?"":"<br>"))}),e(d).append(e(o).html())):e(c).before(e(o).html())}else{var f=t.html.defaultTag();f&&0===e(o).find(t.html.blockTagsQuery()).length?e(c).before("<"+f+">"+e(o).html()+"</"+f+">"):e(c).before(e(o).html())}e(o).remove(),0===e(c).find("li").length&&e(c).remove()}}function l(r){var i,o=n(r),a=o.nextSibling;if(a){i=t.node.contents(a),i.length&&"BR"==i[0].tagName&&e(i[0]).remove(),e(a).find(t.html.blockTagsQuery()).not("ol, ul, table").each(function(){this.parentNode==a&&e(this).replaceWith(e(this).html()+(t.node.isEmpty(this)?"":"<br>"))});for(var s,l=r,u=t.node.contents(a)[0];u&&!t.node.isList(u);)s=u.nextSibling,e(l).after(u),l=u,u=s;for(;u;)s=u.nextSibling,e(o).append(u),u=s;e(r).replaceWith(e.FE.MARKERS),e(a).remove()}else{for(var c=o;!c.nextSibling&&c!=t.$el.get(0);)c=c.parentNode;if(c==t.$el.get(0))return!1;if(c=c.nextSibling,t.node.isBlock(c))e.FE.NO_DELETE_TAGS.indexOf(c.tagName)<0&&(e(r).replaceWith(e.FE.MARKERS),i=t.node.contents(o),i.length&&"BR"==i[i.length-1].tagName&&e(i[i.length-1]).remove(),e(o).append(e(c).html()),e(c).remove());else for(i=t.node.contents(o),i.length&&"BR"==i[i.length-1].tagName&&e(i[i.length-1]).remove(),e(r).replaceWith(e.FE.MARKERS);c&&!t.node.isBlock(c)&&"BR"!=c.tagName;)e(o).append(e(c)),c=c.nextSibling}}return{_startEnter:i,_middleEnter:o,_endEnter:a,_backspace:s,_del:l}},e.FE.NO_DELETE_TAGS=["TH","TD","TABLE","FORM"],e.FE.SIMPLE_ENTER_TAGS=["TH","TD","LI","DL","DT","FORM"],e.FE.MODULES.cursor=function(t){function n(e){return!!e&&(!!t.node.isBlock(e)||!e.nextSibling&&n(e.parentNode))}function r(e){return!!e&&(!!t.node.isBlock(e)||!e.previousSibling&&r(e.parentNode))}function i(e,n){return!!e&&(e!=t.$wp.get(0)&&(!e.previousSibling&&(e.parentNode==n||i(e.parentNode,n))))}function o(e,n){return!!e&&(e!=t.$wp.get(0)&&(!e.nextSibling&&(e.parentNode==n||o(e.parentNode,n))))}function a(n){return e(n).parentsUntil(t.$el,"LI").length>0&&0===e(n).parentsUntil("LI","TABLE").length}function s(n){var r=e(n).parentsUntil(t.$el,"BLOCKQUOTE").length>0,i=t.node.deepestParent(n,[],!r);if(i&&"BLOCKQUOTE"==i.tagName){var o=t.node.deepestParent(n,[e(n).parentsUntil(t.$el,"BLOCKQUOTE").get(0)]);o&&o.previousSibling&&(i=o)}if(null!==i){var a,s=i.previousSibling;if(t.node.isBlock(i)&&t.node.isEditable(i)&&s&&e.FE.NO_DELETE_TAGS.indexOf(s.tagName)<0)if(t.node.isDeletable(s))e(s).remove(),e(n).replaceWith(e.FE.MARKERS);else if(t.node.isEditable(s))if(t.node.isBlock(s))if(t.node.isEmpty(s)&&!t.node.isList(s))e(s).remove();else{if(t.node.isList(s)&&(s=e(s).find("li:last").get(0)),a=t.node.contents(s),a.length&&"BR"==a[a.length-1].tagName&&e(a[a.length-1]).remove(),"BLOCKQUOTE"==s.tagName&&"BLOCKQUOTE"!=i.tagName)for(a=t.node.contents(s);a.length&&t.node.isBlock(a[a.length-1]);)s=a[a.length-1],a=t.node.contents(s);else if("BLOCKQUOTE"!=s.tagName&&"BLOCKQUOTE"==i.tagName)for(a=t.node.contents(i);a.length&&t.node.isBlock(a[0]);)i=a[0],a=t.node.contents(i);e(n).replaceWith(e.FE.MARKERS),e(s).append(t.node.isEmpty(i)?e.FE.MARKERS:i.innerHTML),e(i).remove()}else e(n).replaceWith(e.FE.MARKERS),"BLOCKQUOTE"==i.tagName&&s.nodeType==Node.ELEMENT_NODE?e(s).remove():(e(s).after(t.node.isEmpty(i)?"":e(i).html()),e(i).remove(),"BR"==s.tagName&&e(s).remove())}}function l(n){for(var r=n;!r.previousSibling;)if(r=r.parentNode,t.node.isElement(r))return!1;r=r.previousSibling;var i;if(!t.node.isBlock(r)&&t.node.isEditable(r)){for(i=t.node.contents(r);r.nodeType!=Node.TEXT_NODE&&!t.node.isDeletable(r)&&i.length&&t.node.isEditable(r);)r=i[i.length-1],i=t.node.contents(r);if(r.nodeType==Node.TEXT_NODE){if(t.helpers.isIOS())return!0;var o=r.textContent,a=o.length-1;if(t.opts.tabSpaces&&o.length>=t.opts.tabSpaces){var s=o.substr(o.length-t.opts.tabSpaces,o.length-1);0==s.replace(/ /g,"").replace(new RegExp(e.FE.UNICODE_NBSP,"g"),"").length&&(a=o.length-t.opts.tabSpaces)}r.textContent=o.substring(0,a),r.textContent.length&&55357==r.textContent.charCodeAt(r.textContent.length-1)&&(r.textContent=r.textContent.substr(0,r.textContent.length-1)),0==r.textContent.length?2!=r.parentNode.childNodes.length||r.parentNode!=n.parentNode||t.node.isBlock(r.parentNode)||t.node.isElement(r.parentNode)?(e(r).after(e.FE.MARKERS),t.node.isElement(r.parentNode)&&!n.nextSibling&&r.previousSibling&&"BR"==r.previousSibling.tagName&&e(n).after("<br>"),r.parentNode.removeChild(r)):(e(r.parentNode).after(e.FE.MARKERS),e(r.parentNode).remove()):e(r).after(e.FE.MARKERS)}else t.node.isDeletable(r)?(e(r).after(e.FE.MARKERS),e(r).remove()):t.events.trigger("node.remove",[e(r)])!==!1&&(e(r).after(e.FE.MARKERS),e(r).remove())}else if(e.FE.NO_DELETE_TAGS.indexOf(r.tagName)<0&&t.node.isEditable(r))if(t.node.isEmpty(r)&&!t.node.isList(r))e(r).remove(),e(n).replaceWith(e.FE.MARKERS);else{for(t.node.isList(r)&&(r=e(r).find("li:last").get(0)),i=t.node.contents(r),i&&"BR"==i[i.length-1].tagName&&e(i[i.length-1]).remove(),i=t.node.contents(r);i&&t.node.isBlock(i[i.length-1]);)r=i[i.length-1],i=t.node.contents(r);e(r).append(e.FE.MARKERS);for(var l=n;!l.previousSibling;)l=l.parentNode;for(;l&&"BR"!==l.tagName&&!t.node.isBlock(l);){var u=l;l=l.nextSibling,e(r).append(u)}l&&"BR"==l.tagName&&e(l).remove(),e(n).remove()}else n.nextSibling&&"BR"==n.nextSibling.tagName&&e(n.nextSibling).remove()}function u(){var o=!1,u=t.markers.insert();if(!u)return!0;t.$el.get(0).normalize();var c=u.previousSibling;if(c){var d=c.textContent;d&&d.length&&8203==d.charCodeAt(d.length-1)&&(1==d.length?e(c).remove():(c.textContent=c.textContent.substr(0,d.length-1),c.textContent.length&&55357==c.textContent.charCodeAt(c.textContent.length-1)&&(c.textContent=c.textContent.substr(0,c.textContent.length-1))))}return n(u)?o=l(u):r(u)?a(u)&&i(u,e(u).parents("li:first").get(0))?t.cursorLists._backspace(u):s(u):o=l(u),e(u).remove(),t.$el.find("blockquote:empty").remove(),t.html.fillEmptyBlocks(),t.html.cleanEmptyTags(),t.clean.quotes(),t.clean.lists(),t.spaces.normalize(),t.selection.restore(),o}function c(n){var r=e(n).parentsUntil(t.$el,"BLOCKQUOTE").length>0,i=t.node.deepestParent(n,[],!r);if(i&&"BLOCKQUOTE"==i.tagName){var o=t.node.deepestParent(n,[e(n).parentsUntil(t.$el,"BLOCKQUOTE").get(0)]);o&&o.nextSibling&&(i=o)}if(null!==i){var a,s=i.nextSibling;if(t.node.isBlock(i)&&(t.node.isEditable(i)||t.node.isDeletable(i))&&s&&e.FE.NO_DELETE_TAGS.indexOf(s.tagName)<0)if(t.node.isDeletable(s))e(s).remove(),e(n).replaceWith(e.FE.MARKERS);else if(t.node.isBlock(s)&&t.node.isEditable(s))if(t.node.isList(s))if(t.node.isEmpty(i,!0))e(i).remove(),e(s).find("li:first").prepend(e.FE.MARKERS);else{var l=e(s).find("li:first");"BLOCKQUOTE"==i.tagName&&(a=t.node.contents(i),a.length&&t.node.isBlock(a[a.length-1])&&(i=a[a.length-1])),0===l.find("ul, ol").length&&(e(n).replaceWith(e.FE.MARKERS),l.find(t.html.blockTagsQuery()).not("ol, ul, table").each(function(){this.parentNode==l.get(0)&&e(this).replaceWith(e(this).html()+(t.node.isEmpty(this)?"":"<br>"))}),e(i).append(t.node.contents(l.get(0))),l.remove(),0===e(s).find("li").length&&e(s).remove())}else{if(a=t.node.contents(s),a.length&&"BR"==a[0].tagName&&e(a[0]).remove(),"BLOCKQUOTE"!=s.tagName&&"BLOCKQUOTE"==i.tagName)for(a=t.node.contents(i);a.length&&t.node.isBlock(a[a.length-1]);)i=a[a.length-1],a=t.node.contents(i);else if("BLOCKQUOTE"==s.tagName&&"BLOCKQUOTE"!=i.tagName)for(a=t.node.contents(s);a.length&&t.node.isBlock(a[0]);)s=a[0],a=t.node.contents(s);e(n).replaceWith(e.FE.MARKERS),e(i).append(s.innerHTML),e(s).remove()}else{for(e(n).replaceWith(e.FE.MARKERS);s&&"BR"!==s.tagName&&!t.node.isBlock(s)&&t.node.isEditable(s);){var u=s;s=s.nextSibling,e(i).append(u)}s&&"BR"==s.tagName&&t.node.isEditable(s)&&e(s).remove()}}}function d(r){for(var i=r;!i.nextSibling;)if(i=i.parentNode,t.node.isElement(i))return!1;if(i=i.nextSibling,"BR"==i.tagName&&t.node.isEditable(i))if(i.nextSibling){if(t.node.isBlock(i.nextSibling)&&t.node.isEditable(i.nextSibling)){if(!(e.FE.NO_DELETE_TAGS.indexOf(i.nextSibling.tagName)<0))return void e(i).remove();i=i.nextSibling,e(i.previousSibling).remove()}}else if(n(i)){if(a(r))t.cursorLists._del(r);else{var o=t.node.deepestParent(i);o&&(e(i).remove(),c(r))}return}var s;if(!t.node.isBlock(i)&&t.node.isEditable(i)){for(s=t.node.contents(i);i.nodeType!=Node.TEXT_NODE&&s.length&&!t.node.isDeletable(i)&&t.node.isEditable(i);)i=s[0],s=t.node.contents(i);i.nodeType==Node.TEXT_NODE?(e(i).before(e.FE.MARKERS),i.textContent.length&&55357==i.textContent.charCodeAt(0)?i.textContent=i.textContent.substring(2,i.textContent.length):i.textContent=i.textContent.substring(1,i.textContent.length)):t.node.isDeletable(i)?(e(i).before(e.FE.MARKERS),e(i).remove()):t.events.trigger("node.remove",[e(i)])!==!1&&(e(i).before(e.FE.MARKERS),e(i).remove()),e(r).remove()}else if(e.FE.NO_DELETE_TAGS.indexOf(i.tagName)<0&&(t.node.isEditable(i)||t.node.isDeletable(i)))if(t.node.isDeletable(i))e(r).replaceWith(e.FE.MARKERS),e(i).remove();else if(t.node.isList(i))r.previousSibling?(e(i).find("li:first").prepend(r),t.cursorLists._backspace(r)):(e(i).find("li:first").prepend(e.FE.MARKERS),e(r).remove());else if(s=t.node.contents(i),s&&"BR"==s[0].tagName&&e(s[0]).remove(),s&&"BLOCKQUOTE"==i.tagName){var l=s[0];for(e(r).before(e.FE.MARKERS);l&&"BR"!=l.tagName;){var u=l;l=l.nextSibling,e(r).before(u)}l&&"BR"==l.tagName&&e(l).remove()}else e(r).after(e(i).html()).after(e.FE.MARKERS),e(i).remove()}function f(){var i=t.markers.insert();if(!i)return!1;if(t.$el.get(0).normalize(),n(i))if(a(i))if(0===e(i).parents("li:first").find("ul, ol").length)t.cursorLists._del(i);else{var o=e(i).parents("li:first").find("ul:first, ol:first").find("li:first");o=o.find(t.html.blockTagsQuery()).get(-1)||o,o.prepend(i),t.cursorLists._backspace(i)}else c(i);else d(r(i)?i:i);e(i).remove(),t.$el.find("blockquote:empty").remove(),t.html.fillEmptyBlocks(),t.html.cleanEmptyTags(),t.clean.quotes(),t.clean.lists(),t.spaces.normalize(),t.selection.restore()}function h(){t.$el.find(".fr-to-remove").each(function(){for(var n=t.node.contents(this),r=0;r<n.length;r++)n[r].nodeType==Node.TEXT_NODE&&(n[r].textContent=n[r].textContent.replace(/\u200B/g,""));e(this).replaceWith(this.innerHTML)})}function p(n,r,i){var a,s=t.node.deepestParent(n,[],!i);if(s&&"BLOCKQUOTE"==s.tagName)return o(n,s)?(a=t.html.defaultTag(),a?e(s).after("<"+a+">"+e.FE.MARKERS+"<br></"+a+">"):e(s).after(e.FE.MARKERS+"<br>"),e(n).remove(),!1):(m(n,r,i),!1);if(null==s)a=t.html.defaultTag(),a&&t.node.isElement(n.parentNode)?e(n).replaceWith("<"+a+">"+e.FE.MARKERS+"<br></"+a+">"):e(n).replaceWith("<br/>"+e.FE.MARKERS+"<br/>");else{var l=n,u="";(!t.node.isBlock(s)||r)&&(u="<br/>");var c="",d="";a=t.html.defaultTag();var f="",h="";a&&t.node.isBlock(s)&&(f="<"+a+">",h="</"+a+">",s.tagName==a.toUpperCase()&&(f=t.node.openTagString(e(s).clone().removeAttr("id").get(0))));do if(l=l.parentNode,!r||l!=s||r&&!t.node.isBlock(s))if(c+=t.node.closeTagString(l),l==s&&t.node.isBlock(s))d=f+d;else{var p="A"==l.tagName&&o(n,l)?"fr-to-remove":"";d=t.node.openTagString(e(l).clone().addClass(p).get(0))+d}while(l!=s);u=c+u+d+(n.parentNode==s&&t.node.isBlock(s)?"":e.FE.INVISIBLE_SPACE)+e.FE.MARKERS,t.node.isBlock(s)&&!e(s).find("*:last").is("br")&&e(s).append("<br/>"),e(n).after('<span id="fr-break"></span>'),e(n).remove(),s.nextSibling&&!t.node.isBlock(s.nextSibling)||t.node.isBlock(s)||e(s).after("<br>");var g;g=!r&&t.node.isBlock(s)?t.node.openTagString(s)+e(s).html()+h:t.node.openTagString(s)+e(s).html()+t.node.closeTagString(s),g=g.replace(/<span id="fr-break"><\/span>/g,u),e(s).replaceWith(g)}}function g(n,r,a){var s,l=t.node.deepestParent(n,[],!a);if(l&&"BLOCKQUOTE"==l.tagName){if(i(n,l))return s=t.html.defaultTag(),s?e(l).before("<"+s+">"+e.FE.MARKERS+"<br></"+s+">"):e(l).before(e.FE.MARKERS+"<br>"),e(n).remove(),!1;o(n,l)?p(n,r,!0):m(n,r,!0)}if(null==l)s=t.html.defaultTag(),s&&t.node.isElement(n.parentNode)?e(n).replaceWith("<"+s+">"+e.FE.MARKERS+"<br></"+s+">"):e(n).replaceWith("<br>"+e.FE.MARKERS);else{if(t.node.isBlock(l))if(r)e(n).remove(),e(l).prepend("<br>"+e.FE.MARKERS);else{if(t.node.isEmpty(l,!0))return p(n,r,a);e(l).before(t.node.openTagString(e(l).clone().removeAttr("id").get(0))+"<br>"+t.node.closeTagString(l))}else e(l).before("<br>");e(n).remove()}}function m(n,r,a){var s=t.node.deepestParent(n,[],!a);if(null==s)t.html.defaultTag()&&n.parentNode===t.$el.get(0)?e(n).replaceWith("<"+t.html.defaultTag()+">"+e.FE.MARKERS+"<br></"+t.html.defaultTag()+">"):((!n.nextSibling||t.node.isBlock(n.nextSibling))&&e(n).after("<br>"),e(n).replaceWith("<br>"+e.FE.MARKERS));else{var l=n,u="";"PRE"==s.tagName&&(r=!0),(!t.node.isBlock(s)||r)&&(u="<br>");var c="",d="";do{var f=l;if(l=l.parentNode,"BLOCKQUOTE"==s.tagName&&t.node.isEmpty(f)&&!e(f).hasClass("fr-marker")&&e(f).find(n).length>0&&e(f).after(n),("BLOCKQUOTE"!=s.tagName||!o(n,l)&&!i(n,l))&&(!r||l!=s||r&&!t.node.isBlock(s))){c+=t.node.closeTagString(l);var h="A"==l.tagName&&o(n,l)?"fr-to-remove":"";d=t.node.openTagString(e(l).clone().addClass(h).removeAttr("id").get(0))+d}}while(l!=s);var p=s==n.parentNode&&t.node.isBlock(s)||n.nextSibling;if("BLOCKQUOTE"==s.tagName){n.previousSibling&&t.node.isBlock(n.previousSibling)&&n.nextSibling&&"BR"==n.nextSibling.tagName&&(e(n.nextSibling).after(n),n.nextSibling&&"BR"==n.nextSibling.tagName&&e(n.nextSibling).remove());var g=t.html.defaultTag();u=c+u+(g?"<"+g+">":"")+e.FE.MARKERS+"<br>"+(g?"</"+g+">":"")+d}else u=c+u+d+(p?"":e.FE.INVISIBLE_SPACE)+e.FE.MARKERS;e(n).replaceWith('<span id="fr-break"></span>');var m=t.node.openTagString(s)+e(s).html()+t.node.closeTagString(s);m=m.replace(/<span id="fr-break"><\/span>/g,u),e(s).replaceWith(m)}}function v(i){var o=t.markers.insert();if(!o)return!0;t.$el.get(0).normalize();var s=!1;e(o).parentsUntil(t.$el,"BLOCKQUOTE").length>0&&(i=!1,s=!0),e(o).parentsUntil(t.$el,"TD, TH").length&&(s=!1),n(o)?!a(o)||i||s?p(o,i,s):t.cursorLists._endEnter(o):r(o)?!a(o)||i||s?g(o,i,s):t.cursorLists._startEnter(o):!a(o)||i||s?m(o,i,s):t.cursorLists._middleEnter(o),h(),t.html.fillEmptyBlocks(),t.html.cleanEmptyTags(),t.clean.lists(),t.spaces.normalize(),t.selection.restore()}return{enter:v,backspace:u,del:f,isAtEnd:o}},e.FE.MODULES.data=function(e){function t(e){return e}function n(e){if(!e)return e;for(var n="",o=t("charCodeAt"),a=t("fromCharCode"),s=d.indexOf(e[0]),l=1;l<e.length-2;l++){for(var u=r(++s),c=e[o](l),f="";/[0-9-]/.test(e[l+1]);)f+=e[++l];f=parseInt(f,10)||0,c=i(c,u,f),c^=s-1&31,n+=String[a](c)}return n}function r(e){for(var t=e.toString(),n=0,r=0;r<t.length;r++)n+=parseInt(t.charAt(r),10);return n>10?n%9+1:n}function i(e,t,n){for(var r=Math.abs(n);r-- >0;)e-=t;return 0>n&&(e+=123),e}function o(e){return!(!e||"none"!=e.css("display"))&&(e.remove(),!0)}function a(){return o(u)||o(c)}function s(){return!!e.$box&&(e.$box.append(h(t(h("kTDD4spmKD1klaMB1C7A5RA1G3RA10YA5qhrjuvnmE1D3FD2bcG-7noHE6B2JB4C3xXA8WF6F-10RG2C3G3B-21zZE3C3H3xCA16NC4DC1f1hOF1MB3B-21whzQH5UA2WB10kc1C2F4D3XC2YD4D1C4F3GF2eJ2lfcD-13HF1IE1TC11TC7WE4TA4d1A2YA6XA4d1A3yCG2qmB-13GF4A1B1KH1HD2fzfbeQC3TD9VE4wd1H2A20A2B-22ujB3nBG2A13jBC10D3C2HD5D1H1KB11uD-16uWF2D4A3F-7C9D-17c1E4D4B3d1D2CA6B2B-13qlwzJF2NC2C-13E-11ND1A3xqUA8UE6bsrrF-7C-22ia1D2CF2H1E2akCD2OE1HH1dlKA6PA5jcyfzB-22cXB4f1C3qvdiC4gjGG2H2gklC3D-16wJC1UG4dgaWE2D5G4g1I2H3B7vkqrxH1H2EC9C3E4gdgzKF1OA1A5PF5C4WWC3VA6XA4e1E3YA2YA5HE4oGH4F2H2IB10D3D2NC5G1B1qWA9PD6PG5fQA13A10XA4C4A3e1H2BA17kC-22cmOB1lmoA2fyhcptwWA3RA8A-13xB-11nf1I3f1B7GB3aD3pavFC10D5gLF2OG1LSB2D9E7fQC1F4F3wpSB5XD3NkklhhaE-11naKA9BnIA6D1F5bQA3A10c1QC6Kjkvitc2B6BE3AF3E2DA6A4JD2IC1jgA-64MB11D6C4==")))),u=e.$box.find("> div:last"),c=u.find("> a"),void("rtl"==e.opts.direction&&u.css("left","auto").css("right",0)))}function l(){var n=e.opts.key||[""];"string"==typeof n&&(n=[n]),e.ul=!0;for(var r=0;r<n.length;r++){var i=h(n[r])||"";if(!(i!==h(t(h("mcVRDoB1BGILD7YFe1BTXBA7B6==")))&&i.indexOf(f,i.length-f.length)<0&&[h("9qqG-7amjlwq=="),h("KA3B3C2A6D1D5H5H1A3=="),h("QzbzvxyB2yA-9m==")].indexOf(f)<0)){e.ul=!1;break}}e.ul===!0&&s(),e.events.on("contentChanged",function(){e.ul===!0&&a()&&s()}),e.events.on("destroy",function(){u&&u.length&&u.remove()},!0)}var u,c,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",f=function(){for(var e=0,t=document.domain,n=t.split("."),r="_gd"+(new Date).getTime();e<n.length-1&&-1==document.cookie.indexOf(r+"="+r);)t=n.slice(-1-++e).join("."),document.cookie=r+"="+r+";domain="+t+";";return document.cookie=r+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;domain="+t+";",t}(),h=t(n);return{_init:l}},e.FE.ENTER_P=0,e.FE.ENTER_DIV=1,e.FE.ENTER_BR=2,e.FE.KEYCODE={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,FF_SEMICOLON:59,FF_EQUALS:61,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,TILDE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221},e.extend(e.FE.DEFAULTS,{enter:e.FE.ENTER_P,multiLine:!0,tabSpaces:0}),e.FE.MODULES.keys=function(t){function n(){if(t.helpers.isIOS()){var n=navigator.userAgent.match("CriOS"),r=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent);if(!n&&!r){var i=e(t.o_win).scrollTop();t.events.disableBlur(),t.selection.save(),t.$el.blur(),t.selection.restore(),t.events.enableBlur(),e(t.o_win).scrollTop(i)}}}function r(e){e.preventDefault(),e.stopPropagation(),t.opts.multiLine&&(t.selection.isCollapsed()||t.selection.remove(),t.cursor.enter()),n()}function i(e){e.preventDefault(),e.stopPropagation(),t.opts.multiLine&&(t.selection.isCollapsed()||t.selection.remove(),t.cursor.enter(!0))}function o(e){t.selection.isCollapsed()?t.cursor.backspace()||(e.preventDefault(),e.stopPropagation(),S=!1):(e.preventDefault(),e.stopPropagation(),t.selection.remove(),t.html.fillEmptyBlocks(),S=!1),t.placeholder.refresh()}function a(e){e.preventDefault(),e.stopPropagation(),""===t.selection.text()?t.cursor.del():t.selection.remove(),t.placeholder.refresh()}function s(n){if(t.browser.mozilla){n.preventDefault(),n.stopPropagation(),t.selection.isCollapsed()||t.selection.remove(),t.markers.insert();var r=t.$el.find(".fr-marker").get(0),i=r.previousSibling,o=r.nextSibling;!o&&r.parentNode&&"A"==r.parentNode.tagName?(e(r).parent().after("&nbsp;"+e.FE.MARKERS),e(r).remove()):(i&&i.nodeType==Node.TEXT_NODE&&1==i.textContent.length&&160==i.textContent.charCodeAt(0)?e(i).after(" "):e(r).before("&nbsp;"),e(r).replaceWith(e.FE.MARKERS)),t.selection.restore()}}function l(){if(t.browser.mozilla&&t.selection.isCollapsed()&&!T){var e=t.selection.ranges(0),n=e.startContainer,r=e.startOffset;n&&n.nodeType==Node.TEXT_NODE&&r<=n.textContent.length&&r>0&&32==n.textContent.charCodeAt(r-1)&&(t.selection.save(),t.spaces.normalize(),t.selection.restore())}}function u(){t.selection.isFull()&&setTimeout(function(){var n=t.html.defaultTag();n?t.$el.html("<"+n+">"+e.FE.MARKERS+"<br/></"+n+">"):t.$el.html(e.FE.MARKERS+"<br/>"),t.selection.restore(),t.placeholder.refresh(),t.button.bulkRefresh(),t.undo.saveStep()},0)}function c(e){if(t.opts.tabSpaces>0)if(t.selection.isCollapsed()){t.undo.saveStep(),e.preventDefault(),e.stopPropagation();for(var n="",r=0;r<t.opts.tabSpaces;r++)n+="&nbsp;";t.html.insert(n),t.placeholder.refresh(),t.undo.saveStep()}else e.preventDefault(),e.stopPropagation(),e.shiftKey?t.commands.outdent():t.commands.indent()}function d(e){T=!1}function f(){return T}function h(n){t.events.disableBlur(),S=!0;var l=n.which;if(16===l)return!0;if(229===l)return T=!0,!0;T=!1;var u=y(l)&&!v(n),d=l==e.FE.KEYCODE.BACKSPACE||l==e.FE.KEYCODE.DELETE;if((t.selection.isFull()&&!t.opts.keepFormatOnDelete&&!t.placeholder.isVisible()||d&&t.placeholder.isVisible()&&t.opts.keepFormatOnDelete)&&(u||d)){var f=t.html.defaultTag();if(f?t.$el.html("<"+f+">"+e.FE.MARKERS+"<br/></"+f+">"):t.$el.html(e.FE.MARKERS+"<br/>"),t.selection.restore(),!y(l))return n.preventDefault(),!0}l==e.FE.KEYCODE.ENTER?n.shiftKey?i(n):r(n):l!=e.FE.KEYCODE.BACKSPACE||v(n)||n.altKey||t.placeholder.isVisible()?l!=e.FE.KEYCODE.DELETE||v(n)||n.altKey||t.placeholder.isVisible()?l==e.FE.KEYCODE.SPACE?s(n):l==e.FE.KEYCODE.TAB?c(n):v(n)||!y(n.which)||t.selection.isCollapsed()||n.ctrlKey||t.selection.remove():a(n):o(n),t.events.enableBlur()}function p(n){for(var r=0;r<n.length;r++)n[r].nodeType==Node.TEXT_NODE&&/\u200B/gi.test(n[r].textContent)?(n[r].textContent=n[r].textContent.replace(/\u200B/gi,""),0===n[r].textContent.length&&e(n[r]).remove()):n[r].nodeType==Node.ELEMENT_NODE&&"IFRAME"!=n[r].nodeType&&p(t.node.contents(n[r]))}function g(){if(!t.$wp)return!0;var n;t.opts.height||t.opts.heightMax?(n=t.position.getBoundingRect().top,t.helpers.isIOS()&&(n-=e(t.o_win).scrollTop()),t.opts.iframe&&(n+=t.$iframe.offset().top),n>t.$wp.offset().top-e(t.o_win).scrollTop()+t.$wp.height()-20&&t.$wp.scrollTop(n+t.$wp.scrollTop()-(t.$wp.height()+t.$wp.offset().top)+e(t.o_win).scrollTop()+20)):(n=t.position.getBoundingRect().top,t.opts.toolbarBottom&&(n+=t.opts.toolbarStickyOffset),t.helpers.isIOS()&&(n-=e(t.o_win).scrollTop()),t.opts.iframe&&(n+=t.$iframe.offset().top),n+=t.opts.toolbarStickyOffset,n>t.o_win.innerHeight-20&&e(t.o_win).scrollTop(n+e(t.o_win).scrollTop()-t.o_win.innerHeight+20),n=t.position.getBoundingRect().top,t.opts.toolbarBottom||(n-=t.opts.toolbarStickyOffset),t.helpers.isIOS()&&(n-=e(t.o_win).scrollTop()),t.opts.iframe&&(n+=t.$iframe.offset().top),n<t.$tb.height()+20&&e(t.o_win).scrollTop(n+e(t.o_win).scrollTop()-t.$tb.height()-20))}function m(n){if(T)return!1;if(!t.selection.isCollapsed())return!0;if(n&&(n.which===e.FE.KEYCODE.META||n.which==e.FE.KEYCODE.CTRL))return!0;n&&(n.which==e.FE.KEYCODE.ENTER||n.which==e.FE.KEYCODE.BACKSPACE||n.which>=37&&n.which<=40&&!t.browser.msie)&&(n.which==e.FE.KEYCODE.BACKSPACE&&S||g());var r=t.$el.find(t.html.blockTagsQuery());r.push(t.$el.get(0));for(var i=[],o=0;o<r.length;o++)if(["TD","TH"].indexOf(r[o].tagName)<0)for(var a=r[o].children,s=0;s<a.length;s++)"BR"==a[s].tagName&&i.push(a[s]);for(var r=[],o=0;o<i.length;o++){var l=i[o],u=l.previousSibling,c=l.nextSibling,d=t.node.blockParent(l)||t.$el.get(0);u&&d&&"BR"!=u.tagName&&!t.node.isBlock(u)&&!c&&e(d).text().replace(/\u200B/g,"").length>0&&e(u).text().length>0&&(t.$el.is(d)&&!c&&t.opts.enter==e.FE.ENTER_BR&&t.browser.msie||(t.selection.save(),e(l).remove(),t.selection.restore()))}i=[];var f=function(t){if(!t)return!1;var n=e(t).html();return n=n.replace(/<span[^>]*? class\s*=\s*["']?fr-marker["']?[^>]+>\u200b<\/span>/gi,""),!!(n&&/\u200B/.test(n)&&n.replace(/\u200B/gi,"").length>0)},h=function(e){var n=/[\u3041-\u3096\u30A0-\u30FF\u4E00-\u9FFF\u3130-\u318F\uAC00-\uD7AF]/gi;return!t.helpers.isIOS()||0===((e.textContent||"").match(n)||[]).length},m=t.selection.element();f(m)&&0===e(m).find("li").length&&!e(m).hasClass("fr-marker")&&"IFRAME"!=m.tagName&&h(m)&&(t.selection.save(),p(t.node.contents(m)),t.selection.restore()),!t.browser.mozilla&&t.html.doNormalize()&&(t.selection.save(),t.spaces.normalize(),t.selection.restore())}function v(e){if(-1!=navigator.userAgent.indexOf("Mac OS X")){if(e.metaKey&&!e.altKey)return!0}else if(e.ctrlKey&&!e.altKey)return!0;return!1}function y(n){if(n>=e.FE.KEYCODE.ZERO&&n<=e.FE.KEYCODE.NINE)return!0;if(n>=e.FE.KEYCODE.NUM_ZERO&&n<=e.FE.KEYCODE.NUM_MULTIPLY)return!0;if(n>=e.FE.KEYCODE.A&&n<=e.FE.KEYCODE.Z)return!0;if(t.browser.webkit&&0===n)return!0;switch(n){case e.FE.KEYCODE.SPACE:case e.FE.KEYCODE.QUESTION_MARK:case e.FE.KEYCODE.NUM_PLUS:case e.FE.KEYCODE.NUM_MINUS:case e.FE.KEYCODE.NUM_PERIOD:case e.FE.KEYCODE.NUM_DIVISION:case e.FE.KEYCODE.SEMICOLON:case e.FE.KEYCODE.FF_SEMICOLON:case e.FE.KEYCODE.DASH:case e.FE.KEYCODE.EQUALS:case e.FE.KEYCODE.FF_EQUALS:case e.FE.KEYCODE.COMMA:case e.FE.KEYCODE.PERIOD:case e.FE.KEYCODE.SLASH:case e.FE.KEYCODE.APOSTROPHE:case e.FE.KEYCODE.SINGLE_QUOTE:case e.FE.KEYCODE.OPEN_SQUARE_BRACKET:case e.FE.KEYCODE.BACKSLASH:case e.FE.KEYCODE.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}function b(n){var r=n.which;return!!(v(n)||r>=37&&40>=r||!y(r)&&r!=e.FE.KEYCODE.DELETE&&r!=e.FE.KEYCODE.BACKSPACE&&r!=e.FE.KEYCODE.ENTER)||(x||(C=t.snapshot.get()),clearTimeout(x),void(x=setTimeout(function(){x=null,t.undo.saveStep()},Math.max(250,t.opts.typingTimer))))}function $(e){return!!v(e)||void(C&&x&&(t.undo.saveStep(C),C=null))}function E(){x&&(clearTimeout(x),t.undo.saveStep(),C=null)}function w(){if(t.events.on("keydown",b),t.events.on("input",l),t.events.on("keyup",$),t.events.on("keypress",d),t.events.on("keydown",h),t.events.on("keyup",m),t.events.on("html.inserted",m),t.events.on("cut",u),t.$el.get(0).msGetInputContext)try{t.$el.get(0).msGetInputContext().addEventListener("MSCandidateWindowShow",function(){T=!0}),t.$el.get(0).msGetInputContext().addEventListener("MSCandidateWindowHide",function(){T=!1,m()})}catch(e){}}var S,x,C,T=!1;return{_init:w,ctrlKey:v,isCharacter:y,forceUndo:E,isIME:f}},e.extend(e.FE.DEFAULTS,{pastePlain:!1,pasteDeniedTags:["colgroup","col"],pasteDeniedAttrs:["class","id","style"],pasteAllowLocalImages:!1}),e.FE.MODULES.paste=function(t){function n(n){e.FE.copied_html=t.html.getSelected(),e.FE.copied_text=e("<div>").html(e.FE.copied_html).text(),"cut"==n.type&&(t.undo.saveStep(),setTimeout(function(){t.html.wrap(),t.events.focus(),t.undo.saveStep()},0))}function r(e){if(p)return!1;if(e.originalEvent&&(e=e.originalEvent),t.events.trigger("paste.before",[e])===!1)return!1;if(d=t.$win.scrollTop(),e&&e.clipboardData&&e.clipboardData.getData){var n="",r=e.clipboardData.types;if(t.helpers.isArray(r))for(var o=0;o<r.length;o++)n+=r[o]+";";else n=r;if(f="",/text\/html/.test(n)?f=e.clipboardData.getData("text/html"):/text\/rtf/.test(n)&&t.browser.safari?f=e.clipboardData.getData("text/rtf"):/text\/plain/.test(n)&&!this.browser.mozilla&&(f=t.html.escapeEntities(e.clipboardData.getData("text/plain")).replace(/\n/g,"<br>")),""!==f)return s(),e.preventDefault&&(e.stopPropagation(),e.preventDefault()),!1;f=null}i()}function i(){t.selection.save(),t.events.disableBlur(),f=null,h?h.html(""):(h=e('<div contenteditable="true" style="position: fixed; top: 0; left: -9999px; height: 100%; width: 0; word-break: break-all; overflow:hidden; z-index: 9999; line-height: 140%;" tabindex="-1"></div>'),t.$box.after(h),t.events.on("destroy",function(){h.remove()})),h.focus(),t.win.setTimeout(s,1)}function o(n){n=n.replace(/<p(.*?)class="?'?MsoListParagraph"?'? ([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<ul><li>$3</li></ul>"),n=n.replace(/<p(.*?)class="?'?NumberedText"?'? ([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<ol><li>$3</li></ol>"),n=n.replace(/<p(.*?)class="?'?MsoListParagraphCxSpFirst"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<ul><li$3>$5</li>"),n=n.replace(/<p(.*?)class="?'?NumberedTextCxSpFirst"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<ol><li$3>$5</li>"),n=n.replace(/<p(.*?)class="?'?MsoListParagraphCxSpMiddle"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<li$3>$5</li>"),n=n.replace(/<p(.*?)class="?'?NumberedTextCxSpMiddle"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<li$3>$5</li>"),n=n.replace(/<p(.*?)class="?'?MsoListBullet"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<li$3>$5</li>"),n=n.replace(/<p(.*?)class="?'?MsoListParagraphCxSpLast"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<li$3>$5</li></ul>"),n=n.replace(/<p(.*?)class="?'?NumberedTextCxSpLast"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<li$3>$5</li></ol>"),
n=n.replace(/<span([^<]*?)style="?'?mso-list:Ignore"?'?([\s\S]*?)>([\s\S]*?)<span/gi,"<span><span"),n=n.replace(/<!--\[if \!supportLists\]-->([\s\S]*?)<!--\[endif\]-->/gi,""),n=n.replace(/<!\[if \!supportLists\]>([\s\S]*?)<!\[endif\]>/gi,""),n=n.replace(/(\n|\r| class=(")?Mso[a-zA-Z0-9]+(")?)/gi," "),n=n.replace(/<!--[\s\S]*?-->/gi,""),n=n.replace(/<(\/)*(meta|link|span|\\?xml:|st1:|o:|font)(.*?)>/gi,"");for(var r=["style","script","applet","embed","noframes","noscript"],i=0;i<r.length;i++){var o=new RegExp("<"+r[i]+".*?"+r[i]+"(.*?)>","gi");n=n.replace(o,"")}n=n.replace(/&nbsp;/gi," "),n=n.replace(/<td([^>]*)><\/td>/g,"<td$1><br></td>"),n=n.replace(/<th([^>]*)><\/th>/g,"<th$1><br></th>");var a;do a=n,n=n.replace(/<[^\/>][^>]*><\/[^>]+>/gi,"");while(n!=a);n=n.replace(/<lilevel([^1])([^>]*)>/gi,'<li data-indent="true"$2>'),n=n.replace(/<lilevel1([^>]*)>/gi,"<li$1>"),n=t.clean.html(n,t.opts.pasteDeniedTags,t.opts.pasteDeniedAttrs),n=n.replace(/<a>(.[^<]+)<\/a>/gi,"$1"),n=n.replace(/<br> */g,"<br>");var s=e("<div>").html(n);return s.find("li[data-indent]").each(function(t,n){var r=e(n);if(r.prev("li").length>0){var i=r.prev("li").find("> ul, > ol");0===i.length&&(i=e("ul"),r.prev("li").append(i)),i.append(n)}else r.removeAttr("data-indent")}),t.html.cleanBlankSpaces(s.get(0)),n=s.html()}function a(n){var r=e("<div>").html(n);r.find("p, div, h1, h2, h3, h4, h5, h6, pre, blockquote").each(function(n,r){e(r).replaceWith("<"+(t.html.defaultTag()||"DIV")+">"+e(r).html()+"</"+(t.html.defaultTag()||"DIV")+">")}),e(r.find("*").not("p, div, h1, h2, h3, h4, h5, h6, pre, blockquote, ul, ol, li, table, tbody, thead, tr, td, br, img").get().reverse()).each(function(){e(this).replaceWith(e(this).html())});var i=function(n){for(var r=t.node.contents(n),o=0;o<r.length;o++)3!=r[o].nodeType&&1!=r[o].nodeType?e(r[o]).remove():i(r[o])};return i(r.get(0)),r.html()}function s(){t.keys.forceUndo();var n=t.snapshot.get();null===f&&(f=h.html(),t.selection.restore(),t.events.enableBlur());var r=t.events.chainTrigger("paste.beforeCleanup",f);"string"==typeof r&&(f=r),f.indexOf("<body")>=0&&(f=f.replace(/[.\s\S\w\W<>]*<body[^>]*>([.\s\S\w\W<>]*)<\/body>[.\s\S\w\W<>]*/g,"$1"));var i=!1;if(f.indexOf('id="docs-internal-guid')>=0&&(f=f.replace(/^.* id="docs-internal-guid[^>]*>(.*)<\/b>.*$/,"$1"),i=!0),f.match(/(class=\"?Mso|class=\'?Mso|style=\"[^\"]*\bmso\-|style=\'[^\']*\bmso\-|w:WordDocument)/gi)?(f=f.replace(/^\n*/g,"").replace(/^ /g,""),0===f.indexOf("<colgroup>")&&(f="<table>"+f+"</table>"),f=o(f),f=u(f)):(t.opts.htmlAllowComments=!1,f=t.clean.html(f,t.opts.pasteDeniedTags,t.opts.pasteDeniedAttrs),t.opts.htmlAllowComments=!0,f=u(f),f=f.replace(/\r|\n|\t/g,""),e.FE.copied_text&&e("<div>").html(f).text().replace(/(\u00A0)/gi," ").replace(/\r|\n/gi,"")==e.FE.copied_text.replace(/(\u00A0)/gi," ").replace(/\r|\n/gi,"")&&(f=e.FE.copied_html),f=f.replace(/^ */g,"").replace(/ *$/g,"")),t.opts.pastePlain&&(f=a(f)),r=t.events.chainTrigger("paste.afterCleanup",f),"string"==typeof r&&(f=r),""!==f){var s=e("<div>").html(f);t.spaces.normalize(s.get(0)),s.find("span").each(function(){0==this.attributes.length&&e(this).replaceWith(this.innerHTML)}),i||s.find("br").each(function(){this.previousSibling&&t.node.isBlock(this.previousSibling)&&e(this).remove()}),f=s.html(),t.html.insert(f,!0)}l(),t.undo.saveStep(n),t.undo.saveStep()}function l(){t.events.trigger("paste.after")}function u(n){for(var r,i=e("<div>").html(n),o=i.find("*:empty:not(br, img, td, th)");o.length;){for(r=0;r<o.length;r++)e(o[r]).remove();o=i.find("*:empty:not(br, img, td, th)")}for(var a=i.find("> div:not([style]), td > div, th > div, li > div");a.length&&r++<100;){var s=e(a[a.length-1]);t.html.defaultTag()&&"div"!=t.html.defaultTag()?s.replaceWith("<"+t.html.defaultTag()+">"+s.html()+"</"+t.html.defaultTag()+">"):s.find("*:last").is("br")?s.replaceWith(s.html()):s.replaceWith(s.html()+"<br>"),a=i.find("> div:not([style]), td > div, th > div, li > div")}for(a=i.find("div:not([style])");a.length;){for(r=0;r<a.length;r++){var l=e(a[r]),u=l.html().replace(/\u0009/gi,"").trim();l.replaceWith(u)}a=i.find("div:not([style])")}return i.html()}function c(){t.events.on("copy",n),t.events.on("cut",n),t.events.on("paste",r),t.browser.msie&&t.browser.version<11&&(t.events.on("mouseup",function(e){2==e.button&&(setTimeout(function(){p=!1},50),p=!0)},!0),t.events.on("beforepaste",r))}var d,f,h,p=!1;return{_init:c}},e.extend(e.FE.DEFAULTS,{shortcutsEnabled:["show","bold","italic","underline","strikeThrough","indent","outdent","undo","redo"],shortcutsHint:!0}),e.FE.SHORTCUTS_MAP={},e.FE.RegisterShortcut=function(t,n,r,i,o,a){e.FE.SHORTCUTS_MAP[(o?"^":"")+(a?"@":"")+t]={cmd:n,val:r,letter:i,shift:o,option:a},e.FE.DEFAULTS.shortcutsEnabled.push(n)},e.FE.RegisterShortcut(e.FE.KEYCODE.E,"show",null,"E",!1,!1),e.FE.RegisterShortcut(e.FE.KEYCODE.B,"bold",null,"B",!1,!1),e.FE.RegisterShortcut(e.FE.KEYCODE.I,"italic",null,"I",!1,!1),e.FE.RegisterShortcut(e.FE.KEYCODE.U,"underline",null,"U",!1,!1),e.FE.RegisterShortcut(e.FE.KEYCODE.S,"strikeThrough",null,"S",!1,!1),e.FE.RegisterShortcut(e.FE.KEYCODE.CLOSE_SQUARE_BRACKET,"indent",null,"]",!1,!1),e.FE.RegisterShortcut(e.FE.KEYCODE.OPEN_SQUARE_BRACKET,"outdent",null,"[",!1,!1),e.FE.RegisterShortcut(e.FE.KEYCODE.Z,"undo",null,"Z",!1,!1),e.FE.RegisterShortcut(e.FE.KEYCODE.Z,"redo",null,"Z",!0,!1),e.FE.MODULES.shortcuts=function(t){function n(n){if(!t.opts.shortcutsHint)return null;if(!o){o={};for(var r in e.FE.SHORTCUTS_MAP)e.FE.SHORTCUTS_MAP.hasOwnProperty(r)&&t.opts.shortcutsEnabled.indexOf(e.FE.SHORTCUTS_MAP[r].cmd)>=0&&(o[e.FE.SHORTCUTS_MAP[r].cmd+"."+(e.FE.SHORTCUTS_MAP[r].val||"")]={shift:e.FE.SHORTCUTS_MAP[r].shift,option:e.FE.SHORTCUTS_MAP[r].option,letter:e.FE.SHORTCUTS_MAP[r].letter})}var i=o[n];return i?(t.helpers.isMac()?String.fromCharCode(8984):"Ctrl+")+(i.shift?t.helpers.isMac()?String.fromCharCode(8679):"Shift+":"")+(i.option?t.helpers.isMac()?String.fromCharCode(8997):"Alt+":"")+i.letter:null}function r(n){if(!t.core.hasFocus())return!0;var r=n.which,i=-1!=navigator.userAgent.indexOf("Mac OS X")?n.metaKey:n.ctrlKey,o=(n.shiftKey?"^":"")+(n.altKey?"@":"")+r;if(i&&e.FE.SHORTCUTS_MAP[o]){var a=e.FE.SHORTCUTS_MAP[o].cmd;if(a&&t.opts.shortcutsEnabled.indexOf(a)>=0){var s,l=e.FE.SHORTCUTS_MAP[o].val;if(a&&!l?s=t.$tb.find('.fr-command[data-cmd="'+a+'"]'):a&&l&&(s=t.$tb.find('.fr-command[data-cmd="'+a+'"][data-param1="'+l+'"]')),s.length)return n.preventDefault(),n.stopPropagation(),s.parents(".fr-toolbar").data("instance",t),"keydown"==n.type&&t.button.exec(s),!1;if(a&&t.commands[a])return n.preventDefault(),n.stopPropagation(),"keydown"==n.type&&t.commands[a](),!1}}}function i(){t.events.on("keydown",r,!0),t.events.on("keyup",r,!0)}var o=null;return{_init:i,get:n}},e.FE.MODULES.snapshot=function(e){function t(e){for(var t=e.parentNode.childNodes,n=0,r=null,i=0;i<t.length;i++){if(r){var o=t[i].nodeType===Node.TEXT_NODE&&""===t[i].textContent,a=r.nodeType===Node.TEXT_NODE&&t[i].nodeType===Node.TEXT_NODE;o||a||n++}if(t[i]==e)return n;r=t[i]}}function n(n){var r=[];if(!n.parentNode)return[];for(;!e.node.isElement(n);)r.push(t(n)),n=n.parentNode;return r.reverse()}function r(e,t){for(;e&&e.nodeType===Node.TEXT_NODE;){var n=e.previousSibling;n&&n.nodeType==Node.TEXT_NODE&&(t+=n.textContent.length),e=n}return t}function i(e){return{scLoc:n(e.startContainer),scOffset:r(e.startContainer,e.startOffset),ecLoc:n(e.endContainer),ecOffset:r(e.endContainer,e.endOffset)}}function o(){var t={};if(e.events.trigger("snapshot.before"),t.html=e.$wp?e.$el.html():e.$oel.get(0).outerHTML,t.ranges=[],e.$wp&&e.selection.inEditor()&&e.core.hasFocus())for(var n=e.selection.ranges(),r=0;r<n.length;r++)t.ranges.push(i(n[r]));return e.events.trigger("snapshot.after"),t}function a(t){for(var n=e.$el.get(0),r=0;r<t.length;r++)n=n.childNodes[t[r]];return n}function s(t,n){try{var r=a(n.scLoc),i=n.scOffset,o=a(n.ecLoc),s=n.ecOffset,l=e.doc.createRange();l.setStart(r,i),l.setEnd(o,s),t.addRange(l)}catch(u){}}function l(t){e.$el.html()!=t.html&&e.$el.html(t.html);var n=e.selection.get();e.selection.clear(),e.events.focus(!0);for(var r=0;r<t.ranges.length;r++)s(n,t.ranges[r])}function u(t,n){return t.html==n.html&&(!e.core.hasFocus()||JSON.stringify(t.ranges)==JSON.stringify(n.ranges))}return{get:o,restore:l,equal:u}},e.FE.MODULES.undo=function(e){function t(t){var n=t.which,r=e.keys.ctrlKey(t);r&&(90==n&&t.shiftKey&&t.preventDefault(),90==n&&t.preventDefault())}function n(){return!(0===e.undo_stack.length||e.undo_index<=1)}function r(){return e.undo_index!=e.undo_stack.length}function i(t){return!(!e.undo_stack||e.undoing||e.$el.get(0).querySelectorAll(".fr-marker").length)&&void("undefined"==typeof t?(t=e.snapshot.get(),e.undo_stack[e.undo_index-1]&&e.snapshot.equal(e.undo_stack[e.undo_index-1],t)||(o(),e.undo_stack.push(t),e.undo_index++,t.html!=d&&(e.events.trigger("contentChanged"),d=t.html))):(o(),e.undo_index>0?e.undo_stack[e.undo_index-1]=t:(e.undo_stack.push(t),e.undo_index++)))}function o(){if(!e.undo_stack||e.undoing)return!1;for(;e.undo_stack.length>e.undo_index;)e.undo_stack.pop()}function a(){if(e.undo_index>1){e.undoing=!0;var t=e.undo_stack[--e.undo_index-1];clearTimeout(e._content_changed_timer),e.snapshot.restore(t),d=t.html,e.popups.hideAll(),e.toolbar.enable(),e.events.trigger("contentChanged"),e.events.trigger("commands.undo"),e.undoing=!1}}function s(){if(e.undo_index<e.undo_stack.length){e.undoing=!0;var t=e.undo_stack[e.undo_index++];clearTimeout(e._content_changed_timer),e.snapshot.restore(t),d=t.html,e.popups.hideAll(),e.toolbar.enable(),e.events.trigger("contentChanged"),e.events.trigger("commands.redo"),e.undoing=!1}}function l(){e.undo_index=0,e.undo_stack=[]}function u(){e.undo_stack=[]}function c(){l(),e.events.on("initialized",function(){d=e.html.get(!1,!0)}),e.events.on("blur",function(){e.undo.saveStep()}),e.events.on("keydown",t),e.events.on("destroy",u)}var d=null;return{_init:c,run:a,redo:s,canDo:n,canRedo:r,dropRedo:o,reset:l,saveStep:i}},e.FE.ICON_DEFAULT_TEMPLATE="font_awesome",e.FE.ICON_TEMPLATES={font_awesome:'<i class="fa fa-[NAME]"></i>',text:'<span style="text-align: center;">[NAME]</span>',image:"<img src=[SRC] alt=[ALT] />"},e.FE.ICONS={bold:{NAME:"bold"},italic:{NAME:"italic"},underline:{NAME:"underline"},strikeThrough:{NAME:"strikethrough"},subscript:{NAME:"subscript"},superscript:{NAME:"superscript"},color:{NAME:"tint"},outdent:{NAME:"outdent"},indent:{NAME:"indent"},undo:{NAME:"rotate-left"},redo:{NAME:"rotate-right"},insertHR:{NAME:"minus"},clearFormatting:{NAME:"eraser"},selectAll:{NAME:"mouse-pointer"}},e.FE.DefineIconTemplate=function(t,n){e.FE.ICON_TEMPLATES[t]=n},e.FE.DefineIcon=function(t,n){e.FE.ICONS[t]=n},e.FE.MODULES.icon=function(t){function n(t){var n=null,r=e.FE.ICONS[t];if("undefined"!=typeof r){var i=r.template||e.FE.ICON_DEFAULT_TEMPLATE;i&&(i=e.FE.ICON_TEMPLATES[i])&&(n=i.replace(/\[([a-zA-Z]*)\]/g,function(e,n){return"NAME"==n?r[n]||t:r[n]}))}return n||t}return{create:n}},e.FE.MODULES.tooltip=function(t){function n(){t.$tooltip&&t.$tooltip.removeClass("fr-visible").css("left","-3000px").css("position","fixed")}function r(n,r){if(n.data("title")||n.data("title",n.attr("title")),!n.data("title"))return!1;t.$tooltip||o(),n.removeAttr("title"),t.$tooltip.text(n.data("title")),t.$tooltip.addClass("fr-visible");var i=n.offset().left+(n.outerWidth()-t.$tooltip.outerWidth())/2;0>i&&(i=0),i+t.$tooltip.outerWidth()>e(t.o_win).width()&&(i=e(t.o_win).width()-t.$tooltip.outerWidth()),"undefined"==typeof r&&(r=t.opts.toolbarBottom);var a=r?n.offset().top-t.$tooltip.height():n.offset().top+n.outerHeight();t.$tooltip.css("position",""),t.$tooltip.css("left",i),t.$tooltip.css("top",a),"static"!=e(t.o_doc).find("body").css("position")?(t.$tooltip.css("margin-left",-e(t.o_doc).find("body").offset().left),t.$tooltip.css("margin-top",-e(t.o_doc).find("body").offset().top)):(t.$tooltip.css("margin-left",""),t.$tooltip.css("margin-top",""))}function i(i,o,a){t.helpers.isMobile()||(t.events.$on(i,"mouseenter",o,function(n){e(n.currentTarget).hasClass("fr-disabled")||t.edit.isDisabled()||r(e(n.currentTarget),a)},!0),t.events.$on(i,"mouseleave "+t._mousedown+" "+t._mouseup,o,function(e){n()},!0))}function o(){t.helpers.isMobile()||(t.shared.$tooltip?t.$tooltip=t.shared.$tooltip:(t.shared.$tooltip=e('<div class="fr-tooltip"></div>'),t.$tooltip=t.shared.$tooltip,t.opts.theme&&t.$tooltip.addClass(t.opts.theme+"-theme"),e(t.o_doc).find("body").append(t.$tooltip)),t.events.on("shared.destroy",function(){t.$tooltip.html("").removeData().remove(),t.$tooltip=null},!0))}return{hide:n,to:r,bind:i}},e.FE.MODULES.button=function(t){function n(n){var r=e(n.currentTarget),i=r.next(),o=r.hasClass("fr-active"),a=(t.helpers.isMobile(),e(".fr-dropdown.fr-active").not(r)),s=r.parents(".fr-toolbar, .fr-popup").data("instance")||t;if(s.helpers.isIOS()&&0==s.$el.get(0).querySelectorAll(".fr-marker").length&&(s.selection.save(),s.selection.clear(),s.selection.restore()),!o){var l=r.data("cmd");i.find(".fr-command").removeClass("fr-active"),e.FE.COMMANDS[l]&&e.FE.COMMANDS[l].refreshOnShow&&e.FE.COMMANDS[l].refreshOnShow.apply(s,[r,i]),i.css("left",r.offset().left-r.parent().offset().left-("rtl"==t.opts.direction?i.width()-r.outerWidth():0)),t.opts.toolbarBottom?i.css("bottom",t.$tb.height()-r.position().top):i.css("top",r.position().top+r.outerHeight())}r.addClass("fr-blink").toggleClass("fr-active"),setTimeout(function(){r.removeClass("fr-blink")},300),i.offset().left+i.outerWidth()>e(t.opts.scrollableContainer).offset().left+e(t.opts.scrollableContainer).outerWidth()&&i.css("margin-left",-(i.offset().left+i.outerWidth()-e(t.opts.scrollableContainer).offset().left-e(t.opts.scrollableContainer).outerWidth())),a.removeClass("fr-active"),a.parent(".fr-toolbar:not(.fr-inline)").css("zIndex",""),0!=r.parents(".fr-popup").length||t.opts.toolbarInline||(r.hasClass("fr-active")?t.$tb.css("zIndex",(t.opts.zIndex||1)+4):t.$tb.css("zIndex",""))}function r(t){t.addClass("fr-blink"),setTimeout(function(){t.removeClass("fr-blink")},500);for(var n=t.data("cmd"),r=[];"undefined"!=typeof t.data("param"+(r.length+1));)r.push(t.data("param"+(r.length+1)));var i=e(".fr-dropdown.fr-active");i.length&&(i.removeClass("fr-active"),i.parent(".fr-toolbar:not(.fr-inline)").css("zIndex","")),t.parents(".fr-popup, .fr-toolbar").data("instance").commands.exec(n,r)}function i(t){var n=e(t.currentTarget);r(n)}function o(t){var r=e(t.currentTarget),o=r.parents(".fr-popup, .fr-toolbar").data("instance");if(0!=r.parents(".fr-popup").length||r.data("popup")||o.popups.hideAll(),o.popups.areVisible()&&!o.popups.areVisible(o)){for(var a=0;a<e.FE.INSTANCES.length;a++)e.FE.INSTANCES[a]!=o&&e.FE.INSTANCES[a].popups&&e.FE.INSTANCES[a].popups.areVisible()&&e.FE.INSTANCES[a].$el.find(".fr-marker").remove();o.popups.hideAll()}r.hasClass("fr-dropdown")?n(t):(i(t),e.FE.COMMANDS[r.data("cmd")]&&0!=e.FE.COMMANDS[r.data("cmd")].refreshAfterCallback&&o.button.bulkRefresh())}function a(e){var t=e.find(".fr-dropdown.fr-active");t.length&&(t.removeClass("fr-active"),t.parent(".fr-toolbar:not(.fr-inline)").css("zIndex",""))}function s(e){e.preventDefault(),e.stopPropagation()}function l(e){return e.stopPropagation(),!!t.helpers.isMobile()&&void 0}function u(n,r){t.events.bindClick(n,".fr-command:not(.fr-disabled)",o),t.events.$on(n,t._mousedown+" "+t._mouseup+" "+t._move,".fr-dropdown-menu",s,!0),t.events.$on(n,t._mousedown+" "+t._mouseup+" "+t._move,".fr-dropdown-menu .fr-dropdown-wrapper",l,!0);var i=n.get(0).ownerDocument,u="defaultView"in i?i.defaultView:i.parentWindow,c=function(r){(!r||r.type==t._mouseup&&r.target!=e("html").get(0)||"keydown"==r.type&&(t.keys.isCharacter(r.which)&&!t.keys.ctrlKey(r)||r.which==e.FE.KEYCODE.ESC))&&a(n)};t.events.$on(e(u),t._mouseup+" resize keydown",c,!0),t.opts.iframe&&t.events.$on(t.$win,t._mouseup,c,!0),n.hasClass("fr-popup")?e.merge(b,n.find(".fr-btn").toArray()):e.merge(y,n.find(".fr-btn").toArray()),t.tooltip.bind(n,".fr-btn, .fr-title",r)}function c(e,n){var r="";if(n.html)r+="function"==typeof n.html?n.html.call(t):n.html;else{var i=n.options;"function"==typeof i&&(i=i()),r+='<ul class="fr-dropdown-list">';for(var o in i)if(i.hasOwnProperty(o)){var a=t.shortcuts.get(e+"."+o);a=a?'<span class="fr-shortcut">'+a+"</span>":"",r+='<li><a class="fr-command" data-cmd="'+e+'" data-param1="'+o+'" title="'+i[o]+'">'+t.language.translate(i[o])+"</a></li>"}r+="</ul>"}return r}function d(e,n,r){var i=n.displaySelection;"function"==typeof i&&(i=i(t));var o;if(i){var a="function"==typeof n.defaultSelection?n.defaultSelection(t):n.defaultSelection;o='<span style="width:'+(n.displaySelectionWidth||100)+'px">'+(a||t.language.translate(n.title))+"</span>"}else o=t.icon.create(n.icon||e);var s=n.popup?' data-popup="true"':"",l=t.shortcuts.get(e+".");l=l?" ("+l+")":"";var u='<button type="button" tabindex="-1" aria-label="'+(t.language.translate(n.title)||"")+'" title="'+(t.language.translate(n.title)||"")+l+'" class="fr-command fr-btn'+("dropdown"==n.type?" fr-dropdown":"")+(n.displaySelection?" fr-selection":"")+(n.back?" fr-back":"")+(n.disabled?" fr-disabled":"")+(r?"":" fr-hidden")+'" data-cmd="'+e+'"'+s+">"+o+"</button>";if("dropdown"==n.type){var d='<div class="fr-dropdown-menu"><div class="fr-dropdown-wrapper"><div class="fr-dropdown-content">';d+=c(e,n),d+="</div></div></div>",u+=d}return u}function f(n,r){for(var i="",o=0;o<n.length;o++){var a=n[o],s=e.FE.COMMANDS[a];if(!(s&&"undefined"!=typeof s.plugin&&t.opts.pluginsEnabled.indexOf(s.plugin)<0))if(s){var l="undefined"==typeof r||r.indexOf(a)>=0;i+=d(a,s,l)}else"|"==a?i+='<div class="fr-separator fr-vs"></div>':"-"==a&&(i+='<div class="fr-separator fr-hs"></div>')}return i}function h(n){var r,i=n.parents(".fr-popup, .fr-toolbar").data("instance")||t,o=n.data("cmd");n.hasClass("fr-dropdown")?r=n.next():n.removeClass("fr-active"),e.FE.COMMANDS[o]&&e.FE.COMMANDS[o].refresh?e.FE.COMMANDS[o].refresh.apply(i,[n,r]):t.refresh[o]&&i.refresh[o](n,r)}function p(n){var r=t.$tb?t.$tb.data("instance")||t:t;return 0==t.events.trigger("buttons.refresh")||void setTimeout(function(){for(var t=r.selection.inEditor()&&r.core.hasFocus(),i=0;i<n.length;i++){var o=e(n[i]),a=o.data("cmd");0==o.parents(".fr-popup").length?t||e.FE.COMMANDS[a]&&e.FE.COMMANDS[a].forcedRefresh?r.button.refresh(o):o.hasClass("fr-dropdown")||o.removeClass("fr-active"):o.parents(".fr-popup").is(":visible")&&r.button.refresh(o)}},0)}function g(){p(y),p(b)}function m(){y=[],b=[]}function v(){t.opts.toolbarInline?t.events.on("toolbar.show",g):(t.events.on("mouseup",g),t.events.on("keyup",g),t.events.on("blur",g),t.events.on("focus",g),t.events.on("contentChanged",g)),t.events.on("shared.destroy",m)}var y=[];(t.opts.toolbarInline||t.opts.toolbarContainer)&&(t.shared.buttons||(t.shared.buttons=[]),y=t.shared.buttons);var b=[];return t.shared.popup_buttons||(t.shared.popup_buttons=[]),b=t.shared.popup_buttons,{_init:v,buildList:f,bindCommands:u,refresh:h,bulkRefresh:g,exec:r}},e.FE.POPUP_TEMPLATES={"text.edit":"[_EDIT_]"},e.FE.RegisterTemplate=function(t,n){e.FE.POPUP_TEMPLATES[t]=n},e.FE.MODULES.popups=function(t){function n(n,r){r.is(":visible")||(r=e(t.opts.scrollableContainer)),r.is(S[n].data("container"))||(S[n].data("container",r),r.append(S[n]))}function r(r,i,s,l){if(a()&&t.$el.find(".fr-marker").length>0&&(t.events.disableBlur(),t.selection.restore()),f([r]),!S[r])return!1;e(".fr-dropdown.fr-active").removeClass("fr-active").parent(".fr-toolbar").css("zIndex",""),S[r].data("instance",t),t.$tb&&t.$tb.data("instance",t);var u=S[r].outerWidth(),c=(S[r].outerHeight(),o(r));S[r].addClass("fr-active").removeClass("fr-hidden").find("input, textarea").removeAttr("disabled");var d=S[r].data("container");d.is(t.$tb)&&t.$tb.css("zIndex",(t.opts.zIndex||1)+4),t.opts.toolbarInline&&d&&t.$tb&&d.get(0)==t.$tb.get(0)&&(n(r,e(t.opts.scrollableContainer)),s=t.$tb.offset().top-t.helpers.getPX(t.$tb.css("margin-top")),i=t.$tb.offset().left+t.$tb.outerWidth()/2+(parseFloat(t.$tb.find(".fr-arrow").css("margin-left"))||0)+t.$tb.find(".fr-arrow").outerWidth()/2,t.$tb.hasClass("fr-above")&&s&&(s+=t.$tb.outerHeight()),l=0),d=S[r].data("container"),!t.opts.iframe||l||c||(i&&(i-=t.$iframe.offset().left),s&&(s-=t.$iframe.offset().top)),i&&(i-=u/2),t.opts.toolbarBottom&&d&&t.$tb&&d.get(0)==t.$tb.get(0)&&(S[r].addClass("fr-above"),s&&(s-=S[r].outerHeight())),S[r].removeClass("fr-active"),t.position.at(i,s,S[r],l||0),S[r].addClass("fr-active");var h=S[r].find("input:visible, textarea:visible").get(0);h&&(0==t.$el.find(".fr-marker").length&&t.core.hasFocus()&&t.selection.save(),t.events.disableBlur(),e(h).select().focus()),t.opts.toolbarInline&&t.toolbar.hide(),t.events.trigger("popups.show."+r),y(r)._repositionPopup(),p()}function i(e,n){t.events.on("popups.show."+e,n)}function o(e){return S[e]&&S[e].hasClass("fr-active")&&t.core.sameInstance(S[e])||!1}function a(e){for(var t in S)if(S.hasOwnProperty(t)&&o(t)&&("undefined"==typeof e||S[t].data("instance")==e))return!0;return!1}function s(e){S[e]&&S[e].hasClass("fr-active")&&(S[e].removeClass("fr-active fr-above"),t.events.trigger("popups.hide."+e),t.$tb&&(t.opts.zIndex>1?t.$tb.css("zIndex",t.opts.zIndex+1):t.$tb.css("zIndex","")),t.events.disableBlur(),S[e].find("input, textarea, button").filter(":focus").blur(),S[e].find("input, textarea").attr("disabled","disabled"))}function l(e,n){t.events.on("popups.hide."+e,n)}function u(e){var n=S[e];if(n&&!n.data("inst"+t.id)){var r=y(e);b(r,e)}return n}function c(e,n){t.events.on("popups.refresh."+e,n)}function d(n){t.events.trigger("popups.refresh."+n);for(var r=S[n].find(".fr-command"),i=0;i<r.length;i++){var o=e(r[i]);0==o.parents(".fr-dropdown-menu").length&&t.button.refresh(o)}}function f(e){"undefined"==typeof e&&(e=[]);for(var t in S)S.hasOwnProperty(t)&&e.indexOf(t)<0&&s(t)}function h(){t.shared.exit_flag=!0}function p(){t.shared.exit_flag=!1}function g(){return t.shared.exit_flag}function m(n,r){var i=e.FE.POPUP_TEMPLATES[n];"function"==typeof i&&(i=i.apply(t));for(var o in r)r.hasOwnProperty(o)&&(i=i.replace("[_"+o.toUpperCase()+"_]",r[o]));return i}function v(n,r){var i=m(n,r),o=e('<div class="fr-popup'+(t.helpers.isMobile()?" fr-mobile":" fr-desktop")+(t.opts.toolbarInline?" fr-inline":"")+'"><span class="fr-arrow"></span>'+i+"</div>");t.opts.theme&&o.addClass(t.opts.theme+"-theme"),t.opts.zIndex>1&&t.$tb.css("z-index",t.opts.zIndex+2),"auto"!=t.opts.direction&&o.removeClass("fr-ltr fr-rtl").addClass("fr-"+t.opts.direction),o.find("input, textarea").attr("dir",t.opts.direction).attr("disabled","disabled");var a=e("body");return a.append(o),o.data("container",a),S[n]=o,t.button.bindCommands(o,!1),o}function y(n){var r=S[n];return{_windowResize:function(){var e=r.data("instance")||t;!e.helpers.isMobile()&&r.is(":visible")&&(e.events.disableBlur(),e.popups.hide(n),e.events.enableBlur())},_inputFocus:function(n){var i=r.data("instance")||t;if(n.preventDefault(),setTimeout(function(){i.events.enableBlur()},0),i.helpers.isMobile()){var o=e(i.o_win).scrollTop();setTimeout(function(){e(i.o_win).scrollTop(o)},0)}},_inputBlur:function(n){var i=r.data("instance")||t;document.activeElement!=this&&e(this).is(":visible")&&(i.events.blurActive()&&i.events.trigger("blur"),i.events.enableBlur())},_inputKeydown:function(i){var a=r.data("instance")||t,s=i.which;if(e.FE.KEYCODE.TAB==s){i.preventDefault();var l=r.find("input, textarea, button, select").filter(":visible").not(":disabled").toArray();l.sort(function(t,n){return i.shiftKey?e(t).attr("tabIndex")<e(n).attr("tabIndex"):e(t).attr("tabIndex")>e(n).attr("tabIndex")}),a.events.disableBlur();var u=l.indexOf(this)+1;u==l.length&&(u=0),e(l[u]).focus()}else if(e.FE.KEYCODE.ENTER==s)r.find(".fr-submit:visible").length>0&&(i.preventDefault(),i.stopPropagation(),a.events.disableBlur(),a.button.exec(r.find(".fr-submit:visible:first")));else{if(e.FE.KEYCODE.ESC==s)return i.preventDefault(),i.stopPropagation(),a.$el.find(".fr-marker")&&(a.events.disableBlur(),e(this).data("skip",!0),a.selection.restore(),a.events.enableBlur()),o(n)&&r.find(".fr-back:visible").length?a.button.exec(r.find(".fr-back:visible:first")):a.popups.hide(n),a.opts.toolbarInline&&a.toolbar.showInline(null,!0),!1;i.stopPropagation()}},_windowKeydown:function(i){if(!t.core.sameInstance(r))return!0;var a=r.data("instance")||t,s=i.which;if(e.FE.KEYCODE.ESC==s){if(o(n)&&a.opts.toolbarInline)return i.stopPropagation(),o(n)&&r.find(".fr-back:visible").length?a.button.exec(r.find(".fr-back:visible:first")):(a.popups.hide(n),a.toolbar.showInline(null,!0)),!1;o(n)&&r.find(".fr-back:visible").length?a.button.exec(r.find(".fr-back:visible:first")):a.popups.hide(n)}},_editorKeydown:function(i){var a=r.data("instance")||t;a.keys.ctrlKey(i)||i.which==e.FE.KEYCODE.ESC||(o(n)&&r.find(".fr-back:visible").length?a.button.exec(r.find(".fr-back:visible:first")):a.popups.hide(n))},_preventFocus:function(n){var i=r.data("instance")||t;i.events.disableBlur();var o=n.originalEvent?n.originalEvent.target||n.originalEvent.originalTarget:null,a="input, textarea, button, select, label, .fr-command";return o&&!e(o).is(a)&&0===e(o).parents(a).length?(n.stopPropagation(),!1):(o&&e(o).is(a)&&n.stopPropagation(),void p())},_editorMouseup:function(e){r.is(":visible")&&g()&&r.find("input:focus, textarea:focus, button:focus, select:focus").filter(":visible").length>0&&t.events.disableBlur()},_windowMouseup:function(e){if(!t.core.sameInstance(r))return!0;var i=r.data("instance")||t;r.is(":visible")&&g()&&(e.stopPropagation(),i.markers.remove(),i.popups.hide(n),p())},_doPlaceholder:function(t){var n=e(this).next();0==n.length&&e(this).after("<label>"+e(this).attr("placeholder")+"</label>"),e(this).toggleClass("fr-not-empty",""!=e(this).val())},_repositionPopup:function(i){if(!t.opts.height&&!t.opts.heightMax||t.opts.toolbarInline)return!0;if(t.$wp&&o(n)&&r.parent().get(0)==e(t.opts.scrollableContainer).get(0)){var a=r.offset().top-t.$wp.offset().top,s=t.$wp.outerHeight();r.hasClass("fr-above")&&(a+=r.outerHeight()),a>s||0>a?r.addClass("fr-hidden"):r.removeClass("fr-hidden")}}}}function b(e,n){t.events.on("mouseup",e._editorMouseup,!0),t.$wp&&t.events.on("keydown",e._editorKeydown),t.events.on("blur",function(e){a()&&t.markers.remove(),f()}),t.$wp&&!t.helpers.isMobile()&&t.events.$on(t.$wp,"scroll.popup"+n,e._repositionPopup),t.events.on("window.keydown",e._windowKeydown),t.events.on("window.mouseup",e._windowMouseup,!0),S[n].data("inst"+t.id,!0),t.events.on("destroy",function(){t.core.sameInstance(S[n])&&S[n].removeClass("fr-active").appendTo("body")},!0)}function $(n,r){var i=v(n,r),o=y(n);return b(o,n),t.events.$on(i,"mousedown mouseup touchstart touchend touch","*",o._preventFocus,!0),t.events.$on(i,"focus","input, textarea, button, select",o._inputFocus,!0),t.events.$on(i,"blur","input, textarea, button, select",o._inputBlur,!0),t.events.$on(i,"keydown","input, textarea, button, select",o._inputKeydown,!0),t.events.$on(i,"keydown keyup change input","input, textarea",o._doPlaceholder,!0),t.helpers.isIOS()&&t.events.$on(i,"touchend","label",function(){e("#"+e(this).attr("for")).prop("checked",function(e,t){return!t})},!0),t.events.$on(e(t.o_win),"resize",o._windowResize,!0),i}function E(){for(var e in S)if(S.hasOwnProperty(e)){var t=S[e];t.html("").removeData().remove(),S[e]=null}S=[]}function w(){t.events.on("shared.destroy",E,!0),t.events.on("window.mousedown",h),t.events.on("window.touchmove",p),t.events.on("mousedown",function(e){a()&&(e.stopPropagation(),t.$el.find(".fr-marker").remove(),h(),t.events.disableBlur())})}t.shared.popups||(t.shared.popups={});var S=t.shared.popups;return t.shared.exit_flag=!1,{_init:w,create:$,get:u,show:r,hide:s,onHide:l,hideAll:f,setContainer:n,refresh:d,onRefresh:c,onShow:i,isVisible:o,areVisible:a}},e.FE.MODULES.position=function(t){function n(){var n,r=t.selection.ranges(0);if(r&&r.collapsed&&t.selection.inEditor()){var i=!1;0==t.$el.find(".fr-marker").length&&(t.selection.save(),i=!0);var o=t.$el.find(".fr-marker:first");o.css("display","inline"),o.css("line-height","");var a=o.offset(),s=o.outerHeight();o.css("display","none"),o.css("line-height",0),n={},n.left=a.left,n.width=0,n.height=s,n.top=a.top-(t.helpers.isIOS()?0:e(t.o_win).scrollTop()),n.right=1,n.bottom=1,n.ok=!0,i&&t.selection.restore()}else r&&(n=r.getBoundingClientRect());return n}function r(n,r,i){var o=n.outerHeight();if(!t.helpers.isMobile()&&t.$tb&&n.parent().get(0)!=t.$tb.get(0)){var a=(n.parent().height()-20-(t.opts.toolbarBottom?t.$tb.outerHeight():0),n.parent().offset().top),s=r-o-(i||0);n.parent().get(0)==e(t.opts.scrollableContainer).get(0)&&(a-=n.parent().position().top);var l=e(t.opts.scrollableContainer).get(0).scrollHeight;a+r+o>e(t.opts.scrollableContainer).offset().top+l&&n.parent().offset().top+s>0?(r=s,n.addClass("fr-above")):n.removeClass("fr-above")}return r}function i(n,r){var i=n.outerWidth();return r+i>e(t.opts.scrollableContainer).width()-10&&(r=e(t.opts.scrollableContainer).width()-i-10),0>r&&(r=10),r}function o(r){var i=n();r.css("top",0).css("left",0);var o=i.top+i.height,s=i.left+i.width/2-r.outerWidth()/2+e(t.o_win).scrollLeft();t.opts.iframe||(o+=e(t.o_win).scrollTop()),a(s,o,r,i.height)}function a(e,n,o,a){var s=o.data("container");!s||s.is("body")&&"static"==s.css("position")||(e&&(e-=s.offset().left),n&&(n-=s.offset().top),"BODY"!=s.get(0).tagName?(e&&(e+=s.scrollLeft()),n&&(n+=s.scrollTop())):"absolute"==s.css("position")&&(e&&(e+=s.position().left),n&&(n+=s.position().top))),t.opts.iframe&&s&&t.$tb&&s.get(0)!=t.$tb.get(0)&&(e&&(e+=t.$iframe.offset().left),n&&(n+=t.$iframe.offset().top));var l=i(o,e);if(e){o.css("left",l);var u=o.find(".fr-arrow");u.data("margin-left")||u.data("margin-left",t.helpers.getPX(u.css("margin-left"))),u.css("margin-left",e-l+u.data("margin-left"))}n&&o.css("top",r(o,n,a))}function s(n){var r=e(n),i=r.is(".fr-sticky-on"),o=r.data("sticky-top"),a=r.data("sticky-scheduled");if("undefined"==typeof o){r.data("sticky-top",0);var s=e('<div class="fr-sticky-dummy" style="height: '+r.outerHeight()+'px;"></div>');t.$box.prepend(s)}else t.$box.find(".fr-sticky-dummy").css("height",r.outerHeight());if(t.core.hasFocus()||t.$tb.find("input:visible:focus").length>0){var l=e(window).scrollTop(),u=Math.min(Math.max(l-t.$tb.parent().offset().top,0),t.$tb.parent().outerHeight()-r.outerHeight());u!=o&&u!=a&&(clearTimeout(r.data("sticky-timeout")),r.data("sticky-scheduled",u),r.outerHeight()<l-t.$tb.parent().offset().top&&r.addClass("fr-opacity-0"),r.data("sticky-timeout",setTimeout(function(){var n=e(window).scrollTop(),i=Math.min(Math.max(n-t.$tb.parent().offset().top,0),t.$tb.parent().outerHeight()-r.outerHeight());i>0&&"BODY"==t.$tb.parent().get(0).tagName&&(i+=t.$tb.parent().position().top),i!=o&&(r.css("top",Math.max(i,0)),r.data("sticky-top",i),r.data("sticky-scheduled",i)),r.removeClass("fr-opacity-0")},100))),i||(r.css("top","0"),r.width(t.$tb.parent().width()),r.addClass("fr-sticky-on"),t.$box.addClass("fr-sticky-box"))}else clearTimeout(e(n).css("sticky-timeout")),r.css("top","0"),r.css("position",""),r.width(""),r.data("sticky-top",0),r.removeClass("fr-sticky-on"),t.$box.removeClass("fr-sticky-box")}function l(n){if(n.offsetWidth){var r,i,o=e(n),a=o.outerHeight(),s=o.data("sticky-position"),l=e("body"==t.opts.scrollableContainer?t.o_win:t.opts.scrollableContainer).outerHeight(),u=0,c=0;"body"!==t.opts.scrollableContainer&&(u=e(t.opts.scrollableContainer).offset().top,c=e(t.o_win).outerHeight()-u-l);var d="body"==t.opts.scrollableContainer?e(t.o_win).scrollTop():u,f=o.is(".fr-sticky-on");o.data("sticky-parent")||o.data("sticky-parent",o.parent());var h=o.data("sticky-parent"),p=h.offset().top,g=h.outerHeight();if(o.data("sticky-offset")||(o.data("sticky-offset",!0),o.after('<div class="fr-sticky-dummy" style="height: '+a+'px;"></div>')),!s){var m="auto"!==o.css("top")||"auto"!==o.css("bottom");m||o.css("position","fixed"),s={top:o.hasClass("fr-top"),bottom:o.hasClass("fr-bottom")},m||o.css("position",""),o.data("sticky-position",s),o.data("top",o.hasClass("fr-top")?o.css("top"):"auto"),
o.data("bottom",o.hasClass("fr-bottom")?o.css("bottom"):"auto")}var v=function(){return d+r>p&&p+g-a>=d+r},y=function(){return d+l-i>p+a&&p+g>d+l-i};r=t.helpers.getPX(o.data("top")),i=t.helpers.getPX(o.data("bottom"));var b=s.top&&v(),$=s.bottom&&y();b||$?(o.css("width",h.width()+"px"),f||(o.addClass("fr-sticky-on"),o.removeClass("fr-sticky-off"),o.css("top")&&("auto"!=o.data("top")?o.css("top",t.helpers.getPX(o.data("top"))+u):o.data("top","auto")),o.css("bottom")&&("auto"!=o.data("bottom")?o.css("bottom",t.helpers.getPX(o.data("bottom"))+c):o.css("bottom","auto")))):o.hasClass("fr-sticky-off")||(o.width(""),o.removeClass("fr-sticky-on"),o.addClass("fr-sticky-off"),o.css("top")&&"auto"!=o.css("top")&&o.css("top",0),o.css("bottom")&&o.css("bottom",0))}}function u(){var e=document.createElement("test"),n=e.style;return n.cssText="position:"+["-webkit-","-moz-","-ms-","-o-",""].join("sticky; position:")+" sticky;",-1!==n.position.indexOf("sticky")&&!t.helpers.isIOS()&&!t.helpers.isAndroid()}function c(){if(!u())if(t._stickyElements=[],t.helpers.isIOS()){var n=function(){t.helpers.requestAnimationFrame()(n);for(var e=0;e<t._stickyElements.length;e++)s(t._stickyElements[e])};n(),t.events.$on(e(t.o_win),"scroll",function(){if(t.core.hasFocus())for(var n=0;n<t._stickyElements.length;n++){var r=e(t._stickyElements[n]),i=r.parent(),o=e(window).scrollTop();r.outerHeight()<o-i.offset().top&&(r.addClass("fr-opacity-0"),r.data("sticky-top",-1),r.data("sticky-scheduled",-1))}},!0)}else t.events.$on(e("body"==t.opts.scrollableContainer?t.o_win:t.opts.scrollableContainer),"scroll",d,!0),t.events.$on(e(t.o_win),"resize",d,!0),t.events.on("initialized",d),t.events.on("focus",d),t.events.$on(e(t.o_win),"resize","textarea",d,!0);t.events.on("destroy",function(e){t._stickyElements=[]})}function d(){for(var e=0;e<t._stickyElements.length;e++)l(t._stickyElements[e])}function f(e){e.addClass("fr-sticky"),t.helpers.isIOS()&&e.addClass("fr-sticky-ios"),u()||t._stickyElements.push(e.get(0))}function h(){c()}return{_init:h,forSelection:o,addSticky:f,refresh:d,at:a,getBoundingRect:n}},e.FE.MODULES.refresh=function(t){function n(e){e.toggleClass("fr-disabled",!t.undo.canDo())}function r(e){e.toggleClass("fr-disabled",!t.undo.canRedo())}function i(e){if(e.hasClass("fr-no-refresh"))return!1;for(var n=t.selection.blocks(),r=0;r<n.length;r++){for(var i=n[r].previousSibling;i&&i.nodeType==Node.TEXT_NODE&&0===i.textContent.length;)i=i.previousSibling;if("LI"!=n[r].tagName||i)return e.removeClass("fr-disabled"),!0;e.addClass("fr-disabled")}}function o(n){if(n.hasClass("fr-no-refresh"))return!1;for(var r=t.selection.blocks(),i=0;i<r.length;i++){var o="rtl"==t.opts.direction||"rtl"==e(r[i]).css("direction")?"margin-right":"margin-left";if("LI"==r[i].tagName||"LI"==r[i].parentNode.tagName)return n.removeClass("fr-disabled"),!0;if(t.helpers.getPX(e(r[i]).css(o))>0)return n.removeClass("fr-disabled"),!0}n.addClass("fr-disabled")}return{undo:n,redo:r,outdent:o,indent:i}},e.extend(e.FE.DEFAULTS,{editInPopup:!1}),e.FE.MODULES.textEdit=function(t){function n(){var e='<div id="fr-text-edit-'+t.id+'" class="fr-layer fr-text-edit-layer"><div class="fr-input-line"><input type="text" placeholder="'+t.language.translate("Text")+'" tabIndex="1"></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="updateText" tabIndex="2">'+t.language.translate("Update")+"</button></div></div>",n={edit:e};t.popups.create("text.edit",n)}function r(){var n,r=t.popups.get("text.edit");n="INPUT"===t.$el.prop("tagName")?t.$el.attr("placeholder"):t.$el.text(),r.find("input").val(n).trigger("change"),t.popups.setContainer("text.edit",e("body")),t.popups.show("text.edit",t.$el.offset().left+t.$el.outerWidth()/2,t.$el.offset().top+t.$el.outerHeight(),t.$el.outerHeight())}function i(){t.events.$on(t.$el,t._mouseup,function(e){setTimeout(function(){r()},10)})}function o(){var e=t.popups.get("text.edit"),n=e.find("input").val();0==n.length&&(n=t.opts.placeholderText),"INPUT"===t.$el.prop("tagName")?t.$el.attr("placeholder",n):t.$el.text(n),t.events.trigger("contentChanged"),t.popups.hide("text.edit")}function a(){t.opts.editInPopup&&(n(),i())}return{_init:a,update:o}},e.FE.RegisterCommand("updateText",{focus:!1,undo:!1,callback:function(){this.textEdit.update()}}),e.extend(e.FE.DEFAULTS,{toolbarBottom:!1,toolbarButtons:["fullscreen","bold","italic","underline","strikeThrough","subscript","superscript","fontFamily","fontSize","|","color","emoticons","inlineStyle","paragraphStyle","|","paragraphFormat","align","formatOL","formatUL","outdent","indent","quote","insertHR","-","insertLink","insertImage","insertVideo","insertFile","insertTable","undo","redo","clearFormatting","selectAll","html","applyFormat","removeFormat"],toolbarButtonsXS:["bold","italic","fontFamily","fontSize","|","undo","redo"],toolbarButtonsSM:["bold","italic","underline","|","fontFamily","fontSize","insertLink","insertImage","table","|","undo","redo"],toolbarButtonsMD:["fullscreen","bold","italic","underline","fontFamily","fontSize","color","paragraphStyle","paragraphFormat","align","formatOL","formatUL","outdent","indent","quote","insertHR","-","insertLink","insertImage","insertVideo","insertFile","insertTable","undo","redo","clearFormatting"],toolbarContainer:null,toolbarInline:!1,toolbarSticky:!0,toolbarStickyOffset:0,toolbarVisibleWithoutSelection:!1}),e.FE.MODULES.toolbar=function(t){function n(e,t){for(var n=0;n<t.length;n++)"-"!=t[n]&&"|"!=t[n]&&e.indexOf(t[n])<0&&e.push(t[n])}function r(){var r=e.merge([],i());n(r,t.opts.toolbarButtonsXS||[]),n(r,t.opts.toolbarButtonsSM||[]),n(r,t.opts.toolbarButtonsMD||[]),n(r,t.opts.toolbarButtons);for(var o=r.length-1;o>=0;o--)"-"!=r[o]&&"|"!=r[o]&&r.indexOf(r[o])<o&&r.splice(o,1);var a=t.button.buildList(r,i());t.$tb.append(a),t.button.bindCommands(t.$tb)}function i(){var e=t.helpers.screenSize();return $[e]}function o(){var e=i();t.$tb.find(".fr-separator").remove(),t.$tb.find("> .fr-command").addClass("fr-hidden");for(var n=0;n<e.length;n++)if("|"==e[n]||"-"==e[n])t.$tb.append(t.button.buildList([e[n]]));else{var r=t.$tb.find('> .fr-command[data-cmd="'+e[n]+'"]'),o=null;r.next().hasClass("fr-dropdown-menu")&&(o=r.next()),r.removeClass("fr-hidden").appendTo(t.$tb),o&&o.appendTo(t.$tb)}}function a(){t.events.$on(e(t.o_win),"resize",o,!0),t.events.$on(e(t.o_win),"orientationchange",o,!0)}function s(n,r){setTimeout(function(){if(n&&n.which==e.FE.KEYCODE.ESC);else if(t.selection.inEditor()&&t.core.hasFocus()&&!t.popups.areVisible()&&(t.opts.toolbarVisibleWithoutSelection&&n&&"keyup"!=n.type||!t.selection.isCollapsed()&&!t.keys.isIME()||r)){if(t.$tb.data("instance",t),0==t.events.trigger("toolbar.show",[n]))return!1;t.opts.toolbarContainer||t.position.forSelection(t.$tb),t.$tb.show()}},0)}function l(n){var r=e(".fr-dropdown.fr-active");return!!r.next().find(t.o_doc.activeElement).length||void(t.events.trigger("toolbar.hide")!==!1&&t.$tb.hide())}function u(){return 0!=t.events.trigger("toolbar.show")&&void t.$tb.show()}function c(){t.events.on("window.mousedown",l),t.events.on("keydown",l),t.events.on("blur",l),t.events.on("window.mouseup",s),t.helpers.isMobile()?t.helpers.isIOS()||(t.events.on("window.touchend",s),t.browser.mozilla&&setInterval(s,200)):t.events.on("window.keyup",s),t.events.on("keydown",function(t){t&&t.which==e.FE.KEYCODE.ESC&&l()}),t.events.$on(t.$wp,"scroll.toolbar",s),t.events.on("commands.after",s),t.helpers.isMobile()&&(t.events.$on(t.$doc,"selectionchange",s),t.events.$on(t.$doc,"orientationchange",s))}function d(){t.opts.toolbarInline?(e(t.opts.scrollableContainer).append(t.$tb),t.$tb.data("container",e(t.opts.scrollableContainer)),t.$tb.addClass("fr-inline"),t.$tb.prepend('<span class="fr-arrow"></span>'),c(),t.opts.toolbarBottom=!1):(t.opts.toolbarBottom&&!t.helpers.isIOS()?(t.$box.append(t.$tb),t.$tb.addClass("fr-bottom"),t.$box.addClass("fr-bottom")):(t.opts.toolbarBottom=!1,t.$box.prepend(t.$tb),t.$tb.addClass("fr-top"),t.$box.addClass("fr-top")),t.$tb.addClass("fr-basic"),t.opts.toolbarSticky&&(t.opts.toolbarStickyOffset&&(t.opts.toolbarBottom?t.$tb.css("bottom",t.opts.toolbarStickyOffset):t.$tb.css("top",t.opts.toolbarStickyOffset)),t.position.addSticky(t.$tb)))}function f(){t.$tb.html("").removeData().remove(),t.$tb=null}function h(){t.$box.removeClass("fr-top fr-bottom fr-inline fr-basic"),t.$box.find(".fr-sticky-dummy").remove()}function p(){t.opts.theme&&t.$tb.addClass(t.opts.theme+"-theme"),t.opts.zIndex>1&&t.$tb.css("z-index",t.opts.zIndex+1),"auto"!=t.opts.direction&&t.$tb.removeClass("fr-ltr fr-rtl").addClass("fr-"+t.opts.direction),t.helpers.isMobile()?t.$tb.addClass("fr-mobile"):t.$tb.addClass("fr-desktop"),t.opts.toolbarContainer?(t.opts.toolbarInline&&(c(),l()),t.opts.toolbarBottom?t.$tb.addClass("fr-bottom"):t.$tb.addClass("fr-top")):d(),y=t.$tb.get(0).ownerDocument,b="defaultView"in y?y.defaultView:y.parentWindow,r(),a(),t.events.$on(t.$tb,t._mousedown+" "+t._mouseup,function(e){var n=e.originalEvent?e.originalEvent.target||e.originalEvent.originalTarget:null;return n&&"INPUT"!=n.tagName&&!t.edit.isDisabled()?(e.stopPropagation(),e.preventDefault(),!1):void 0},!0)}function g(){return!!t.$wp&&(t.opts.toolbarContainer?(t.shared.$tb?(t.$tb=t.shared.$tb,t.opts.toolbarInline&&c()):(t.shared.$tb=e('<div class="fr-toolbar"></div>'),t.$tb=t.shared.$tb,e(t.opts.toolbarContainer).append(t.$tb),p(),t.$tb.data("instance",t)),t.opts.toolbarInline?t.$box.addClass("fr-inline"):t.$box.addClass("fr-basic"),t.events.on("focus",function(){t.$tb.data("instance",t)},!0),t.opts.toolbarInline=!1):t.opts.toolbarInline?(t.$box.addClass("fr-inline"),t.shared.$tb?(t.$tb=t.shared.$tb,c()):(t.shared.$tb=e('<div class="fr-toolbar"></div>'),t.$tb=t.shared.$tb,p())):(t.$box.addClass("fr-basic"),t.$tb=e('<div class="fr-toolbar"></div>'),p(),t.$tb.data("instance",t)),t.events.on("destroy",h,!0),void t.events.on(t.opts.toolbarInline?"shared.destroy":"destroy",f,!0))}function m(){!E&&t.$tb&&(t.$tb.find("> .fr-command").addClass("fr-disabled fr-no-refresh"),E=!0)}function v(){E&&t.$tb&&(t.$tb.find("> .fr-command").removeClass("fr-disabled fr-no-refresh"),E=!1),t.button.bulkRefresh()}var y,b,$=[];$[e.FE.XS]=t.opts.toolbarButtonsXS||t.opts.toolbarButtons,$[e.FE.SM]=t.opts.toolbarButtonsSM||t.opts.toolbarButtons,$[e.FE.MD]=t.opts.toolbarButtonsMD||t.opts.toolbarButtons,$[e.FE.LG]=t.opts.toolbarButtons;var E=!1;return{_init:g,hide:l,show:u,showInline:s,disable:m,enable:v}}}),$.FE.LANGUAGE.ru={translation:{"Type something":"Напишите что-нибудь",Bold:"Полужирный",Italic:"Курсив",Underline:"Подчеркнутый",Strikethrough:"Зачеркнутый",Insert:"Вставить",Delete:"Удалить",Cancel:"Отменить",OK:"OK",Back:"назад",Remove:"Удалить",More:"Больше",Update:"Обновить",Style:"Стиль","Font Family":"Шрифт","Font Size":"Размер шрифта",Colors:"цвета",Background:"Фон",Text:"Текст","Paragraph Format":"Формат",Normal:"Нормальный",Code:"Код","Heading 1":"Заголовок 1","Heading 2":"Заголовок 2","Heading 3":"Заголовок 3","Heading 4":"Заголовок 4","Paragraph Style":"Пункт стиль","Inline Style":"Встроенный стиль",Align:"Выровнять по","Align Left":"По левому краю","Align Center":"По центру","Align Right":"По правому краю","Align Justify":"По ширине",None:"Никак","Ordered List":"Нумерованный список","Unordered List":"Маркированный список","Decrease Indent":"Уменьшить отступ","Increase Indent":"Увеличить отступ","Insert Link":"Вставить ссылку","Open in new tab":"Открыть в новой вкладке","Open Link":"Открыть ссылку","Edit Link":"Редактировать ссылку",Unlink:"Удалить ссылку","Choose Link":"Выберите ссылку","Insert Image":"Вставить изображение","Upload Image":"Загрузить изображение","By URL":"По ссылке",Browse:"Загруженные изображения","Drop image":"Переместите сюда файл","or click":"или нажмите","Manage Images":"Управление изображениями",Loading:"Загрузка",Deleting:"Удаление",Tags:"Ключевые слова","Are you sure? Image will be deleted.":"Вы уверены? Изображение будет удалено.",Replace:"Заменить",Uploading:"Загрузка","Loading image":"Загрузка изображений",Display:"Положение",Inline:"Обтекается текстом","Break Text":"Разрывает текст","Alternate Text":"Альтернативный текст","Change Size":"Изменить размер",Width:"ширина",Height:"высота","Something went wrong. Please try again.":"Что-то пошло не так. Пожалуйста, попробуйте еще раз.","Insert Video":"Вставить видео","Embedded Code":"HTML-код для вставки","Insert Table":"Вставить таблицу","Table Header":"Заголовок таблицы","Remove Table":"Удалить таблицу","Table Style":"Стиль таблицы","Horizontal Align":"Горизонтальное выравнивание",Row:"Строка","Insert row above":"Вставить строку сверху","Insert row below":"Вставить строку снизу","Delete row":"Удалить строку",Column:"Столбец","Insert column before":"Вставить столбец слева","Insert column after":"Вставить столбец справа","Delete column":"Удалить столбец",Cell:"Ячейка","Merge cells":"Объединить ячейки","Horizontal split":"Разделить горизонтально","Vertical split":"Разделить вертикально","Cell Background":"Фон ячейки","Vertical Align":"Вертикальное выравнивание",Top:"По верхнему краю",Middle:"Посередине",Bottom:"По нижнему краю","Align Top":"Совместите верхнюю","Align Middle":"Выровнять по середине","Align Bottom":"Совместите нижнюю","Cell Style":"Стиль ячейки","Upload File":"Загрузить файл","Drop file":"Переместите сюда файл",Emoticons:"Смайлики","Grinning face":"","Grinning face with smiling eyes":"Усмехнувшись лицо с улыбающимися глазами","Face with tears of joy":"Лицо со слезами радости","Smiling face with open mouth":"Улыбающееся лицо с открытым ртом","Smiling face with open mouth and smiling eyes":"Улыбаясь лицо с открытым ртом и улыбающиеся глаза","Smiling face with open mouth and cold sweat":"Улыбаясь лицо с открытым ртом и холодный пот","Smiling face with open mouth and tightly-closed eyes":"Улыбаясь лицо с открытым ртом и плотно закрытыми глазами","Smiling face with halo":"Улыбаясь лицо гало","Smiling face with horns":"Улыбаясь лицо с рогами","Winking face":"подмигивая лицо","Smiling face with smiling eyes":"Улыбаясь лицо с улыбающимися глазами","Face savoring delicious food":"Лицо смакуя вкусную еду","Relieved face":"Освобождены лицо","Smiling face with heart-shaped eyes":"Улыбаясь лицо в форме сердца глазами","Smiling face with sunglasses":"Улыбаясь лицо с очками","Smirking face":"Усмехнувшись лицо","Neutral face":"Обычный лицо","Expressionless face":"невыразительные лица","Unamused face":"Не смешно лицо","Face with cold sweat":"Лицо с холодного пота","Pensive face":"Задумчивый лицо","Confused face":"Путать лицо","Confounded face":"Да постыдятся лицо","Kissing face":"Поцелуи лицо","Face throwing a kiss":"Лицо бросали поцелуй","Kissing face with smiling eyes":"Поцелуи лицо с улыбающимися глазами","Kissing face with closed eyes":"Поцелуи лицо с закрытыми глазами","Face with stuck out tongue":"Лицо с торчали языка","Face with stuck out tongue and winking eye":"Лицо с торчали язык и подмигивая глазом","Face with stuck out tongue and tightly-closed eyes":"Лицо с торчали язык и плотно закрытыми глазами","Disappointed face":"Разочарованный лицо","Worried face":"Обеспокоенный лицо","Angry face":"Злой лицо","Pouting face":"Пухлые лицо","Crying face":"Плач лицо","Persevering face":"Настойчивая лицо","Face with look of triumph":"Лицо с видом триумфа","Disappointed but relieved face":"Разочарованный, но освобожден лицо","Frowning face with open mouth":"Нахмурившись лицо с открытым ртом","Anguished face":"мучительный лицо","Fearful face":"Опасаясь лицо","Weary face":"Усталый лицо","Sleepy face":"сонное лицо","Tired face":"Устали лицо","Grimacing face":"Гримасничая лицо","Loudly crying face":"Громко плача лицо","Face with open mouth":"Лицо с открытым ртом","Hushed face":"Затихший лицо","Face with open mouth and cold sweat":"Лицо с открытым ртом и холодный пот","Face screaming in fear":"Лицо кричать в страхе","Astonished face":"Удивленный лицо","Flushed face":"Прилив крови к лицу","Sleeping face":"Спящая лицо","Dizzy face":"Диззи лицо","Face without mouth":"Лицо без рта","Face with medical mask":"Лицо с медицинской маской",Break:"сломить",Subscript:"Индекс",Superscript:"Верхний индекс",Fullscreen:"На весь экран","Insert Horizontal Line":"Вставить горизонтальную линию","Clear Formatting":"Удалить форматирование",Undo:"Вернуть",Redo:"Повторить","Select All":"Выбрать все","Code View":"Просмотр HTML-кода",Quote:"цитата",Increase:"Увеличение",Decrease:"Снижение","Quick Insert":"Быстрый вставка"},direction:"ltr"},!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=function(t,n){return void 0===n&&(n="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(n),n}:e(jQuery)}(function(e){"use strict";e.FE.PLUGINS.quote=function(t){function n(e){for(;e.parentNode&&e.parentNode!=t.$el.get(0);)e=e.parentNode;return e}function r(){var r,i=t.selection.blocks();for(r=0;r<i.length;r++)i[r]=n(i[r]);t.selection.save();var o=e("<blockquote>");for(o.insertBefore(i[0]),r=0;r<i.length;r++)o.append(i[r]);t.html.unwrap(),t.selection.restore()}function i(){var n,r=t.selection.blocks();for(n=0;n<r.length;n++)"BLOCKQUOTE"!=r[n].tagName&&(r[n]=e(r[n]).parentsUntil(t.$el,"BLOCKQUOTE").get(0));for(t.selection.save(),n=0;n<r.length;n++)r[n]&&e(r[n]).replaceWith(r[n].innerHTML);t.html.unwrap(),t.selection.restore()}function o(e){t.selection.save(),t.html.wrap(!0,!0,!0,!0),t.selection.restore(),"increase"==e?r():"decrease"==e&&i()}return{apply:o}},e.FE.RegisterShortcut(e.FE.KEYCODE.SINGLE_QUOTE,"quote","increase","'"),e.FE.RegisterShortcut(e.FE.KEYCODE.SINGLE_QUOTE,"quote","decrease","'",!0),e.FE.RegisterCommand("quote",{title:"Quote",type:"dropdown",options:{increase:"Increase",decrease:"Decrease"},callback:function(e,t){this.quote.apply(t)},plugin:"quote"}),e.FE.DefineIcon("quote",{NAME:"quote-left"})}),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=function(t,n){return void 0===n&&(n="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(n),n}:e(jQuery)}(function(e){"use strict";e.FE.PLUGINS.lists=function(t){function n(e){return'<span class="fr-open-'+e.toLowerCase()+'"></span>'}function r(e){return'<span class="fr-close-'+e.toLowerCase()+'"></span>'}function i(t,n){for(var r=[],i=0;i<t.length;i++){var o=t[i].parentNode;"LI"==t[i].tagName&&o.tagName!=n&&r.indexOf(o)<0&&r.push(o)}for(i=r.length-1;i>=0;i--){var a=e(r[i]);a.replaceWith("<"+n.toLowerCase()+">"+a.html()+"</"+n.toLowerCase()+">")}}function o(n,r){i(n,r);for(var o=t.html.defaultTag(),a=0;a<n.length;a++)"LI"!=n[a].tagName&&(o&&n[a].tagName.toLowerCase()==o?e(n[a]).replaceWith("<"+r+"><li"+t.node.attributes(n[a])+">"+e(n[a]).html()+"</li></"+r+">"):e(n[a]).wrap("<"+r+"><li></li></"+r+">"));t.clean.lists()}function a(i){var o,a;for(o=i.length-1;o>=0;o--)for(a=o-1;a>=0;a--)if(e(i[a]).find(i[o]).length||i[a]==i[o]){i.splice(o,1);break}var s=[];for(o=0;o<i.length;o++){var l=e(i[o]),u=i[o].parentNode;l.before(r(u.tagName)),"LI"==u.parentNode.tagName?(l.before(r("LI")),l.after(n("LI"))):(t.node.isEmpty(l.get(0),!0)||0!==l.find(t.html.blockTagsQuery()).length||l.append("<br>"),l.append(n("LI")),l.prepend(r("LI"))),l.after(n(u.tagName)),"LI"==u.parentNode.tagName&&(u=u.parentNode.parentNode),s.indexOf(u)<0&&s.push(u)}for(o=0;o<s.length;o++){var c=e(s[o]),d=c.html();d=d.replace(/<span class="fr-close-([a-z]*)"><\/span>/g,"</$1>"),d=d.replace(/<span class="fr-open-([a-z]*)"><\/span>/g,"<$1>"),c.replaceWith(t.node.openTagString(c.get(0))+d+t.node.closeTagString(c.get(0)))}t.$el.find("li:empty").remove(),t.$el.find("ul:empty, ol:empty").remove(),t.clean.lists(),t.html.wrap()}function s(e,t){for(var n=!0,r=0;r<e.length;r++){if("LI"!=e[r].tagName)return!1;e[r].parentNode.tagName!=t&&(n=!1)}return n}function l(e){t.selection.save(),t.html.wrap(!0,!0,!0,!0),t.selection.restore();for(var n=t.selection.blocks(),r=0;r<n.length;r++)"LI"!=n[r].tagName&&"LI"==n[r].parentNode.tagName&&(n[r]=n[r].parentNode);t.selection.save(),s(n,e)?a(n):o(n,e),t.html.unwrap(),t.selection.restore()}function u(n,r){var i=e(t.selection.element());if(i.get(0)!=t.$el.get(0)){var o=i.get(0);"LI"!=o.tagName&&(o=i.parents("li").get(0)),o&&o.parentNode.tagName==r&&t.$el.get(0).contains(o.parentNode)&&n.addClass("fr-active")}}function c(n){t.selection.save();for(var r=0;r<n.length;r++){var i=n[r].previousSibling;if(i){var o=e(n[r]).find("> ul, > ol").get(0);if(o){for(var a=e("<li>").prependTo(e(o)),s=t.node.contents(n[r])[0];s&&!t.node.isList(s);){var l=s.nextSibling;a.append(s),s=l}e(i).append(e(o)),e(n[r]).remove()}else{var u=e(i).find("> ul, > ol").get(0);if(u)e(u).append(e(n[r]));else{var c=e("<"+n[r].parentNode.tagName+">");e(i).append(c),c.append(e(n[r]))}}}}t.clean.lists(),t.selection.restore()}function d(e){t.selection.save(),a(e),t.selection.restore()}function f(e){if("indent"==e||"outdent"==e){for(var n=!1,r=t.selection.blocks(),i=[],o=0;o<r.length;o++)"LI"==r[o].tagName?(n=!0,i.push(r[o])):"LI"==r[o].parentNode.tagName&&(n=!0,i.push(r[o].parentNode));n&&("indent"==e?c(i):d(i))}}function h(){t.events.on("commands.after",f),t.events.on("keydown",function(n){if(n.which==e.FE.KEYCODE.TAB){for(var r,i=t.selection.blocks(),o=[],a=0;a<i.length;a++)"LI"==i[a].tagName?(r=!0,o.push(i[a])):"LI"==i[a].parentNode.tagName&&(r=!0,o.push(i[a].parentNode));if(r)return n.preventDefault(),n.stopPropagation(),n.shiftKey?d(o):c(o),!1}},!0)}return{_init:h,format:l,refresh:u}},e.FE.RegisterCommand("formatUL",{title:"Unordered List",refresh:function(e){this.lists.refresh(e,"UL")},callback:function(){this.lists.format("UL")},plugin:"lists"}),e.FE.RegisterCommand("formatOL",{title:"Ordered List",refresh:function(e){this.lists.refresh(e,"OL")},callback:function(){this.lists.format("OL")},plugin:"lists"}),e.FE.DefineIcon("formatUL",{NAME:"list-ul"}),e.FE.DefineIcon("formatOL",{NAME:"list-ol"})}),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=function(t,n){return void 0===n&&(n="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(n),n}:e(jQuery)}(function(e){"use strict";e.extend(e.FE.POPUP_TEMPLATES,{"image.insert":"[_BUTTONS_][_UPLOAD_LAYER_][_BY_URL_LAYER_][_PROGRESS_BAR_]","image.edit":"[_BUTTONS_]","image.alt":"[_BUTTONS_][_ALT_LAYER_]","image.size":"[_BUTTONS_][_SIZE_LAYER_]"}),e.extend(e.FE.DEFAULTS,{imageInsertButtons:["imageBack","|","imageUpload","imageByURL"],imageEditButtons:["imageReplace","imageAlign","imageRemove","|","imageLink","linkOpen","linkEdit","linkRemove","-","imageDisplay","imageStyle","imageAlt","imageSize"],imageAltButtons:["imageBack","|"],imageSizeButtons:["imageBack","|"],imageUploadURL:"https://i.froala.com/upload",imageUploadParam:"file",imageUploadParams:{},imageUploadToS3:!1,imageUploadMethod:"POST",imageMaxSize:10485760,imageAllowedTypes:["jpeg","jpg","png","gif","svg+xml"],imageResize:!0,imageResizeWithPercent:!1,imageRoundPercent:!1,imageDefaultWidth:300,imageDefaultAlign:"center",imageDefaultDisplay:"block",imageSplitHTML:!1,imageStyles:{"fr-rounded":"Rounded","fr-bordered":"Bordered"},imageMove:!0,imageMultipleStyles:!0,imageTextNear:!0,imagePaste:!0,imagePasteProcess:!1,imageMinWidth:16,imageOutputSize:!1}),e.FE.PLUGINS.image=function(t){function n(){var e=t.popups.get("image.insert"),n=e.find(".fr-image-by-url-layer input");n.val(""),me&&n.val(me.attr("src")),n.trigger("change")}function r(){var e=t.$tb.find('.fr-command[data-cmd="insertImage"]'),n=t.popups.get("image.insert");if(n||(n=L()),v(),!n.hasClass("fr-active"))if(t.popups.refresh("image.insert"),t.popups.setContainer("image.insert",t.$tb),e.is(":visible")){var r=e.offset().left+e.outerWidth()/2,i=e.offset().top+(t.opts.toolbarBottom?10:e.outerHeight()-10);t.popups.show("image.insert",r,i,e.outerHeight())}else t.position.forSelection(n),t.popups.show("image.insert")}function i(){var n=t.popups.get("image.edit");n||(n=g()),t.popups.setContainer("image.edit",e(t.opts.scrollableContainer)),t.popups.refresh("image.edit");var r=me.offset().left+me.outerWidth()/2,i=me.offset().top+me.outerHeight();t.popups.show("image.edit",r,i,me.outerHeight())}function o(){v()}function a(e){if(!e.hasClass("fr-dii")&&!e.hasClass("fr-dib")){var n=e.css("float");e.css("float","none"),"block"==e.css("display")?(e.css("float",n),t.opts.imageEditButtons.indexOf("imageAlign")>=0&&(0===parseInt(e.css("margin-left"),10)&&(e.attr("style")||"").indexOf("margin-right: auto")>=0?e.addClass("fr-fil"):0===parseInt(e.css("margin-right"),10)&&(e.attr("style")||"").indexOf("margin-left: auto")>=0&&e.addClass("fr-fir")),e.addClass("fr-dib")):(e.css("float",n),t.opts.imageEditButtons.indexOf("imageAlign")>=0&&("left"==e.css("float")?e.addClass("fr-fil"):"right"==e.css("float")&&e.addClass("fr-fir")),e.addClass("fr-dii")),e.css("margin",""),e.css("float",""),e.css("display",""),e.css("z-index",""),e.css("position",""),e.css("overflow",""),e.css("vertical-align","")}}function s(){for(var n="IMG"==t.$el.get(0).tagName?[t.$el.get(0)]:t.$el.get(0).querySelectorAll("img"),r=0;r<n.length;r++){var i=e(n[r]);(t.opts.imageEditButtons.indexOf("imageAlign")>=0||t.opts.imageEditButtons.indexOf("imageDisplay")>=0)&&a(i),i.attr("width")&&(i.css("width",i.width()),i.removeAttr("width")),t.opts.imageTextNear||i.removeClass("fr-dii").addClass("fr-dib"),t.opts.iframe&&i.on("load",t.size.syncIframe)}}function l(){var n,r=Array.prototype.slice.call(t.$el.get(0).querySelectorAll("img")),i=[];for(n=0;n<r.length;n++)i.push(r[n].getAttribute("src")),e(r[n]).toggleClass("fr-draggable",t.opts.imageMove),""===r[n].className&&r[n].removeAttribute("class"),""===r[n].getAttribute("style")&&r[n].removeAttribute("style");if(Ne)for(n=0;n<Ne.length;n++)i.indexOf(Ne[n].getAttribute("src"))<0&&t.events.trigger("image.removed",[e(Ne[n])]);Ne=r}function u(){ve||K();var n=t.$wp||e(t.opts.scrollableContainer);n.append(ve),ve.data("instance",t);var r=n.scrollTop()-("static"!=n.css("position")?n.offset().top:0),i=n.scrollLeft()-("static"!=n.css("position")?n.offset().left:0);i-=t.helpers.getPX(n.css("border-left-width")),r-=t.helpers.getPX(n.css("border-top-width")),ve.css("top",(t.opts.iframe?me.offset().top:me.offset().top+r)-1).css("left",(t.opts.iframe?me.offset().left:me.offset().left+i)-1).css("width",me.get(0).getBoundingClientRect().width).css("height",me.get(0).getBoundingClientRect().height).addClass("fr-active")}function c(e){return'<div class="fr-handler fr-h'+e+'"></div>'}function d(n){if(!t.core.sameInstance(ve))return!0;if(n.preventDefault(),n.stopPropagation(),t.$el.find("img.fr-error").left)return!1;t.undo.canDo()||t.undo.saveStep(),ye=e(this),ye.data("start-x",n.pageX||n.originalEvent.touches[0].pageX),ye.data("start-width",me.width()),ye.data("start-height",me.height());var r=me.width();if(t.opts.imageResizeWithPercent){var i=me.parentsUntil(t.$el,t.html.blockTagsQuery()).get(0)||t.$el.get(0);me.css("width",(r/e(i).outerWidth()*100).toFixed(2)+"%")}else me.css("width",r);be.show(),t.popups.hideAll(),ie()}function f(n){if(!t.core.sameInstance(ve))return!0;if(ye&&me){if(n.preventDefault(),t.$el.find("img.fr-error").left)return!1;var r=n.pageX||(n.originalEvent.touches?n.originalEvent.touches[0].pageX:null);if(!r)return!1;var i=ye.data("start-x"),o=r-i,a=ye.data("start-width");if((ye.hasClass("fr-hnw")||ye.hasClass("fr-hsw"))&&(o=0-o),t.opts.imageResizeWithPercent){var s=me.parentsUntil(t.$el,t.html.blockTagsQuery()).get(0)||t.$el.get(0);a=((a+o)/e(s).outerWidth()*100).toFixed(2),t.opts.imageRoundPercent&&(a=Math.round(a)),me.css("width",a+"%"),me.css("height","").removeAttr("height")}else a+o>=t.opts.imageMinWidth&&me.css("width",a+o),me.css("height",ye.data("start-height")*me.width()/ye.data("start-width"));u(),t.events.trigger("image.resize",[pe()])}}function h(e){if(!t.core.sameInstance(ve))return!0;if(ye&&me){if(e&&e.stopPropagation(),t.$el.find("img.fr-error").left)return!1;ye=null,be.hide(),u(),i(),t.undo.saveStep(),t.events.trigger("image.resizeEnd",[pe()])}}function p(e,n){t.edit.on(),me&&me.addClass("fr-error"),b(t.language.translate("Something went wrong. Please try again.")),t.events.trigger("image.error",[{code:e,message:ke[e]},n])}function g(e){if(e)return t.$wp&&t.events.$on(t.$wp,"scroll",function(){me&&t.popups.isVisible("image.edit")&&i()}),!0;var n="";t.opts.imageEditButtons.length>0&&(n+='<div class="fr-buttons">',n+=t.button.buildList(t.opts.imageEditButtons),n+="</div>");var r={buttons:n},o=t.popups.create("image.edit",r);return o}function m(n){var r=t.popups.get("image.insert");if(r||(r=L()),r.find(".fr-layer.fr-active").removeClass("fr-active").addClass("fr-pactive"),r.find(".fr-image-progress-bar-layer").addClass("fr-active"),r.find(".fr-buttons").hide(),me){t.popups.setContainer("image.insert",e(t.opts.scrollableContainer));var i=me.offset().left+me.width()/2,o=me.offset().top+me.height();t.popups.show("image.insert",i,o,me.outerHeight())}"undefined"==typeof n&&y("Uploading",0)}function v(e){var n=t.popups.get("image.insert");n&&(n.find(".fr-layer.fr-pactive").addClass("fr-active").removeClass("fr-pactive"),n.find(".fr-image-progress-bar-layer").removeClass("fr-active"),n.find(".fr-buttons").show(),(e||t.$el.find("img.fr-error").length)&&(t.events.focus(),t.$el.find("img.fr-error").remove(),t.undo.saveStep(),t.undo.run(),t.undo.dropRedo()))}function y(e,n){var r=t.popups.get("image.insert");if(r){var i=r.find(".fr-image-progress-bar-layer");i.find("h3").text(e+(n?" "+n+"%":"")),i.removeClass("fr-error"),n?(i.find("div").removeClass("fr-indeterminate"),i.find("div > span").css("width",n+"%")):i.find("div").addClass("fr-indeterminate")}}function b(e){m();var n=t.popups.get("image.insert"),r=n.find(".fr-image-progress-bar-layer");r.addClass("fr-error"),r.find("h3").text(e)}function $(){var e=t.popups.get("image.insert"),n=e.find(".fr-image-by-url-layer input");n.val().length>0&&(m(),y("Loading image"),S(n.val(),!0,[],me),n.val(""),n.blur())}function E(e){te.call(e.get(0))}function w(){var n=e(this);t.popups.hide("image.insert"),n.removeClass("fr-uploading"),n.next().is("br")&&n.next().remove(),E(n),t.events.trigger("image.loaded",[n])}function S(e,n,r,i,o){t.edit.off(),y("Loading image"),n&&(e=t.helpers.sanitizeURL(e));var a=new Image;a.onload=function(){var n,a;if(i){var s=i.data("fr-old-src");t.$wp?(n=i.clone().removeData("fr-old-src").removeClass("fr-uploading"),n.off("load"),s&&i.attr("src",s),i.replaceWith(n)):n=i;for(var u=n.get(0).attributes,c=0;c<u.length;c++){var d=u[c];0===d.nodeName.indexOf("data-")&&n.removeAttr(d.nodeName)}if("undefined"!=typeof r)for(a in r)r.hasOwnProperty(a)&&"link"!=a&&n.attr("data-"+a,r[a]);n.on("load",w),n.attr("src",e),t.edit.on(),l(),t.undo.saveStep(),t.events.trigger(s?"image.replaced":"image.inserted",[n,o])}else n=N(e,r,w),l(),t.undo.saveStep(),t.events.trigger("image.inserted",[n,o])},a.onerror=function(){p(Ee)},a.src=e}function x(n){try{if(t.events.trigger("image.uploaded",[n],!0)===!1)return t.edit.on(),!1;var r=e.parseJSON(n);return r.link?r:(p(we,n),!1)}catch(i){return p(xe,n),!1}}function C(n){try{var r=e(n).find("Location").text(),i=e(n).find("Key").text();return t.events.trigger("image.uploadedToS3",[r,i,n],!0)===!1?(t.edit.on(),!1):r}catch(o){return p(xe,n),!1}}function T(e){y("Loading image");var n=this.status,r=this.response,i=this.responseXML,o=this.responseText;try{if(t.opts.imageUploadToS3)if(201==n){var a=C(i);a&&S(a,!1,[],e,r||i)}else p(xe,r||i);else if(n>=200&&300>n){var s=x(o);s&&S(s.link,!1,s,e,r||o)}else p(Se,r||o)}catch(l){p(xe,r||o)}}function D(){p(xe,this.response||this.responseText||this.responseXML)}function k(e){if(e.lengthComputable){var t=e.loaded/e.total*100|0;y("Uploading",t)}}function N(n,r,i){var o,a="";if(r&&"undefined"!=typeof r)for(o in r)r.hasOwnProperty(o)&&"link"!=o&&(a+=" data-"+o+'="'+r[o]+'"');var s=t.opts.imageDefaultWidth;s&&"auto"!=s&&(s+=t.opts.imageResizeWithPercent?"%":"px");var l=e('<img class="'+(t.opts.imageDefaultDisplay?"fr-di"+t.opts.imageDefaultDisplay[0]:"")+(t.opts.imageDefaultAlign&&"center"!=t.opts.imageDefaultAlign?" fr-fi"+t.opts.imageDefaultAlign[0]:"")+'" src="'+n+'"'+a+(s?' style="width: '+s+';"':"")+">");
l.on("load",i),t.edit.on(),t.events.focus(!0),t.selection.restore(),t.undo.saveStep(),t.opts.imageSplitHTML?t.markers.split():t.markers.insert();var u=t.$el.find(".fr-marker");return u.replaceWith(l),t.html.wrap(),t.selection.clear(),l}function _(){t.edit.on(),v(!0)}function A(n,r,i){function o(){var i=e(this);i.off("load"),i.addClass("fr-uploading"),i.next().is("br")&&i.next().remove(),t.placeholder.refresh(),i.is(me)||E(i),u(),m(),t.edit.off(),n.onload=function(){T.call(n,i)},n.onerror=D,n.upload.onprogress=k,n.onabort=_,i.off("abortUpload").on("abortUpload",function(){4!=n.readyState&&n.abort()}),n.send(r)}var a,s=new FileReader;s.addEventListener("load",function(){var e=s.result;if(s.result.indexOf("svg+xml")<0){for(var n=atob(s.result.split(",")[1]),r=[],i=0;i<n.length;i++)r.push(n.charCodeAt(i));e=window.URL.createObjectURL(new Blob([new Uint8Array(r)],{type:"image/jpeg"}))}me?(me.on("load",o),t.edit.on(),t.undo.saveStep(),me.data("fr-old-src",me.attr("src")),me.attr("src",e)):a=N(e,null,o)},!1),s.readAsDataURL(i)}function M(e){if(t.events.trigger("image.beforeUpload",[e])===!1)return!1;if("undefined"!=typeof e&&e.length>0){var n=e[0];if(n.size>t.opts.imageMaxSize)return p(Ce),!1;if(t.opts.imageAllowedTypes.indexOf(n.type.replace(/image\//g,""))<0)return p(Te),!1;var r;if(t.drag_support.formdata&&(r=t.drag_support.formdata?new FormData:null),r){var i;if(t.opts.imageUploadToS3!==!1){r.append("key",t.opts.imageUploadToS3.keyStart+(new Date).getTime()+"-"+(n.name||"untitled")),r.append("success_action_status","201"),r.append("X-Requested-With","xhr"),r.append("Content-Type",n.type);for(i in t.opts.imageUploadToS3.params)t.opts.imageUploadToS3.params.hasOwnProperty(i)&&r.append(i,t.opts.imageUploadToS3.params[i])}for(i in t.opts.imageUploadParams)t.opts.imageUploadParams.hasOwnProperty(i)&&r.append(i,t.opts.imageUploadParams[i]);r.append(t.opts.imageUploadParam,n);var o=t.opts.imageUploadURL;t.opts.imageUploadToS3&&(o="https://"+t.opts.imageUploadToS3.region+".amazonaws.com/"+t.opts.imageUploadToS3.bucket);var a=t.core.getXHR(o,t.opts.imageUploadMethod);A(a,r,n)}}}function O(n){t.events.$on(n,"dragover dragenter",".fr-image-upload-layer",function(){return e(this).addClass("fr-drop"),!1}),t.events.$on(n,"dragleave dragend",".fr-image-upload-layer",function(){return e(this).removeClass("fr-drop"),!1}),t.events.$on(n,"drop",".fr-image-upload-layer",function(r){r.preventDefault(),r.stopPropagation(),e(this).removeClass("fr-drop");var i=r.originalEvent.dataTransfer;if(i&&i.files){var o=n.data("instance")||t;o.events.disableBlur(),o.image.upload(i.files),o.events.enableBlur()}}),t.events.$on(n,"change",'.fr-image-upload-layer input[type="file"]',function(){if(this.files){var r=n.data("instance")||t;r.events.disableBlur(),n.find("input:focus").blur(),r.events.enableBlur(),r.image.upload(this.files)}e(this).val("")})}function F(n){var r=n.originalEvent.dataTransfer;if(r&&r.files&&r.files.length){var i=r.files[0];if(i&&i.type&&t.opts.imageAllowedTypes.indexOf(i.type.replace(/image\//g,""))>=0){t.markers.remove(),t.markers.insertAtPoint(n.originalEvent),t.$el.find(".fr-marker").replaceWith(e.FE.MARKERS),t.popups.hideAll();var o=t.popups.get("image.insert");return o||(o=L()),t.popups.setContainer("image.insert",e(t.opts.scrollableContainer)),t.popups.show("image.insert",n.originalEvent.pageX,n.originalEvent.pageY),m(),M(r.files),n.preventDefault(),n.stopPropagation(),!1}}}function R(){var n,r,i=t.selection.ranges(0);i.collapsed&&i.startContainer.nodeType==Node.ELEMENT_NODE&&(i.startContainer.childNodes.length==i.startOffset?(n=i.startContainer.childNodes[i.startOffset-1],n&&"IMG"==n.tagName&&"block"==e(n).css("display")&&(r=t.node.blockParent(n),r&&t.html.defaultTag()?r.nextSibling||(["TD","TH"].indexOf(r.tagName)<0?e(r).after("<"+t.html.defaultTag()+"><br>"+e.FE.MARKERS+"</"+t.html.defaultTag()+">"):e(img).after("<br>"+e.FE.MARKERS),t.selection.restore()):r||(e(n).after("<br>"+e.FE.MARKERS),t.selection.restore()))):0===i.startOffset&&i.startContainer.childNodes.length>i.startOffset&&(n=i.startContainer.childNodes[i.startOffset],n&&"IMG"==n.tagName&&"block"==e(n).css("display")&&(r=t.node.blockParent(n),r&&t.html.defaultTag()?r.previousSibling||(["TD","TH"].indexOf(r.tagName)<0?e(r).before("<"+t.html.defaultTag()+"><br>"+e.FE.MARKERS+"</"+t.html.defaultTag()+">"):e(img).before("<br>"+e.FE.MARKERS),t.selection.restore()):r||(e(n).before(e.FE.MARKERS+"<br>"),t.selection.restore()))))}function I(){t.events.$on(t.$el,t._mousedown,"IMG"==t.$el.get(0).tagName?null:'img:not([contenteditable="false"])',function(n){return!!e(this).parents('[contenteditable="false"]:not(.fr-element):not(body)').length||(t.selection.clear(),$e=!0,t.browser.msie&&(t.events.disableBlur(),t.$el.attr("contenteditable",!1)),t.draggable||n.preventDefault(),void n.stopPropagation())}),t.events.$on(t.$el,t._mouseup,"IMG"==t.$el.get(0).tagName?null:'img:not([contenteditable="false"])',function(n){return!!e(this).parents('[contenteditable="false"]:not(.fr-element):not(body)').length||void($e&&($e=!1,n.stopPropagation(),t.browser.msie&&(t.$el.attr("contenteditable",!0),t.events.enableBlur())))}),t.events.on("keyup",function(n){if(n.shiftKey&&""===t.selection.text().replace(/\n/g,"")){var r=t.selection.element(),i=t.selection.endElement();r&&"IMG"==r.tagName?E(e(r)):i&&"IMG"==i.tagName&&E(e(i))}},!0),t.events.on("drop",F),t.events.on("mousedown window.mousedown",re),t.events.on("window.touchmove",ie),t.events.on("mouseup window.mouseup",function(){return me?(ne(),!1):void 0}),t.events.on("commands.mousedown",function(e){e.parents(".fr-toolbar").length>0&&ne()}),t.events.on("mouseup",R),t.events.on("blur image.hideResizer commands.undo commands.redo element.dropped",function(){$e=!1,ne(!0)})}function L(e){if(e)return t.popups.onRefresh("image.insert",n),t.popups.onHide("image.insert",o),!0;var r,i="";t.opts.imageInsertButtons.length>1&&(i='<div class="fr-buttons">'+t.button.buildList(t.opts.imageInsertButtons)+"</div>");var a=t.opts.imageInsertButtons.indexOf("imageUpload"),s=t.opts.imageInsertButtons.indexOf("imageByURL"),l="";a>=0&&(r=" fr-active",s>=0&&a>s&&(r=""),l='<div class="fr-image-upload-layer'+r+' fr-layer" id="fr-image-upload-layer-'+t.id+'"><strong>'+t.language.translate("Drop image")+"</strong><br>("+t.language.translate("or click")+')<div class="fr-form"><input type="file" accept="image/'+t.opts.imageAllowedTypes.join(", image/").toLowerCase()+'" tabIndex="-1"></div></div>');var u="";s>=0&&(r=" fr-active",a>=0&&s>a&&(r=""),u='<div class="fr-image-by-url-layer'+r+' fr-layer" id="fr-image-by-url-layer-'+t.id+'"><div class="fr-input-line"><input type="text" placeholder="http://" tabIndex="1"></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="imageInsertByURL" tabIndex="2">'+t.language.translate("Insert")+"</button></div></div>");var c='<div class="fr-image-progress-bar-layer fr-layer"><h3 class="fr-message">Uploading</h3><div class="fr-loader"><span class="fr-progress"></span></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-back" data-cmd="imageDismissError" tabIndex="2">OK</button></div></div>',d={buttons:i,upload_layer:l,by_url_layer:u,progress_bar:c},f=t.popups.create("image.insert",d);return t.$wp&&t.events.$on(t.$wp,"scroll",function(){me&&t.popups.isVisible("image.insert")&&de()}),O(f),f}function P(){if(me){var e=t.popups.get("image.alt");e.find("input").val(me.attr("alt")||"").trigger("change")}}function H(){var n=t.popups.get("image.alt");n||(n=B()),v(),t.popups.refresh("image.alt"),t.popups.setContainer("image.alt",e(t.opts.scrollableContainer));var r=me.offset().left+me.width()/2,i=me.offset().top+me.height();t.popups.show("image.alt",r,i,me.outerHeight())}function B(e){if(e)return t.popups.onRefresh("image.alt",P),!0;var n="";n='<div class="fr-buttons">'+t.button.buildList(t.opts.imageAltButtons)+"</div>";var r="";r='<div class="fr-image-alt-layer fr-layer fr-active" id="fr-image-alt-layer-'+t.id+'"><div class="fr-input-line"><input type="text" placeholder="'+t.language.translate("Alternate Text")+'" tabIndex="1"></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="imageSetAlt" tabIndex="2">'+t.language.translate("Update")+"</button></div></div>";var i={buttons:n,alt_layer:r},o=t.popups.create("image.alt",i);return t.$wp&&t.events.$on(t.$wp,"scroll.image-alt",function(){me&&t.popups.isVisible("image.alt")&&H()}),o}function U(e){if(me){var n=t.popups.get("image.alt");me.attr("alt",e||n.find("input").val()||""),n.find("input:focus").blur(),E(me)}}function j(){if(me){var e=t.popups.get("image.size");e.find('input[name="width"]').val(me.get(0).style.width).trigger("change"),e.find('input[name="height"]').val(me.get(0).style.height).trigger("change")}}function z(){var n=t.popups.get("image.size");n||(n=V()),v(),t.popups.refresh("image.size"),t.popups.setContainer("image.size",e(t.opts.scrollableContainer));var r=me.offset().left+me.width()/2,i=me.offset().top+me.height();t.popups.show("image.size",r,i,me.outerHeight())}function V(e){if(e)return t.popups.onRefresh("image.size",j),!0;var n="";n='<div class="fr-buttons">'+t.button.buildList(t.opts.imageSizeButtons)+"</div>";var r="";r='<div class="fr-image-size-layer fr-layer fr-active" id="fr-image-size-layer-'+t.id+'"><div class="fr-image-group"><div class="fr-input-line"><input type="text" name="width" placeholder="'+t.language.translate("Width")+'" tabIndex="1"></div><div class="fr-input-line"><input type="text" name="height" placeholder="'+t.language.translate("Height")+'" tabIndex="1"></div></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="imageSetSize" tabIndex="2">'+t.language.translate("Update")+"</button></div></div>";var i={buttons:n,size_layer:r},o=t.popups.create("image.size",i);return t.$wp&&t.events.$on(t.$wp,"scroll.image-size",function(){me&&t.popups.isVisible("image.size")&&z()}),o}function W(e,n){if(me){var r=t.popups.get("image.size");me.css("width",e||r.find('input[name="width"]').val()),me.css("height",n||r.find('input[name="height"]').val()),r.find("input:focus").blur(),E(me)}}function q(e){var n,r,i=t.popups.get("image.insert");if(me||t.opts.toolbarInline)me&&(r=me.offset().top+me.outerHeight());else{var o=t.$tb.find('.fr-command[data-cmd="insertImage"]');n=o.offset().left+o.outerWidth()/2,r=o.offset().top+(t.opts.toolbarBottom?10:o.outerHeight()-10)}!me&&t.opts.toolbarInline&&(r=i.offset().top-t.helpers.getPX(i.css("margin-top")),i.hasClass("fr-above")&&(r+=i.outerHeight())),i.find(".fr-layer").removeClass("fr-active"),i.find(".fr-"+e+"-layer").addClass("fr-active"),t.popups.show("image.insert",n,r,me?me.outerHeight():0)}function Y(e){var n=t.popups.get("image.insert");n.find(".fr-image-upload-layer").hasClass("fr-active")&&e.addClass("fr-active")}function G(e){var n=t.popups.get("image.insert");n.find(".fr-image-by-url-layer").hasClass("fr-active")&&e.addClass("fr-active")}function K(){var n;t.shared.$image_resizer?(ve=t.shared.$image_resizer,be=t.shared.$img_overlay,t.events.on("destroy",function(){ve.removeClass("fr-active").appendTo(e("body"))},!0)):(t.shared.$image_resizer=e('<div class="fr-image-resizer"></div>'),ve=t.shared.$image_resizer,t.events.$on(ve,"mousedown",function(e){e.stopPropagation()},!0),t.opts.imageResize&&(ve.append(c("nw")+c("ne")+c("sw")+c("se")),t.shared.$img_overlay=e('<div class="fr-image-overlay"></div>'),be=t.shared.$img_overlay,n=ve.get(0).ownerDocument,e(n).find("body").append(be))),t.events.on("shared.destroy",function(){ve.html("").removeData().remove(),ve=null,t.opts.imageResize&&(be.remove(),be=null)},!0),t.helpers.isMobile()||t.events.$on(e(t.o_win),"resize",function(){me&&!me.hasClass("fr-uploading")?ne(!0):me&&(u(),de(),m(!1))}),t.opts.imageResize&&(n=ve.get(0).ownerDocument,t.events.$on(ve,t._mousedown,".fr-handler",d),t.events.$on(e(n),t._mousemove,f),t.events.$on(e(n.defaultView||n.parentWindow),t._mouseup,h),t.events.$on(be,"mouseleave",h))}function X(n){n=n||me,n&&t.events.trigger("image.beforeRemove",[n])!==!1&&(t.popups.hideAll(),ne(!0),n.get(0)==t.$el.get(0)?n.removeAttr("src"):("A"==n.get(0).parentNode.tagName?(t.selection.setBefore(n.get(0).parentNode)||t.selection.setAfter(n.get(0).parentNode)||n.parent().after(e.FE.MARKERS),e(n.get(0).parentNode).remove()):(t.selection.setBefore(n.get(0))||t.selection.setAfter(n.get(0))||n.after(e.FE.MARKERS),n.remove()),t.html.fillEmptyBlocks(),t.selection.restore()),t.undo.saveStep())}function Z(){if(I(),"IMG"==t.$el.get(0).tagName&&t.$el.addClass("fr-view"),t.events.$on(t.$el,t.helpers.isMobile()&&!t.helpers.isWindowsPhone()?"touchend":"click","IMG"==t.$el.get(0).tagName?null:'img:not([contenteditable="false"])',te),t.helpers.isMobile()&&(t.events.$on(t.$el,"touchstart","IMG"==t.$el.get(0).tagName?null:'img:not([contenteditable="false"])',function(){_e=!1}),t.events.$on(t.$el,"touchmove",function(){_e=!0})),t.events.on("window.keydown keydown",function(n){var r=n.which;if(me&&(r==e.FE.KEYCODE.BACKSPACE||r==e.FE.KEYCODE.DELETE))return n.preventDefault(),n.stopPropagation(),X(),!1;if(me&&r==e.FE.KEYCODE.ESC){var i=me;return ne(!0),t.selection.setAfter(i.get(0)),t.selection.restore(),n.preventDefault(),!1}return me&&!t.keys.ctrlKey(n)?(n.preventDefault(),!1):void 0},!0),t.events.on("window.cut window.copy",function(n){me&&(fe(),e.FE.copied_text="\n",e.FE.copied_html=me.get(0).outerHTML,"copy"==n.type?setTimeout(function(){E(me)}):(ne(!0),t.undo.saveStep(),setTimeout(function(){t.undo.saveStep()},0)))},!0),t.events.$on(e(t.o_win),"keydown",function(t){var n=t.which;return me&&n==e.FE.KEYCODE.BACKSPACE?(t.preventDefault(),!1):void 0}),t.events.$on(t.$win,"keydown",function(t){var n=t.which;me&&me.hasClass("fr-uploading")&&n==e.FE.KEYCODE.ESC&&me.trigger("abortUpload")}),t.events.on("destroy",function(){me&&me.hasClass("fr-uploading")&&me.trigger("abortUpload")}),t.events.on("paste.before",J),t.events.on("paste.beforeCleanup",ee),t.events.on("paste.after",Q),t.events.on("html.set",s),t.events.on("html.inserted",s),s(),t.events.on("destroy",function(){Ne=[]}),t.events.on("html.get",function(e){return e=e.replace(/<(img)((?:[\w\W]*?))class="([\w\W]*?)(fr-uploading|fr-error)([\w\W]*?)"((?:[\w\W]*?))>/g,"")}),t.opts.imageOutputSize){var n;t.events.on("html.beforeGet",function(){n=t.$el.get(0).querySelectorAll("img");for(var r=0;r<n.length;r++)n[r].setAttribute("width",e(n[r]).width()),n[r].setAttribute("height",e(n[r]).height())}),t.events.on("html.afterGet",function(){for(var e=0;e<n.length;e++)n[e].removeAttribute("width"),n[e].removeAttribute("height")})}t.opts.iframe&&t.events.on("image.loaded",t.size.syncIframe),t.$wp&&(l(),t.events.on("contentChanged",l)),t.events.$on(e(t.o_win),"orientationchange.image",function(){setTimeout(function(){var e=pe();e&&E(e)},0)}),g(!0),L(!0),V(!0),B(!0),t.events.on("node.remove",function(e){return"IMG"==e.get(0).tagName?(X(e),!1):void 0})}function Q(){t.opts.imagePaste?t.$el.find("img[data-fr-image-pasted]").each(function(n,r){if(t.opts.imagePasteProcess){var o=t.opts.imageDefaultWidth;o&&"auto"!=o&&(o+=t.opts.imageResizeWithPercent?"%":"px"),e(r).css("width",o),e(r).removeClass("fr-dii fr-dib fr-fir fr-fil").addClass((t.opts.imageDefaultDisplay?"fr-di"+t.opts.imageDefaultDisplay[0]:"")+(t.opts.imageDefaultAlign&&"center"!=t.opts.imageDefaultAlign?" fr-fi"+t.opts.imageDefaultAlign[0]:""))}if(0===r.src.indexOf("data:")){if(t.events.trigger("image.beforePasteUpload",[r])===!1)return!1;me=e(r),u(),i(),de(),m(),t.edit.off();for(var a=atob(e(r).attr("src").split(",")[1]),s=[],l=0;l<a.length;l++)s.push(a.charCodeAt(l));var c=new Blob([new Uint8Array(s)],{type:"image/jpeg"});M([c]),e(r).removeAttr("data-fr-image-pasted")}else 0!==r.src.indexOf("http")?(t.selection.save(),e(r).remove(),t.selection.restore()):e(r).removeAttr("data-fr-image-pasted")}):t.$el.find("img[data-fr-image-pasted]").remove()}function J(e){if(e&&e.clipboardData&&e.clipboardData.items&&e.clipboardData.items[0]){var n=e.clipboardData.items[0].getAsFile();if(n){var r=new FileReader;return r.onload=function(e){var n=e.target.result,r=t.opts.imageDefaultWidth;r&&"auto"!=r&&(r+=t.opts.imageResizeWithPercent?"%":"px"),t.html.insert('<img data-fr-image-pasted="true" class="'+(t.opts.imageDefaultDisplay?"fr-di"+t.opts.imageDefaultDisplay[0]:"")+(t.opts.imageDefaultAlign&&"center"!=t.opts.imageDefaultAlign?" fr-fi"+t.opts.imageDefaultAlign[0]:"")+'" src="'+n+'"'+(r?' style="width: '+r+';"':"")+">"),t.events.trigger("paste.after")},r.readAsDataURL(n),!1}}}function ee(e){return e=e.replace(/<img /gi,'<img data-fr-image-pasted="true" ')}function te(n){if(e(this).parents('[contenteditable="false"]:not(.fr-element):not(body)').length)return!0;if(n&&"touchend"==n.type&&_e)return!0;if(n&&t.edit.isDisabled())return n.stopPropagation(),n.preventDefault(),!1;for(var r=0;r<e.FE.INSTANCES.length;r++)e.FE.INSTANCES[r]!=t&&e.FE.INSTANCES[r].events.trigger("image.hideResizer");t.toolbar.disable(),n&&(n.stopPropagation(),n.preventDefault()),t.helpers.isMobile()&&(t.events.disableBlur(),t.$el.blur(),t.events.enableBlur()),t.opts.iframe&&t.size.syncIframe(),me=e(this),fe(),u(),i(),t.selection.clear(),t.button.bulkRefresh(),t.events.trigger("video.hideResizer")}function ne(e){me&&(oe()||e===!0)&&(t.toolbar.enable(),ve.removeClass("fr-active"),t.popups.hide("image.edit"),me=null,ie())}function re(){Ae=!0}function ie(){Ae=!1}function oe(){return Ae}function ae(e){me.removeClass("fr-fir fr-fil"),"left"==e?me.addClass("fr-fil"):"right"==e&&me.addClass("fr-fir"),u(),i()}function se(e){me&&(me.hasClass("fr-fil")?e.find("> *:first").replaceWith(t.icon.create("align-left")):me.hasClass("fr-fir")?e.find("> *:first").replaceWith(t.icon.create("align-right")):e.find("> *:first").replaceWith(t.icon.create("align-justify")))}function le(e,t){if(me){var n="justify";me.hasClass("fr-fil")?n="left":me.hasClass("fr-fir")&&(n="right"),t.find('.fr-command[data-param1="'+n+'"]').addClass("fr-active")}}function ue(e){me.removeClass("fr-dii fr-dib"),"inline"==e?me.addClass("fr-dii"):"block"==e&&me.addClass("fr-dib"),u(),i()}function ce(e,t){var n="block";me.hasClass("fr-dii")&&(n="inline"),t.find('.fr-command[data-param1="'+n+'"]').addClass("fr-active")}function de(){var n=t.popups.get("image.insert");n||(n=L()),t.popups.isVisible("image.insert")||(v(),t.popups.refresh("image.insert"),t.popups.setContainer("image.insert",e(t.opts.scrollableContainer)));var r=me.offset().left+me.width()/2,i=me.offset().top+me.height();t.popups.show("image.insert",r,i,me.outerHeight())}function fe(){if(me){t.selection.clear();var e=t.doc.createRange();e.selectNode(me.get(0));var n=t.selection.get();n.addRange(e)}}function he(){me?(e(".fr-popup input:focus").blur(),E(me)):(t.events.disableBlur(),t.selection.restore(),t.events.enableBlur(),t.popups.hide("image.insert"),t.toolbar.showInline())}function pe(){return me}function ge(e,n,r){if("undefined"==typeof n&&(n=t.opts.imageStyles),"undefined"==typeof r&&(r=t.opts.imageMultipleStyles),!me)return!1;if(!r){var i=Object.keys(n);i.splice(i.indexOf(e),1),me.removeClass(i.join(" "))}me.toggleClass(e),E(me)}var me,ve,ye,be,$e=!1,Ee=1,we=2,Se=3,xe=4,Ce=5,Te=6,De=7,ke={};ke[Ee]="Image cannot be loaded from the passed link.",ke[we]="No link in upload response.",ke[Se]="Error during file upload.",ke[xe]="Parsing response failed.",ke[Ce]="File is too large.",ke[Te]="Image file type is invalid.",ke[De]="Files can be uploaded only to same domain in IE 8 and IE 9.";var Ne,_e,Ae=!1;return{_init:Z,showInsertPopup:r,showLayer:q,refreshUploadButton:Y,refreshByURLButton:G,upload:M,insertByURL:$,align:ae,refreshAlign:se,refreshAlignOnShow:le,display:ue,refreshDisplayOnShow:ce,replace:de,back:he,get:pe,insert:S,showProgressBar:m,remove:X,hideProgressBar:v,applyStyle:ge,showAltPopup:H,showSizePopup:z,setAlt:U,setSize:W,exitEdit:ne,edit:E}},e.FE.DefineIcon("insertImage",{NAME:"image"}),e.FE.RegisterShortcut(e.FE.KEYCODE.P,"insertImage",null,"P"),e.FE.RegisterCommand("insertImage",{title:"Insert Image",undo:!1,focus:!0,refreshAfterCallback:!1,popup:!0,callback:function(){this.popups.isVisible("image.insert")?(this.$el.find(".fr-marker")&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("image.insert")):this.image.showInsertPopup()},plugin:"image"}),e.FE.DefineIcon("imageUpload",{NAME:"upload"}),e.FE.RegisterCommand("imageUpload",{title:"Upload Image",undo:!1,focus:!1,callback:function(){this.image.showLayer("image-upload")},refresh:function(e){this.image.refreshUploadButton(e)}}),e.FE.DefineIcon("imageByURL",{NAME:"link"}),e.FE.RegisterCommand("imageByURL",{title:"By URL",undo:!1,focus:!1,callback:function(){this.image.showLayer("image-by-url")},refresh:function(e){this.image.refreshByURLButton(e)}}),e.FE.RegisterCommand("imageInsertByURL",{title:"Insert Image",undo:!0,refreshAfterCallback:!1,callback:function(){this.image.insertByURL()},refresh:function(e){var t=this.image.get();t?e.text(this.language.translate("Replace")):e.text(this.language.translate("Insert"))}}),e.FE.DefineIcon("imageDisplay",{NAME:"star"}),e.FE.RegisterCommand("imageDisplay",{title:"Display",type:"dropdown",options:{inline:"Inline",block:"Break Text"},callback:function(e,t){this.image.display(t)},refresh:function(e){this.opts.imageTextNear||e.addClass("fr-hidden")},refreshOnShow:function(e,t){this.image.refreshDisplayOnShow(e,t)}}),e.FE.ICONS.align||(e.FE.DefineIcon("align",{NAME:"align-left"}),e.FE.DefineIcon("align-left",{NAME:"align-left"}),e.FE.DefineIcon("align-right",{NAME:"align-right"}),e.FE.DefineIcon("align-center",{NAME:"align-center"}),e.FE.DefineIcon("align-justify",{NAME:"align-justify"})),e.FE.DefineIcon("imageAlign",{NAME:"align-center"}),e.FE.RegisterCommand("imageAlign",{type:"dropdown",title:"Align",options:{left:"Align Left",justify:"None",right:"Align Right"},html:function(){var t='<ul class="fr-dropdown-list">',n=e.FE.COMMANDS.imageAlign.options;for(var r in n)n.hasOwnProperty(r)&&(t+='<li><a class="fr-command fr-title" data-cmd="imageAlign" data-param1="'+r+'" title="'+this.language.translate(n[r])+'">'+this.icon.create("align-"+r)+"</a></li>");return t+="</ul>"},callback:function(e,t){this.image.align(t)},refresh:function(e){this.image.refreshAlign(e)},refreshOnShow:function(e,t){this.image.refreshAlignOnShow(e,t)}}),e.FE.DefineIcon("imageReplace",{NAME:"exchange"}),e.FE.RegisterCommand("imageReplace",{title:"Replace",undo:!1,focus:!1,refreshAfterCallback:!1,callback:function(){this.image.replace()}}),e.FE.DefineIcon("imageRemove",{NAME:"trash"}),e.FE.RegisterCommand("imageRemove",{title:"Remove",callback:function(){this.image.remove()}}),e.FE.DefineIcon("imageBack",{NAME:"arrow-left"}),e.FE.RegisterCommand("imageBack",{title:"Back",undo:!1,focus:!1,back:!0,callback:function(){this.image.back()},refresh:function(e){var t=this.image.get();t||this.opts.toolbarInline?(e.removeClass("fr-hidden"),e.next(".fr-separator").removeClass("fr-hidden")):(e.addClass("fr-hidden"),e.next(".fr-separator").addClass("fr-hidden"))}}),e.FE.RegisterCommand("imageDismissError",{title:"OK",undo:!1,callback:function(){this.image.hideProgressBar(!0)}}),e.FE.DefineIcon("imageStyle",{NAME:"magic"}),e.FE.RegisterCommand("imageStyle",{title:"Style",type:"dropdown",html:function(){var e='<ul class="fr-dropdown-list">',t=this.opts.imageStyles;for(var n in t)t.hasOwnProperty(n)&&(e+='<li><a class="fr-command" data-cmd="imageStyle" data-param1="'+n+'">'+this.language.translate(t[n])+"</a></li>");return e+="</ul>"},callback:function(e,t){this.image.applyStyle(t)},refreshOnShow:function(t,n){var r=this.image.get();r&&n.find(".fr-command").each(function(){var t=e(this).data("param1");e(this).toggleClass("fr-active",r.hasClass(t))})}}),e.FE.DefineIcon("imageAlt",{NAME:"info"}),e.FE.RegisterCommand("imageAlt",{undo:!1,focus:!1,title:"Alternate Text",callback:function(){this.image.showAltPopup()}}),e.FE.RegisterCommand("imageSetAlt",{undo:!0,focus:!1,title:"Update",refreshAfterCallback:!1,callback:function(){this.image.setAlt()}}),e.FE.DefineIcon("imageSize",{NAME:"arrows-alt"}),e.FE.RegisterCommand("imageSize",{undo:!1,focus:!1,title:"Change Size",callback:function(){this.image.showSizePopup()}}),e.FE.RegisterCommand("imageSetSize",{undo:!0,focus:!1,title:"Update",refreshAfterCallback:!1,callback:function(){this.image.setSize()}})}),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=function(t,n){return void 0===n&&(n="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(n),n}:e(jQuery)}(function(e){"use strict";e.extend(e.FE.POPUP_TEMPLATES,{"colors.picker":"[_BUTTONS_][_TEXT_COLORS_][_BACKGROUND_COLORS_]"}),e.extend(e.FE.DEFAULTS,{colorsText:["#61BD6D","#1ABC9C","#54ACD2","#2C82C9","#9365B8","#475577","#CCCCCC","#41A85F","#00A885","#3D8EB9","#2969B0","#553982","#28324E","#000000","#F7DA64","#FBA026","#EB6B56","#E25041","#A38F84","#EFEFEF","#FFFFFF","#FAC51C","#F37934","#D14841","#B8312F","#7C706B","#D1D5D8","REMOVE"],colorsBackground:["#61BD6D","#1ABC9C","#54ACD2","#2C82C9","#9365B8","#475577","#CCCCCC","#41A85F","#00A885","#3D8EB9","#2969B0","#553982","#28324E","#000000","#F7DA64","#FBA026","#EB6B56","#E25041","#A38F84","#EFEFEF","#FFFFFF","#FAC51C","#F37934","#D14841","#B8312F","#7C706B","#D1D5D8","REMOVE"],colorsStep:7,colorsDefaultTab:"text",colorsButtons:["colorsBack","|","-"]}),e.FE.PLUGINS.colors=function(t){function n(){var e=t.$tb.find('.fr-command[data-cmd="color"]'),n=t.popups.get("colors.picker");if(n||(n=i()),!n.hasClass("fr-active"))if(t.popups.setContainer("colors.picker",t.$tb),s(n.find(".fr-selected-tab").attr("data-param1")),e.is(":visible")){var r=e.offset().left+e.outerWidth()/2,o=e.offset().top+(t.opts.toolbarBottom?10:e.outerHeight()-10);t.popups.show("colors.picker",r,o,e.outerHeight())}else t.position.forSelection(n),t.popups.show("colors.picker")}function r(){t.popups.hide("colors.picker")}function i(){var e='<div class="fr-buttons fr-colors-buttons">';t.opts.toolbarInline&&t.opts.colorsButtons.length>0&&(e+=t.button.buildList(t.opts.colorsButtons)),e+=o()+"</div>";var n={buttons:e,text_colors:a("text"),background_colors:a("background")},r=t.popups.create("colors.picker",n);return r}function o(){var e='<div class="fr-colors-tabs">';return e+='<span class="fr-colors-tab '+("background"==t.opts.colorsDefaultTab?"":"fr-selected-tab ")+'fr-command" data-param1="text" data-cmd="colorChangeSet" title="'+t.language.translate("Text")+'">'+t.language.translate("Text")+"</span>",e+='<span class="fr-colors-tab '+("background"==t.opts.colorsDefaultTab?"fr-selected-tab ":"")+'fr-command" data-param1="background" data-cmd="colorChangeSet" title="'+t.language.translate("Background")+'">'+t.language.translate("Background")+"</span>",e+"</div>"}function a(e){for(var n="text"==e?t.opts.colorsText:t.opts.colorsBackground,r='<div class="fr-color-set fr-'+e+"-color"+(t.opts.colorsDefaultTab==e||"text"!=t.opts.colorsDefaultTab&&"background"!=t.opts.colorsDefaultTab&&"text"==e?" fr-selected-set":"")+'">',i=0;i<n.length;i++)0!==i&&i%t.opts.colorsStep===0&&(r+="<br>"),r+="REMOVE"!=n[i]?'<span class="fr-command fr-select-color" style="background: '+n[i]+';" data-cmd="'+e+'Color" data-param1="'+n[i]+'"></span>':'<span class="fr-command fr-select-color" data-cmd="'+e+'Color" data-param1="REMOVE" title="'+t.language.translate("Clear Formatting")+'">'+t.icon.create("remove")+"</span>";return r+"</div>"}function s(n){var r,i=t.popups.get("colors.picker"),o=e(t.selection.element());for(r="background"==n?"background-color":"color",i.find(".fr-"+n+"-color .fr-select-color").removeClass("fr-selected-color");o.get(0)!=t.$el.get(0);){if("transparent"!=o.css(r)&&"rgba(0, 0, 0, 0)"!=o.css(r)){i.find(".fr-"+n+'-color .fr-select-color[data-param1="'+t.helpers.RGBToHex(o.css(r))+'"]').addClass("fr-selected-color");break}o=o.parent()}}function l(e,t){e.hasClass("fr-selected-tab")||(e.siblings().removeClass("fr-selected-tab"),e.addClass("fr-selected-tab"),e.parents(".fr-popup").find(".fr-color-set").removeClass("fr-selected-set"),e.parents(".fr-popup").find(".fr-color-set.fr-"+t+"-color").addClass("fr-selected-set"),s(t))}function u(e){"REMOVE"!=e?t.format.applyStyle("background-color",t.helpers.HEXtoRGB(e)):t.format.removeStyle("background-color"),r()}function c(e){"REMOVE"!=e?t.format.applyStyle("color",t.helpers.HEXtoRGB(e)):t.format.removeStyle("color"),r()}function d(){t.popups.hide("colors.picker"),t.toolbar.showInline()}return{showColorsPopup:n,hideColorsPopup:r,changeSet:l,background:u,text:c,back:d}},e.FE.DefineIcon("colors",{NAME:"tint"}),e.FE.RegisterCommand("color",{title:"Colors",undo:!1,focus:!0,refreshOnCallback:!1,popup:!0,callback:function(){this.popups.isVisible("colors.picker")?(this.$el.find(".fr-marker")&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("colors.picker")):this.colors.showColorsPopup()},plugin:"colors"}),e.FE.RegisterCommand("textColor",{undo:!0,callback:function(e,t){this.colors.text(t)}}),e.FE.RegisterCommand("backgroundColor",{undo:!0,callback:function(e,t){this.colors.background(t)}}),e.FE.RegisterCommand("colorChangeSet",{undo:!1,focus:!1,callback:function(e,t){var n=this.popups.get("colors.picker").find('.fr-command[data-cmd="'+e+'"][data-param1="'+t+'"]');this.colors.changeSet(n,t)}}),e.FE.DefineIcon("colorsBack",{NAME:"arrow-left"}),e.FE.RegisterCommand("colorsBack",{title:"Back",undo:!1,focus:!1,back:!0,refreshAfterCallback:!1,callback:function(){this.colors.back()}}),e.FE.DefineIcon("remove",{NAME:"eraser"})}),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=function(t,n){return void 0===n&&(n="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(n),n}:e(jQuery)}(function(e){"use strict";e.extend(e.FE.POPUP_TEMPLATES,{emoticons:"[_BUTTONS_][_EMOTICONS_]"}),e.extend(e.FE.DEFAULTS,{emoticonsStep:8,emoticonsSet:[{code:"1f600",desc:"Grinning face"},{code:"1f601",desc:"Grinning face with smiling eyes"},{code:"1f602",desc:"Face with tears of joy"},{code:"1f603",desc:"Smiling face with open mouth"},{code:"1f604",desc:"Smiling face with open mouth and smiling eyes"},{code:"1f605",desc:"Smiling face with open mouth and cold sweat"},{code:"1f606",desc:"Smiling face with open mouth and tightly-closed eyes"},{code:"1f607",desc:"Smiling face with halo"},{code:"1f608",desc:"Smiling face with horns"},{code:"1f609",desc:"Winking face"},{code:"1f60a",desc:"Smiling face with smiling eyes"},{code:"1f60b",desc:"Face savoring delicious food"},{code:"1f60c",desc:"Relieved face"},{code:"1f60d",desc:"Smiling face with heart-shaped eyes"},{code:"1f60e",desc:"Smiling face with sunglasses"},{code:"1f60f",desc:"Smirking face"},{code:"1f610",desc:"Neutral face"},{code:"1f611",desc:"Expressionless face"},{code:"1f612",desc:"Unamused face"},{code:"1f613",desc:"Face with cold sweat"},{code:"1f614",desc:"Pensive face"},{code:"1f615",desc:"Confused face"},{code:"1f616",desc:"Confounded face"},{code:"1f617",desc:"Kissing face"},{code:"1f618",desc:"Face throwing a kiss"},{code:"1f619",desc:"Kissing face with smiling eyes"},{code:"1f61a",desc:"Kissing face with closed eyes"},{code:"1f61b",desc:"Face with stuck out tongue"},{code:"1f61c",desc:"Face with stuck out tongue and winking eye"},{code:"1f61d",desc:"Face with stuck out tongue and tightly-closed eyes"},{code:"1f61e",desc:"Disappointed face"},{code:"1f61f",desc:"Worried face"},{code:"1f620",desc:"Angry face"},{code:"1f621",desc:"Pouting face"},{code:"1f622",desc:"Crying face"},{code:"1f623",desc:"Persevering face"},{code:"1f624",desc:"Face with look of triumph"},{code:"1f625",desc:"Disappointed but relieved face"},{code:"1f626",desc:"Frowning face with open mouth"},{code:"1f627",desc:"Anguished face"},{code:"1f628",desc:"Fearful face"},{code:"1f629",desc:"Weary face"},{code:"1f62a",desc:"Sleepy face"},{code:"1f62b",desc:"Tired face"},{code:"1f62c",desc:"Grimacing face"},{code:"1f62d",desc:"Loudly crying face"},{
code:"1f62e",desc:"Face with open mouth"},{code:"1f62f",desc:"Hushed face"},{code:"1f630",desc:"Face with open mouth and cold sweat"},{code:"1f631",desc:"Face screaming in fear"},{code:"1f632",desc:"Astonished face"},{code:"1f633",desc:"Flushed face"},{code:"1f634",desc:"Sleeping face"},{code:"1f635",desc:"Dizzy face"},{code:"1f636",desc:"Face without mouth"},{code:"1f637",desc:"Face with medical mask"}],emoticonsButtons:["emoticonsBack","|"],emoticonsUseImage:!0}),e.FE.PLUGINS.emoticons=function(t){function n(){var e=t.$tb.find('.fr-command[data-cmd="emoticons"]'),n=t.popups.get("emoticons");if(n||(n=i()),!n.hasClass("fr-active")){t.popups.refresh("emoticons"),t.popups.setContainer("emoticons",t.$tb);var r=e.offset().left+e.outerWidth()/2,o=e.offset().top+(t.opts.toolbarBottom?10:e.outerHeight()-10);t.popups.show("emoticons",r,o,e.outerHeight())}}function r(){t.popups.hide("emoticons")}function i(){var e="";t.opts.toolbarInline&&t.opts.emoticonsButtons.length>0&&(e='<div class="fr-buttons fr-emoticons-buttons">'+t.button.buildList(t.opts.emoticonsButtons)+"</div>");var n={buttons:e,emoticons:o()},r=t.popups.create("emoticons",n);return t.tooltip.bind(r,".fr-emoticon"),r}function o(){for(var e='<div style="text-align: center">',n=0;n<t.opts.emoticonsSet.length;n++)0!==n&&n%t.opts.emoticonsStep===0&&(e+="<br>"),e+='<span class="fr-command fr-emoticon" data-cmd="insertEmoticon" title="'+t.language.translate(t.opts.emoticonsSet[n].desc)+'" data-param1="'+t.opts.emoticonsSet[n].code+'">'+(t.opts.emoticonsUseImage?'<img src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.0.1/assets/svg/'+t.opts.emoticonsSet[n].code+'.svg"/>':"&#x"+t.opts.emoticonsSet[n].code+";")+"</span>";return t.opts.emoticonsUseImage&&(e+='<p style="font-size: 12px; text-align: center; padding: 0 5px;">Emoji free by <a href="http://emojione.com/" target="_blank" rel="nofollow">Emoji One</a></p>'),e+="</div>"}function a(n,r){t.html.insert('<span class="fr-emoticon fr-deletable'+(r?" fr-emoticon-img":"")+'"'+(r?' style="background: url('+r+');"':"")+">"+(r?"&nbsp;":n)+"</span>&nbsp;"+e.FE.MARKERS,!0)}function s(){t.popups.hide("emoticons"),t.toolbar.showInline()}function l(){var n=function(){for(var e=t.$el.get(0).querySelectorAll(".fr-emoticon:not(.fr-deletable)"),n=0;n<e.length;n++)e[n].className+=" fr-deletable"};n(),t.events.on("html.set",n),t.events.on("html.get",function(n){for(var r=0;r<t.opts.emoticonsSet.length;r++){var i=t.opts.emoticonsSet[r],o=e("<div>").html(i.code).text();n=n.split(o).join(i.code)}return n});var r=function(){if(!t.selection.isCollapsed())return!1;var n=t.selection.element(),r=t.selection.endElement();if(e(n).hasClass("fr-emoticon"))return n;if(e(r).hasClass("fr-emoticon"))return r;var i=t.selection.ranges(0),o=i.startContainer;if(o.nodeType==Node.ELEMENT_NODE&&o.childNodes.length>0&&i.startOffset>0){var a=o.childNodes[i.startOffset-1];if(e(a).hasClass("fr-emoticon"))return a}return!1};t.events.on("keydown",function(n){if(t.keys.isCharacter(n.which)&&t.selection.inEditor()){var i=t.selection.ranges(0),o=r();o&&(0===i.startOffset&&t.selection.element()===o?e(o).before(e.FE.MARKERS+e.FE.INVISIBLE_SPACE):e(o).after(e.FE.INVISIBLE_SPACE+e.FE.MARKERS),t.selection.restore())}}),t.events.on("keyup",function(n){for(var i=t.$el.get(0).querySelectorAll(".fr-emoticon"),o=0;o<i.length;o++)"undefined"!=typeof i[o].textContent&&0===i[o].textContent.replace(/\u200B/gi,"").length&&e(i[o]).remove();if(!(n.which>=37&&n.which<=40)){var a=r();a&&(a.className||"").indexOf("fr-emoticon-img")&&(e(a).append(e.FE.MARKERS),t.selection.restore())}})}return{_init:l,insert:a,showEmoticonsPopup:n,hideEmoticonsPopup:r,back:s}},e.FE.DefineIcon("emoticons",{NAME:"smile-o"}),e.FE.RegisterCommand("emoticons",{title:"Emoticons",undo:!1,focus:!0,refreshOnCallback:!1,popup:!0,callback:function(){this.popups.isVisible("emoticons")?(this.$el.find(".fr-marker")&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("emoticons")):this.emoticons.showEmoticonsPopup()},plugin:"emoticons"}),e.FE.RegisterCommand("insertEmoticon",{callback:function(e,t){this.emoticons.insert("&#x"+t+";",this.opts.emoticonsUseImage?"https://cdnjs.cloudflare.com/ajax/libs/emojione/2.0.1/assets/svg/"+t+".svg":null),this.emoticons.hideEmoticonsPopup()}}),e.FE.DefineIcon("emoticonsBack",{NAME:"arrow-left"}),e.FE.RegisterCommand("emoticonsBack",{title:"Back",undo:!1,focus:!1,back:!0,refreshAfterCallback:!1,callback:function(){this.emoticons.back()}})}),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=function(t,n){return void 0===n&&(n="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(n),n}:e(jQuery)}(function(e){"use strict";e.extend(e.FE.DEFAULTS,{fontSize:["8","9","10","11","12","14","18","24","30","36","48","60","72","96"],fontSizeSelection:!1,fontSizeDefaultSelection:"12"}),e.FE.PLUGINS.fontSize=function(t){function n(e){t.format.applyStyle("font-size",e)}function r(n,r){var i=e(t.selection.element()).css("font-size");r.find(".fr-command.fr-active").removeClass("fr-active"),r.find('.fr-command[data-param1="'+i+'"]').addClass("fr-active");var o=r.find(".fr-dropdown-list"),a=r.find(".fr-active").parent();a.length?o.parent().scrollTop(a.offset().top-o.offset().top-(o.parent().outerHeight()/2-a.outerHeight()/2)):o.parent().scrollTop(0)}function i(n){if(t.opts.fontSizeSelection){var r=t.helpers.getPX(e(t.selection.element()).css("font-size"));n.find("> span").text(r)}}return{apply:n,refreshOnShow:r,refresh:i}},e.FE.RegisterCommand("fontSize",{type:"dropdown",title:"Font Size",displaySelection:function(e){return e.opts.fontSizeSelection},displaySelectionWidth:30,defaultSelection:function(e){return e.opts.fontSizeDefaultSelection},html:function(){for(var e='<ul class="fr-dropdown-list">',t=this.opts.fontSize,n=0;n<t.length;n++){var r=t[n];e+='<li><a class="fr-command" data-cmd="fontSize" data-param1="'+r+'px" title="'+r+'">'+r+"</a></li>"}return e+="</ul>"},callback:function(e,t){this.fontSize.apply(t)},refresh:function(e){this.fontSize.refresh(e)},refreshOnShow:function(e,t){this.fontSize.refreshOnShow(e,t)},plugin:"fontSize"}),e.FE.DefineIcon("fontSize",{NAME:"text-height"})}),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=function(t,n){return void 0===n&&(n="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(n),n}:e(jQuery)}(function(e){"use strict";e.extend(e.FE.DEFAULTS,{paragraphStyles:{"fr-text-gray":"Gray","fr-text-bordered":"Bordered","fr-text-spaced":"Spaced","fr-text-uppercase":"Uppercase"},paragraphMultipleStyles:!0}),e.FE.PLUGINS.paragraphStyle=function(t){function n(n,r,i){"undefined"==typeof r&&(r=t.opts.paragraphStyles),"undefined"==typeof i&&(i=t.opts.paragraphMultipleStyles);var o="";i||(o=Object.keys(r),o.splice(o.indexOf(n),1),o=o.join(" ")),t.selection.save(),t.html.wrap(!0,!0,!0,!0),t.selection.restore();var a=t.selection.blocks();t.selection.save();for(var s=e(a[0]).hasClass(n),l=0;l<a.length;l++)e(a[l]).removeClass(o).toggleClass(n,!s),e(a[l]).hasClass("fr-temp-div")&&e(a[l]).removeClass("fr-temp-div"),""===e(a[l]).attr("class")&&e(a[l]).removeAttr("class");t.html.unwrap(),t.selection.restore()}function r(n,r){var i=t.selection.blocks();if(i.length){var o=e(i[0]);r.find(".fr-command").each(function(){var t=e(this).data("param1");e(this).toggleClass("fr-active",o.hasClass(t))})}}function i(){}return{_init:i,apply:n,refreshOnShow:r}},e.FE.RegisterCommand("paragraphStyle",{type:"dropdown",html:function(){var e='<ul class="fr-dropdown-list">',t=this.opts.paragraphStyles;for(var n in t)t.hasOwnProperty(n)&&(e+='<li><a class="fr-command '+n+'" data-cmd="paragraphStyle" data-param1="'+n+'" title="'+this.language.translate(t[n])+'">'+this.language.translate(t[n])+"</a></li>");return e+="</ul>"},title:"Paragraph Style",callback:function(e,t){this.paragraphStyle.apply(t)},refreshOnShow:function(e,t){this.paragraphStyle.refreshOnShow(e,t)},plugin:"paragraphStyle"}),e.FE.DefineIcon("paragraphStyle",{NAME:"magic"})}),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=function(t,n){return void 0===n&&(n="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(n),n}:e(jQuery)}(function(e){"use strict";e.extend(e.FE.DEFAULTS,{paragraphFormat:{N:"Normal",H1:"Heading 1",H2:"Heading 2",H3:"Heading 3",H4:"Heading 4",PRE:"Code"},paragraphFormatSelection:!1}),e.FE.PLUGINS.paragraphFormat=function(t){function n(n,r){var i=t.html.defaultTag();if(r&&r.toLowerCase()!=i)if(n.find("ul, ol").length>0){var o=e("<"+r+">");n.prepend(o);for(var a=t.node.contents(n.get(0))[0];a&&["UL","OL"].indexOf(a.tagName)<0;){var s=a.nextSibling;o.append(a),a=s}}else n.html("<"+r+">"+n.html()+"</"+r+">")}function r(n,r){var i=t.html.defaultTag();r||(r='div class="fr-temp-div" data-empty="true"'),r.toLowerCase()==i?n.replaceWith(n.html()):n.replaceWith(e("<"+r+">").html(n.html()))}function i(n,r){var i=t.html.defaultTag();r||(r='div class="fr-temp-div"'+(t.node.isEmpty(n.get(0),!0)?' data-empty="true"':"")),r.toLowerCase()==i?(t.node.isEmpty(n.get(0),!0)||n.append("<br/>"),n.replaceWith(n.html())):n.replaceWith(e("<"+r+">").html(n.html()))}function o(n,r){r||(r='div class="fr-temp-div"'+(t.node.isEmpty(n.get(0),!0)?' data-empty="true"':"")),n.replaceWith(e("<"+r+" "+t.node.attributes(n.get(0))+">").html(n.html()))}function a(a){"N"==a&&(a=t.html.defaultTag()),t.selection.save(),t.html.wrap(!0,!0,!0,!0),t.selection.restore();var s=t.selection.blocks();t.selection.save(),t.$el.find("pre").attr("skip",!0);for(var l=0;l<s.length;l++)if(s[l].tagName!=a&&!t.node.isList(s[l])){var u=e(s[l]);"LI"==s[l].tagName?n(u,a):"LI"==s[l].parentNode.tagName&&s[l]?r(u,a):["TD","TH"].indexOf(s[l].parentNode.tagName)>=0?i(u,a):o(u,a)}t.$el.find('pre:not([skip="true"]) + pre:not([skip="true"])').each(function(){e(this).prev().append("<br>"+e(this).html()),e(this).remove()}),t.$el.find("pre").removeAttr("skip"),t.html.unwrap(),t.selection.restore()}function s(e,n){var r=t.selection.blocks();if(r.length){var i=r[0],o="N",a=t.html.defaultTag();i.tagName.toLowerCase()!=a&&i!=t.$el.get(0)&&(o=i.tagName),n.find('.fr-command[data-param1="'+o+'"]').addClass("fr-active")}else n.find('.fr-command[data-param1="N"]').addClass("fr-active")}function l(e){if(t.opts.paragraphFormatSelection){var n=t.selection.blocks();if(n.length){var r=n[0],i="N",o=t.html.defaultTag();r.tagName.toLowerCase()!=o&&r!=t.$el.get(0)&&(i=r.tagName),["LI","TD","TH"].indexOf(i)>=0&&(i="N"),e.find("> span").text(t.opts.paragraphFormat[i])}else e.find("> span").text(t.opts.paragraphFormat.N)}}return{apply:a,refreshOnShow:s,refresh:l}},e.FE.RegisterCommand("paragraphFormat",{type:"dropdown",displaySelection:function(e){return e.opts.paragraphFormatSelection},defaultSelection:"Normal",displaySelectionWidth:100,html:function(){var e='<ul class="fr-dropdown-list">',t=this.opts.paragraphFormat;for(var n in t)if(t.hasOwnProperty(n)){var r=this.shortcuts.get("paragraphFormat."+n);r=r?'<span class="fr-shortcut">'+r+"</span>":"",e+="<li><"+("N"==n?this.html.defaultTag()||"DIV":n)+' style="padding: 0 !important; margin: 0 !important;"><a class="fr-command" data-cmd="paragraphFormat" data-param1="'+n+'" title="'+this.language.translate(t[n])+'">'+this.language.translate(t[n])+"</a></"+("N"==n?this.html.defaultTag()||"DIV":n)+"></li>"}return e+="</ul>"},title:"Paragraph Format",callback:function(e,t){this.paragraphFormat.apply(t)},refresh:function(e){this.paragraphFormat.refresh(e)},refreshOnShow:function(e,t){this.paragraphFormat.refreshOnShow(e,t)},plugin:"paragraphFormat"}),e.FE.DefineIcon("paragraphFormat",{NAME:"paragraph"})}),angular.module("froala",[]).value("froalaConfig",{}).directive("froala",["froalaConfig",function(e){"use strict";var t=0,n={immediateAngularModelUpdate:!1},r={froalaOptions:"=froala",initFunction:"&froalaInit"};e=e||{};var i="manual",o="automatic";return{restrict:"A",require:"ngModel",scope:r,link:function(r,a,s,l){var u={editorInitialized:!1};if(r.initMode=s.froalaInit?i:o,u.init=function(){s.id||s.$set("id","froala-"+t++),r.initMode===o&&u.createEditor(),l.$render=function(){u.editorInitialized&&(a.froalaEditor("html.set",l.$viewValue||"",!0),a.froalaEditor("undo.reset"),a.froalaEditor("undo.saveStep"))},l.$isEmpty=function(e){if(!e)return!0;var t=a.froalaEditor("node.isEmpty",jQuery("<div>"+e+"</div>").get(0));return t}},u.createEditor=function(t){if(u.listeningEvents=["froalaEditor"],!u.editorInitialized){t=t||{},u.options=angular.extend({},n,e,r.froalaOptions,t),u.options.immediateAngularModelUpdate&&u.listeningEvents.push("keyup"),u.registerEventsWithCallbacks("froalaEditor.initialized",function(){u.editorInitialized=!0,l.$render()});for(var i in u.options.events)u.options.events.hasOwnProperty(i)&&u.registerEventsWithCallbacks(i,u.options.events[i]);u.froalaElement=a.froalaEditor(u.options).data("froala.editor").$el,u.froalaEditor=angular.bind(a,a.froalaEditor),u.initListeners(),r.froalaOptions&&(r.froalaOptions.froalaEditor=u.froalaEditor)}},u.initListeners=function(){u.options.immediateAngularModelUpdate&&u.froalaElement.on("keyup",function(){r.$evalAsync(u.updateModelView)}),a.on("froalaEditor.contentChanged",function(){r.$evalAsync(u.updateModelView)}),r.$on("$destroy",function(){a.off(u.listeningEvents.join(" ")),a.froalaEditor("destroy")})},u.updateModelView=function(){var e=a.froalaEditor("html.get");angular.isString(e)&&(l.$setViewValue(e),r.$root.$$phase||r.$apply())},u.registerEventsWithCallbacks=function(e,t){e&&t&&(u.listeningEvents.push(e),a.on(e,t))},r.initMode===i){var c=u,d={initialize:u.createEditor,destroy:function(){c.froalaEditor&&(c.froalaEditor("destroy"),c.editorInitialized=!1)},getEditor:function(){return c.froalaEditor?c.froalaEditor:null}};r.initFunction({initControls:d})}u.init()}}}]).directive("froalaView",["$sce",function(e){return{restrict:"ACM",scope:!1,link:function(t,n,r){n.addClass("fr-view"),t.$watch(r.froalaView,function(t){if(t||""===t){var r=e.trustAsHtml(t);n.html(r.toString())}})}}}]),function(e,t,n){"use strict";function r(){this.$get=["$$sanitizeUri",function(e){return function(t){var n=[];return a(t,d(n,function(t,n){return!/^unsafe/.test(e(t,n))})),n.join("")}}]}function i(e){var n=[],r=d(n,t.noop);return r.chars(e),n.join("")}function o(e){var t,n={},r=e.split(",");for(t=0;t<r.length;t++)n[r[t]]=!0;return n}function a(e,n){function r(e,r,o,a){if(r=t.lowercase(r),D[r])for(;u.last()&&k[u.last()];)i("",u.last());T[r]&&u.last()===r&&i("",r),a=S[r]||!!a,a||u.push(r);var l={};o.replace(g,function(e,t,n,r,i){var o=n||r||i||"";l[t]=s(o)}),n.start&&n.start(r,l,a)}function i(e,r){var i,o=0;if(r=t.lowercase(r))for(o=u.length-1;o>=0&&u[o]!==r;o--);if(o>=0){for(i=u.length-1;i>=o;i--)n.end&&n.end(u[i]);u.length=o}}var o,a,l,u=[],c=e;for(u.last=function(){return u[u.length-1]};e;){if(a=!0,u.last()&&N[u.last()])e=e.replace(new RegExp("(.*)<\\s*\\/\\s*"+u.last()+"[^>]*>","i"),function(e,t){return t=t.replace(y,"$1").replace($,"$1"),n.chars&&n.chars(s(t)),""}),i("",u.last());else if(0===e.indexOf("<!--")?(o=e.indexOf("--",4),o>=0&&e.lastIndexOf("-->",o)===o&&(n.comment&&n.comment(e.substring(4,o)),e=e.substring(o+3),a=!1)):b.test(e)?(l=e.match(b),l&&(e=e.replace(l[0],""),a=!1)):v.test(e)?(l=e.match(p),l&&(e=e.substring(l[0].length),l[0].replace(p,i),a=!1)):m.test(e)&&(l=e.match(h),l&&(e=e.substring(l[0].length),l[0].replace(h,r),a=!1)),a){o=e.indexOf("<");var d=o<0?e:e.substring(0,o);e=o<0?"":e.substring(o),n.chars&&n.chars(s(d))}if(e===c)throw f("badparse","The sanitizer was unable to parse the following block of html: {0}",e);c=e}i()}function s(e){if(!e)return"";var t=F.exec(e),n=t[1],r=t[3],i=t[2];return i&&(O.innerHTML=i.replace(/</g,"&lt;"),i="textContent"in O?O.textContent:O.innerText),n+i+r}function l(e){return e.replace(/&/g,"&amp;").replace(E,function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return"&#"+(1024*(t-55296)+(n-56320)+65536)+";"}).replace(w,function(e){var t=e.charCodeAt(0);return t<=159||173===t||t>=1536&&t<=1540||1807===t||6068===t||6069===t||t>=8204&&t<=8207||t>=8232&&t<=8239||t>=8288&&t<=8303||65279===t||t>=65520&&t<=65535?"&#"+t+";":e}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function u(e){var n="",r=e.split(";");return t.forEach(r,function(e){var r=e.split(":");if(2===r.length){var i=R(t.lowercase(r[0]));e=R(t.lowercase(r[1])),(("color"===i||"background-color"===i)&&(e.match(/^rgb\([0-9%,\. ]*\)$/i)||e.match(/^rgba\([0-9%,\. ]*\)$/i)||e.match(/^hsl\([0-9%,\. ]*\)$/i)||e.match(/^hsla\([0-9%,\. ]*\)$/i)||e.match(/^#[0-9a-f]{3,6}$/i)||e.match(/^[a-z]*$/i))||"text-align"===i&&("left"===e||"right"===e||"center"===e||"justify"===e)||"float"===i&&("left"===e||"right"===e||"none"===e)||"direction"===i&&("rtl"===e||"ltr"===e)||"font-family"===i&&("arial,helvetica,sans-serif"===e||"georgia,serif"===e||"impact,charcoal,sans-serif"===e||"tahoma,geneva,sans-serif"===e||"'times new roman',times,serif"===e||"verdana,geneva,sans-serif"===e)||("width"===i||"height"===i||"font-size"===i||"margin-left"===i)&&e.match(/[0-9\.]*(px|em|rem|%)/))&&(n+=i+": "+e+";")}}),n}function c(e,t,n,r){return!("img"!==e||!t["ta-insert-video"]||"ta-insert-video"!==n&&"allowfullscreen"!==n&&"frameborder"!==n&&("contenteditble"!==n||"false"!==r))}function d(e,n){var r=!1,i=t.bind(e,e.push);return{start:function(e,o,a){e=t.lowercase(e),!r&&N[e]&&(r=e),r||_[e]!==!0||(i("<"),i(e),t.forEach(o,function(r,a){var s=t.lowercase(a),d="img"===e&&"src"===s||"background"===s;("style"===s&&""!==(r=u(r))||c(e,o,s,r)||M[s]===!0&&(A[s]!==!0||n(r,d)))&&(i(" "),i(a),i('="'),i(l(r)),i('"'))}),i(a?"/>":">"))},end:function(e){e=t.lowercase(e),r||_[e]!==!0||(i("</"),i(e),i(">")),e===r&&(r=!1)},chars:function(e){r||i(l(e))}}}var f=t.$$minErr("$sanitize"),h=/^<\s*([\w:-]+)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*>/,p=/^<\s*\/\s*([\w:-]+)[^>]*>/,g=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,m=/^</,v=/^<\s*\//,y=/<!--(.*?)-->/g,b=/<!DOCTYPE([^>]*?)>/i,$=/<!\[CDATA\[(.*?)]]>/g,E=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,w=/([^\#-~| |!])/g,S=o("area,br,col,hr,img,wbr"),x=o("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),C=o("rp,rt"),T=t.extend({},C,x),D=t.extend({},x,o("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),k=t.extend({},C,o("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),N=o("script,style"),_=t.extend({},S,D,k,T),A=o("background,cite,href,longdesc,src,usemap"),M=t.extend({},A,o("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width")),O=document.createElement("pre"),F=/^(\s*)([\s\S]*?)(\s*)$/,R=function(){return String.prototype.trim?function(e){return t.isString(e)?e.trim():e}:function(e){return t.isString(e)?e.replace(/^\s\s*/,"").replace(/\s\s*$/,""):e}}();t.module("ngSanitize",[]).provider("$sanitize",r),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var n=/((ftp|https?):\/\/|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>]/,r=/^mailto:/;return function(o,a){function s(e){e&&h.push(i(e))}function l(e,n){h.push("<a "),t.isDefined(a)&&(h.push('target="'),h.push(a),h.push('" ')),h.push('href="'),h.push(e),h.push('">'),s(n),h.push("</a>")}if(!o)return o;for(var u,c,d,f=o,h=[];u=f.match(n);)c=u[0],u[2]===u[3]&&(c="mailto:"+c),d=u.index,s(f.substr(0,d)),l(c,u[0].replace(r,"")),f=f.substring(d+u[0].length);return s(f),e(h.join(""))}}])}(window,window.angular),angular.module("ui.calendar",[]).constant("uiCalendarConfig",{calendars:{}}).controller("uiCalendarCtrl",["$scope","$locale",function(e,t){var n=e.eventSources,r=e.calendarWatchEvent?e.calendarWatchEvent:angular.noop,i=function(t){return function(){if(e.$root.$$phase)return t.apply(this,arguments);var n=arguments,r=this;return e.$root.$apply(function(){return t.apply(r,n)})}},o=1;this.eventFingerprint=function(e){e._id||(e._id=o++);var t=r({event:e})||"",n=moment.isMoment(e.start)?e.start.unix():e.start?moment(e.start).unix():"",i=moment.isMoment(e.end)?e.end.unix():e.end?moment(e.end).unix():"";return[e._id,e.id||"",e.title||"",e.url||"",n,i,e.allDay||"",e.className||"",t].join("")};var a=1,s=1;this.sourceFingerprint=function(e){var t=""+(e.__id||(e.__id=a++)),n=angular.isObject(e)&&e.events;return n&&(t=t+"-"+(n.__id||(n.__id=s++))),t},this.allEvents=function(){return Array.prototype.concat.apply([],(n||[]).reduce(function(e,t){if(angular.isArray(t))e.push(t);else if(angular.isObject(t)&&angular.isArray(t.events)){var n=Object.keys(t).filter(function(e){return"_id"!==e&&"events"!==e});t.events.forEach(function(e){angular.extend(e,n)}),e.push(t.events)}return e},[]))},this.changeWatcher=function(e,t){var n,r=function(){return((angular.isFunction(e)?e():e)||[]).reduce(function(e,n){var r=t(n);return o[r]=n,e.push(r),e},[])},i=function(e,t){var n=(t||[]).reduce(function(e,t){return e[t]=!0,e},Object.create(null));return(e||[]).filter(function(e){return!n[e]})},o={},a=function(e,r){var a,s,l={},u=i(r,e);for(a=0;a<u.length;a++){var c=u[a],d=o[c];delete o[c];var f=t(d);f===c?n.onRemoved(d):(l[f]=c,n.onChanged(d))}var h=i(e,r);for(a=0;a<h.length;a++)s=h[a],l[s]||n.onAdded(o[s])};return n={subscribe:function(e,t){e.$watch(r,function(e,n){var r=!(t&&t(e,n)===!1);r&&a(e,n)},!0)},onAdded:angular.noop,onChanged:angular.noop,onRemoved:angular.noop}},this.getFullCalendarConfig=function(e,t){var n={};return angular.extend(n,t),angular.extend(n,e),angular.forEach(n,function(e,t){"function"==typeof e&&(n[t]=i(n[t]))}),n},this.getLocaleConfig=function(e){if(!e.lang||e.useNgLocale){var n=function(e){return(Object.keys(e)||[]).reduce(function(t,n){return t.push(e[n]),t},[])},r=t.DATETIME_FORMATS;return{monthNames:n(r.MONTH),monthNamesShort:n(r.SHORTMONTH),dayNames:n(r.DAY),dayNamesShort:n(r.SHORTDAY)}}return{}}}]).directive("uiCalendar",["uiCalendarConfig",function(e){return{restrict:"A",scope:{eventSources:"=ngModel",calendarWatchEvent:"&"},controller:"uiCalendarCtrl",link:function(t,n,r,i){function o(){var n=r.uiCalendar?t.$parent.$eval(r.uiCalendar):{},o=i.getFullCalendarConfig(n,e),a=i.getLocaleConfig(o);angular.extend(a,o),d={eventSources:s},angular.extend(d,a),d.calendars=null;var l={};for(var u in d)"eventSources"!==u&&(l[u]=d[u]);return JSON.stringify(l)}var a,s=t.eventSources,l=!1,u=i.changeWatcher(s,i.sourceFingerprint),c=i.changeWatcher(i.allEvents,i.eventFingerprint),d=null;t.destroyCalendar=function(){a&&a.fullCalendar&&a.fullCalendar("destroy"),a=r.calendar?e.calendars[r.calendar]=angular.element(n).html(""):angular.element(n).html("")},t.initCalendar=function(){a||(a=angular.element(n).html("")),a.fullCalendar(d),r.calendar&&(e.calendars[r.calendar]=a)},t.$on("$destroy",function(){t.destroyCalendar()}),u.onAdded=function(t){a&&a.fullCalendar&&(a.fullCalendar(d),r.calendar&&(e.calendars[r.calendar]=a),a.fullCalendar("addEventSource",t),l=!0)},u.onRemoved=function(e){a&&a.fullCalendar&&(a.fullCalendar("removeEventSource",e),l=!0)},u.onChanged=function(){a&&a.fullCalendar&&(a.fullCalendar("refetchEvents"),l=!0)},c.onAdded=function(e){a&&a.fullCalendar&&a.fullCalendar("renderEvent",e,!!e.stick)},c.onRemoved=function(e){a&&a.fullCalendar&&a.fullCalendar("removeEvents",e._id)},c.onChanged=function(e){if(a&&a.fullCalendar)for(var t=a.fullCalendar("clientEvents",e._id),n=0;n<t.length;n++){var r=t[n];r=angular.extend(r,e),a.fullCalendar("updateEvent",r)}},u.subscribe(t),c.subscribe(t,function(){if(l===!0)return l=!1,!1}),t.$watch(o,function(e,n){e!==n?(t.destroyCalendar(),t.initCalendar()):e&&angular.isUndefined(a)&&t.initCalendar()})}}}]),!function(e){"function"==typeof define&&define.amd?define(["jquery","moment"],e):"object"==typeof exports?module.exports=e(require("jquery"),require("moment")):e(jQuery,moment)}(function(e,t){function n(e){return G(e,Ke)}function r(t){var n,r={views:t.views||{}};return e.each(t,function(t,i){"views"!=t&&(e.isPlainObject(i)&&!/(time|duration|interval)$/i.test(t)&&-1==e.inArray(t,Ke)?(n=null,e.each(i,function(e,i){/^(month|week|day|default|basic(Week|Day)?|agenda(Week|Day)?)$/.test(e)?(r.views[e]||(r.views[e]={}),r.views[e][t]=i):(n||(n={}),n[e]=i)}),n&&(r[t]=n)):r[t]=i)}),r}function i(e,t){t.left&&e.css({"border-left-width":1,"margin-left":t.left-1}),t.right&&e.css({"border-right-width":1,"margin-right":t.right-1})}function o(e){e.css({"margin-left":"","margin-right":"","border-left-width":"","border-right-width":""})}function a(){e("body").addClass("fc-not-allowed")}function s(){e("body").removeClass("fc-not-allowed")}function l(t,n,r){var i=Math.floor(n/t.length),o=Math.floor(n-i*(t.length-1)),a=[],s=[],l=[],c=0;u(t),t.each(function(n,r){var u=n===t.length-1?o:i,d=e(r).outerHeight(!0);u>d?(a.push(r),s.push(d),l.push(e(r).height())):c+=d}),r&&(n-=c,i=Math.floor(n/a.length),o=Math.floor(n-i*(a.length-1))),e(a).each(function(t,n){var r=t===a.length-1?o:i,u=s[t],c=l[t],d=r-(u-c);r>u&&e(n).height(d)})}function u(e){e.height("")}function c(t){var n=0;return t.find("> span").each(function(t,r){var i=e(r).outerWidth();i>n&&(n=i)}),n++,t.width(n),n}function d(e,t){var n,r=e.add(t);return r.css({position:"relative",left:-1}),n=e.outerHeight()-t.outerHeight(),r.css({position:"",left:""}),n}function f(t){var n=t.css("position"),r=t.parents().filter(function(){var t=e(this);return/(auto|scroll)/.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==n&&r.length?r:e(t[0].ownerDocument||document)}function h(e,t){var n=e.offset(),r=n.left-(t?t.left:0),i=n.top-(t?t.top:0);return{left:r,right:r+e.outerWidth(),top:i,bottom:i+e.outerHeight()}}function p(e,t){var n=e.offset(),r=m(e),i=n.left+b(e,"border-left-width")+r.left-(t?t.left:0),o=n.top+b(e,"border-top-width")+r.top-(t?t.top:0);return{left:i,right:i+e[0].clientWidth,top:o,bottom:o+e[0].clientHeight}}function g(e,t){var n=e.offset(),r=n.left+b(e,"border-left-width")+b(e,"padding-left")-(t?t.left:0),i=n.top+b(e,"border-top-width")+b(e,"padding-top")-(t?t.top:0);return{left:r,right:r+e.width(),top:i,bottom:i+e.height()}}function m(e){var t=e.innerWidth()-e[0].clientWidth,n={left:0,right:0,top:0,bottom:e.innerHeight()-e[0].clientHeight};return v()&&"rtl"==e.css("direction")?n.left=t:n.right=t,n}function v(){return null===Xe&&(Xe=y()),Xe}function y(){var t=e("<div><div/></div>").css({position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}).appendTo("body"),n=t.children(),r=n.offset().left>t.offset().left;return t.remove(),r}function b(e,t){return parseFloat(e.css(t))||0}function $(e){return 1==e.which&&!e.ctrlKey}function E(e){if(void 0!==e.pageX)return e.pageX;var t=e.originalEvent.touches;return t?t[0].pageX:void 0}function w(e){if(void 0!==e.pageY)return e.pageY;var t=e.originalEvent.touches;return t?t[0].pageY:void 0}function S(e){return/^touch/.test(e.type)}function x(e){e.addClass("fc-unselectable").on("selectstart",C)}function C(e){e.preventDefault()}function T(e){return!!window.addEventListener&&(window.addEventListener("scroll",e,!0),!0)}function D(e){return!!window.removeEventListener&&(window.removeEventListener("scroll",e,!0),!0)}function k(e,t){var n={left:Math.max(e.left,t.left),right:Math.min(e.right,t.right),top:Math.max(e.top,t.top),bottom:Math.min(e.bottom,t.bottom)};return n.left<n.right&&n.top<n.bottom&&n}function N(e,t){return{left:Math.min(Math.max(e.left,t.left),t.right),top:Math.min(Math.max(e.top,t.top),t.bottom)}}function _(e){return{left:(e.left+e.right)/2,top:(e.top+e.bottom)/2}}function A(e,t){return{left:e.left-t.left,top:e.top-t.top}}function M(t){var n,r,i=[],o=[];for("string"==typeof t?o=t.split(/\s*,\s*/):"function"==typeof t?o=[t]:e.isArray(t)&&(o=t),n=0;n<o.length;n++)r=o[n],"string"==typeof r?i.push("-"==r.charAt(0)?{field:r.substring(1),order:-1}:{field:r,order:1}):"function"==typeof r&&i.push({func:r});return i}function O(e,t,n){var r,i;for(r=0;r<n.length;r++)if(i=F(e,t,n[r]))return i;return 0}function F(e,t,n){return n.func?n.func(e,t):R(e[n.field],t[n.field])*(n.order||1)}function R(t,n){return t||n?null==n?-1:null==t?1:"string"===e.type(t)||"string"===e.type(n)?String(t).localeCompare(String(n)):t-n:0}function I(e,t){var n,r,i,o,a=e.start,s=e.end,l=t.start,u=t.end;return s>l&&u>a?(a>=l?(n=a.clone(),i=!0):(n=l.clone(),i=!1),u>=s?(r=s.clone(),o=!0):(r=u.clone(),o=!1),{start:n,end:r,isStart:i,isEnd:o}):void 0}function L(e,n){return t.duration({days:e.clone().stripTime().diff(n.clone().stripTime(),"days"),ms:e.time()-n.time()})}function P(e,n){return t.duration({days:e.clone().stripTime().diff(n.clone().stripTime(),"days")})}function H(e,n,r){return t.duration(Math.round(e.diff(n,r,!0)),r)}function B(e,t){var n,r,i;for(n=0;n<Qe.length&&(r=Qe[n],i=U(r,e,t),!(i>=1&&se(i)));n++);return r}function U(e,n,r){return null!=r?r.diff(n,e,!0):t.isDuration(n)?n.as(e):n.end.diff(n.start,e,!0)}function j(e,t,n){var r;return W(n)?(t-e)/n:(r=n.asMonths(),Math.abs(r)>=1&&se(r)?t.diff(e,"months",!0)/r:t.diff(e,"days",!0)/n.asDays())}function z(e,t){var n,r;return W(e)||W(t)?e/t:(n=e.asMonths(),r=t.asMonths(),Math.abs(n)>=1&&se(n)&&Math.abs(r)>=1&&se(r)?n/r:e.asDays()/t.asDays())}function V(e,n){var r;return W(e)?t.duration(e*n):(r=e.asMonths(),Math.abs(r)>=1&&se(r)?t.duration({months:r*n}):t.duration({days:e.asDays()*n}))}function W(e){return Boolean(e.hours()||e.minutes()||e.seconds()||e.milliseconds())}function q(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}function Y(e){return/^\d+\:\d+(?:\:\d+\.?(?:\d{3})?)?$/.test(e)}function G(e,t){var n,r,i,o,a,s,l={};if(t)for(n=0;n<t.length;n++){for(r=t[n],i=[],o=e.length-1;o>=0;o--)if(a=e[o][r],"object"==typeof a)i.unshift(a);else if(void 0!==a){l[r]=a;break}i.length&&(l[r]=G(i))}for(n=e.length-1;n>=0;n--){s=e[n];for(r in s)r in l||(l[r]=s[r])}return l}function K(e){var t=function(){};return t.prototype=e,new t}function X(e,t){for(var n in e)Q(e,n)&&(t[n]=e[n])}function Z(e,t){var n,r,i=["constructor","toString","valueOf"];for(n=0;n<i.length;n++)r=i[n],e[r]!==Object.prototype[r]&&(t[r]=e[r])}function Q(e,t){return nt.call(e,t)}function J(t){return/undefined|null|boolean|number|string/.test(e.type(t))}function ee(t,n,r){if(e.isFunction(t)&&(t=[t]),t){var i,o;for(i=0;i<t.length;i++)o=t[i].apply(n,r)||o;return o}}function te(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]}function ne(e){return(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function re(e){return e.replace(/&.*?;/g,"")}function ie(t){var n=[];return e.each(t,function(e,t){null!=t&&n.push(e+":"+t)}),n.join(";")}function oe(e){return e.charAt(0).toUpperCase()+e.slice(1)}function ae(e,t){return e-t}function se(e){return e%1===0}function le(e,t){var n=e[t];return function(){return n.apply(e,arguments)}}function ue(e,t,n){var r,i,o,a,s,l=function(){var u=+new Date-a;t>u?r=setTimeout(l,t-u):(r=null,n||(s=e.apply(o,i),o=i=null))};return function(){o=this,i=arguments,a=+new Date;var u=n&&!r;return r||(r=setTimeout(l,t)),u&&(s=e.apply(o,i),o=i=null),s}}function ce(n,r,i){var o,a,s,l,u=n[0],c=1==n.length&&"string"==typeof u;return t.isMoment(u)?(l=t.apply(null,n),fe(u,l)):q(u)||void 0===u?l=t.apply(null,n):(o=!1,a=!1,c?rt.test(u)?(u+="-01",n=[u],o=!0,a=!0):(s=it.exec(u))&&(o=!s[5],a=!0):e.isArray(u)&&(a=!0),l=r||o?t.utc.apply(t,n):t.apply(null,n),o?(l._ambigTime=!0,l._ambigZone=!0):i&&(a?l._ambigZone=!0:c&&(l.utcOffset?l.utcOffset(u):l.zone(u)))),l._fullCalendar=!0,l}function de(e,n){var r,i,o=!1,a=!1,s=e.length,l=[];for(r=0;s>r;r++)i=e[r],t.isMoment(i)||(i=Ye.moment.parseZone(i)),
o=o||i._ambigTime,a=a||i._ambigZone,l.push(i);for(r=0;s>r;r++)i=l[r],n||!o||i._ambigTime?a&&!i._ambigZone&&(l[r]=i.clone().stripZone()):l[r]=i.clone().stripTime();return l}function fe(e,t){e._ambigTime?t._ambigTime=!0:t._ambigTime&&(t._ambigTime=!1),e._ambigZone?t._ambigZone=!0:t._ambigZone&&(t._ambigZone=!1)}function he(e,t){e.year(t[0]||0).month(t[1]||0).date(t[2]||0).hours(t[3]||0).minutes(t[4]||0).seconds(t[5]||0).milliseconds(t[6]||0)}function pe(e,t){return at.format.call(e,t)}function ge(e,t){return me(e,Ee(t))}function me(e,t){var n,r="";for(n=0;n<t.length;n++)r+=ve(e,t[n]);return r}function ve(e,t){var n,r;return"string"==typeof t?t:(n=t.token)?st[n]?st[n](e):pe(e,n):t.maybe&&(r=me(e,t.maybe),r.match(/[1-9]/))?r:""}function ye(e,t,n,r,i){var o;return e=Ye.moment.parseZone(e),t=Ye.moment.parseZone(t),o=(e.localeData||e.lang).call(e),n=o.longDateFormat(n)||n,r=r||" - ",be(e,t,Ee(n),r,i)}function be(e,t,n,r,i){var o,a,s,l,u=e.clone().stripZone(),c=t.clone().stripZone(),d="",f="",h="",p="",g="";for(a=0;a<n.length&&(o=$e(e,t,u,c,n[a]),o!==!1);a++)d+=o;for(s=n.length-1;s>a&&(o=$e(e,t,u,c,n[s]),o!==!1);s--)f=o+f;for(l=a;s>=l;l++)h+=ve(e,n[l]),p+=ve(t,n[l]);return(h||p)&&(g=i?p+r+h:h+r+p),d+g+f}function $e(e,t,n,r,i){var o,a;return"string"==typeof i?i:!!((o=i.token)&&(a=lt[o.charAt(0)],a&&n.isSame(r,a)))&&pe(e,o)}function Ee(e){return e in ut?ut[e]:ut[e]=we(e)}function we(e){for(var t,n=[],r=/\[([^\]]*)\]|\(([^\)]*)\)|(LTS|LT|(\w)\4*o?)|([^\w\[\(]+)/g;t=r.exec(e);)t[1]?n.push(t[1]):t[2]?n.push({maybe:we(t[2])}):t[3]?n.push({token:t[3]}):t[5]&&n.push(t[5]);return n}function Se(){}function xe(e,t){var n;return Q(t,"constructor")&&(n=t.constructor),"function"!=typeof n&&(n=t.constructor=function(){e.apply(this,arguments)}),n.prototype=K(e.prototype),X(t,n.prototype),Z(t,n.prototype),X(e,n),n}function Ce(e,t){X(t,e.prototype)}function Te(e,t){return!e&&!t||!(!e||!t)&&(e.component===t.component&&De(e,t)&&De(t,e))}function De(e,t){for(var n in e)if(!/^(component|left|right|top|bottom)$/.test(n)&&e[n]!==t[n])return!1;return!0}function ke(e){var t=_e(e);return"background"===t||"inverse-background"===t}function Ne(e){return"inverse-background"===_e(e)}function _e(e){return te((e.source||{}).rendering,e.rendering)}function Ae(e){var t,n,r={};for(t=0;t<e.length;t++)n=e[t],(r[n._id]||(r[n._id]=[])).push(n);return r}function Me(e,t){return e.start-t.start}function Oe(n){var r,i,o,a,s=Ye.dataAttrPrefix;return s&&(s+="-"),r=n.data(s+"event")||null,r&&(r="object"==typeof r?e.extend({},r):{},i=r.start,null==i&&(i=r.time),o=r.duration,a=r.stick,delete r.start,delete r.time,delete r.duration,delete r.stick),null==i&&(i=n.data(s+"start")),null==i&&(i=n.data(s+"time")),null==o&&(o=n.data(s+"duration")),null==a&&(a=n.data(s+"stick")),i=null!=i?t.duration(i):null,o=null!=o?t.duration(o):null,a=Boolean(a),{eventProps:r,startTime:i,duration:o,stick:a}}function Fe(e,t){var n,r;for(n=0;n<t.length;n++)if(r=t[n],r.leftCol<=e.rightCol&&r.rightCol>=e.leftCol)return!0;return!1}function Re(e,t){return e.leftCol-t.leftCol}function Ie(e){var t,n,r,i=[];for(t=0;t<e.length;t++){for(n=e[t],r=0;r<i.length&&He(n,i[r]).length;r++);n.level=r,(i[r]||(i[r]=[])).push(n)}return i}function Le(e){var t,n,r,i,o;for(t=0;t<e.length;t++)for(n=e[t],r=0;r<n.length;r++)for(i=n[r],i.forwardSegs=[],o=t+1;o<e.length;o++)He(i,e[o],i.forwardSegs)}function Pe(e){var t,n,r=e.forwardSegs,i=0;if(void 0===e.forwardPressure){for(t=0;t<r.length;t++)n=r[t],Pe(n),i=Math.max(i,1+n.forwardPressure);e.forwardPressure=i}}function He(e,t,n){n=n||[];for(var r=0;r<t.length;r++)Be(e,t[r])&&n.push(t[r]);return n}function Be(e,t){return e.bottom>t.top&&e.top<t.bottom}function Ue(n,r){function i(){W?s()&&(c(),l()):o()}function o(){q=B.theme?"ui":"fc",n.addClass("fc"),B.isRTL?n.addClass("fc-rtl"):n.addClass("fc-ltr"),B.theme?n.addClass("ui-widget"):n.addClass("fc-unthemed"),W=e("<div class='fc-view-container'/>").prependTo(n),z=H.header=new Ve(H,B),V=z.render(),V&&n.prepend(V),l(B.defaultView),B.handleWindowResize&&(X=ue(f,B.windowResizeDelay),e(window).resize(X))}function a(){Y&&Y.removeElement(),z.removeElement(),W.remove(),n.removeClass("fc fc-ltr fc-rtl fc-unthemed ui-widget"),X&&e(window).unbind("resize",X)}function s(){return n.is(":visible")}function l(t){ne++,Y&&t&&Y.type!==t&&(z.deactivateButton(Y.type),O(),Y.removeElement(),Y=H.view=null),!Y&&t&&(Y=H.view=te[t]||(te[t]=H.instantiateView(t)),Y.setElement(e("<div class='fc-view fc-"+t+"-view' />").appendTo(W)),z.activateButton(t)),Y&&(Z=Y.massageCurrentDate(Z),Y.displaying&&Z.isWithin(Y.intervalStart,Y.intervalEnd)||s()&&(Y.display(Z),F(),$(),E(),m())),F(),ne--}function u(e){return s()?(e&&d(),ne++,Y.updateSize(!0),ne--,!0):void 0}function c(){s()&&d()}function d(){G="number"==typeof B.contentHeight?B.contentHeight:"number"==typeof B.height?B.height-(V?V.outerHeight(!0):0):Math.round(W.width()/Math.max(B.aspectRatio,.5))}function f(e){!ne&&e.target===window&&Y.start&&u(!0)&&Y.trigger("windowResize",ee)}function h(){g(),v()}function p(){s()&&(O(),Y.displayEvents(re),F())}function g(){O(),Y.clearEvents(),F()}function m(){!B.lazyFetching||Q(Y.start,Y.end)?v():p()}function v(){J(Y.start,Y.end)}function y(e){re=e,p()}function b(){p()}function $(){z.updateTitle(Y.title)}function E(){var e=H.getNow();e.isWithin(Y.intervalStart,Y.intervalEnd)?z.disableButton("today"):z.enableButton("today")}function w(e,t){Y.select(H.buildSelectSpan.apply(H,arguments))}function S(){Y&&Y.unselect()}function x(){Z=Y.computePrevDate(Z),l()}function C(){Z=Y.computeNextDate(Z),l()}function T(){Z.add(-1,"years"),l()}function D(){Z.add(1,"years"),l()}function k(){Z=H.getNow(),l()}function N(e){Z=H.moment(e).stripZone(),l()}function _(e){Z.add(t.duration(e)),l()}function A(e,t){var n;t=t||"day",n=H.getViewSpec(t)||H.getUnitViewSpec(t),Z=e.clone(),l(n?n.type:null)}function M(){return H.applyTimezone(Z)}function O(){W.css({width:"100%",height:W.height(),overflow:"hidden"})}function F(){W.css({width:"",height:"",overflow:""})}function R(){return H}function I(){return Y}function L(e,t){return void 0===t?B[e]:void("height"!=e&&"contentHeight"!=e&&"aspectRatio"!=e||(B[e]=t,u(!0)))}function P(e,t){var n=Array.prototype.slice.call(arguments,2);return t=t||ee,this.triggerWith(e,t,n),B[e]?B[e].apply(t,n):void 0}var H=this;H.initOptions(r||{});var B=this.options;H.render=i,H.destroy=a,H.refetchEvents=h,H.reportEvents=y,H.reportEventChange=b,H.rerenderEvents=p,H.changeView=l,H.select=w,H.unselect=S,H.prev=x,H.next=C,H.prevYear=T,H.nextYear=D,H.today=k,H.gotoDate=N,H.incrementDate=_,H.zoomTo=A,H.getDate=M,H.getCalendar=R,H.getView=I,H.option=L,H.trigger=P;var U=K(ze(B.lang));if(B.monthNames&&(U._months=B.monthNames),B.monthNamesShort&&(U._monthsShort=B.monthNamesShort),B.dayNames&&(U._weekdays=B.dayNames),B.dayNamesShort&&(U._weekdaysShort=B.dayNamesShort),null!=B.firstDay){var j=K(U._week);j.dow=B.firstDay,U._week=j}U._fullCalendar_weekCalc=function(e){return"function"==typeof e?e:"local"===e?e:"iso"===e||"ISO"===e?"ISO":void 0}(B.weekNumberCalculation),H.defaultAllDayEventDuration=t.duration(B.defaultAllDayEventDuration),H.defaultTimedEventDuration=t.duration(B.defaultTimedEventDuration),H.moment=function(){var e;return"local"===B.timezone?(e=Ye.moment.apply(null,arguments),e.hasTime()&&e.local()):e="UTC"===B.timezone?Ye.moment.utc.apply(null,arguments):Ye.moment.parseZone.apply(null,arguments),"_locale"in e?e._locale=U:e._lang=U,e},H.getIsAmbigTimezone=function(){return"local"!==B.timezone&&"UTC"!==B.timezone},H.applyTimezone=function(e){if(!e.hasTime())return e.clone();var t,n=H.moment(e.toArray()),r=e.time()-n.time();return r&&(t=n.clone().add(r),e.time()-t.time()===0&&(n=t)),n},H.getNow=function(){var e=B.now;return"function"==typeof e&&(e=e()),H.moment(e).stripZone()},H.getEventEnd=function(e){return e.end?e.end.clone():H.getDefaultEventEnd(e.allDay,e.start)},H.getDefaultEventEnd=function(e,t){var n=t.clone();return e?n.stripTime().add(H.defaultAllDayEventDuration):n.add(H.defaultTimedEventDuration),H.getIsAmbigTimezone()&&n.stripZone(),n},H.humanizeDuration=function(e){return(e.locale||e.lang).call(e,B.lang).humanize()},We.call(H,B);var z,V,W,q,Y,G,X,Z,Q=H.isFetchNeeded,J=H.fetchEvents,ee=n[0],te={},ne=0,re=[];Z=null!=B.defaultDate?H.moment(B.defaultDate).stripZone():H.getNow(),H.getSuggestedViewHeight=function(){return void 0===G&&c(),G},H.isHeightAuto=function(){return"auto"===B.contentHeight||"auto"===B.height},H.freezeContentHeight=O,H.unfreezeContentHeight=F,H.initialize()}function je(t){e.each(kt,function(e,n){null==t[e]&&(t[e]=n(t))})}function ze(e){var n=t.localeData||t.langData;return n.call(t,e)||n.call(t,"en")}function Ve(t,n){function r(){var t=n.header;return h=n.theme?"ui":"fc",t?p=e("<div class='fc-toolbar'/>").append(o("left")).append(o("right")).append(o("center")).append('<div class="fc-clear"/>'):void 0}function i(){p.remove(),p=e()}function o(r){var i=e('<div class="fc-'+r+'"/>'),o=n.header[r];return o&&e.each(o.split(" "),function(r){var o,a=e(),s=!0;e.each(this.split(","),function(r,i){var o,l,u,c,d,f,p,m,v,y;"title"==i?(a=a.add(e("<h2>&nbsp;</h2>")),s=!1):((o=(t.options.customButtons||{})[i])?(u=function(e){o.click&&o.click.call(y[0],e)},c="",d=o.text):(l=t.getViewSpec(i))?(u=function(){t.changeView(i)},g.push(i),c=l.buttonTextOverride,d=l.buttonTextDefault):t[i]&&(u=function(){t[i]()},c=(t.overrides.buttonText||{})[i],d=n.buttonText[i]),u&&(f=o?o.themeIcon:n.themeButtonIcons[i],p=o?o.icon:n.buttonIcons[i],m=c?ne(c):f&&n.theme?"<span class='ui-icon ui-icon-"+f+"'></span>":p&&!n.theme?"<span class='fc-icon fc-icon-"+p+"'></span>":ne(d),v=["fc-"+i+"-button",h+"-button",h+"-state-default"],y=e('<button type="button" class="'+v.join(" ")+'">'+m+"</button>").click(function(e){y.hasClass(h+"-state-disabled")||(u(e),(y.hasClass(h+"-state-active")||y.hasClass(h+"-state-disabled"))&&y.removeClass(h+"-state-hover"))}).mousedown(function(){y.not("."+h+"-state-active").not("."+h+"-state-disabled").addClass(h+"-state-down")}).mouseup(function(){y.removeClass(h+"-state-down")}).hover(function(){y.not("."+h+"-state-active").not("."+h+"-state-disabled").addClass(h+"-state-hover")},function(){y.removeClass(h+"-state-hover").removeClass(h+"-state-down")}),a=a.add(y)))}),s&&a.first().addClass(h+"-corner-left").end().last().addClass(h+"-corner-right").end(),a.length>1?(o=e("<div/>"),s&&o.addClass("fc-button-group"),o.append(a),i.append(o)):i.append(a)}),i}function a(e){p.find("h2").text(e)}function s(e){p.find(".fc-"+e+"-button").addClass(h+"-state-active")}function l(e){p.find(".fc-"+e+"-button").removeClass(h+"-state-active")}function u(e){p.find(".fc-"+e+"-button").attr("disabled","disabled").addClass(h+"-state-disabled")}function c(e){p.find(".fc-"+e+"-button").removeAttr("disabled").removeClass(h+"-state-disabled")}function d(){return g}var f=this;f.render=r,f.removeElement=i,f.updateTitle=a,f.activateButton=s,f.deactivateButton=l,f.disableButton=u,f.enableButton=c,f.getViewsWithButtons=d;var h,p=e(),g=[]}function We(n){function r(e,t){return!F||F>e||t>R}function i(e,t){F=e,R=t,V=[];var n=++j,r=U.length;z=r;for(var i=0;r>i;i++)o(U[i],n)}function o(t,n){a(t,function(r){var i,o,a,s=e.isArray(t.events);if(n==j){if(r)for(i=0;i<r.length;i++)o=r[i],a=s?o:y(o,t),a&&V.push.apply(V,w(a));z--,z||I(V)}})}function a(t,r){var i,o,s=Ye.sourceFetchers;for(i=0;i<s.length;i++){if(o=s[i].call(O,t,F.clone(),R.clone(),n.timezone,r),o===!0)return;if("object"==typeof o)return void a(o,r)}var l=t.events;if(l)e.isFunction(l)?(O.pushLoading(),l.call(O,F.clone(),R.clone(),n.timezone,function(e){r(e),O.popLoading()})):e.isArray(l)?r(l):r();else{var u=t.url;if(u){var c,d=t.success,f=t.error,h=t.complete;c=e.isFunction(t.data)?t.data():t.data;var p=e.extend({},c||{}),g=te(t.startParam,n.startParam),m=te(t.endParam,n.endParam),v=te(t.timezoneParam,n.timezoneParam);g&&(p[g]=F.format()),m&&(p[m]=R.format()),n.timezone&&"local"!=n.timezone&&(p[v]=n.timezone),O.pushLoading(),e.ajax(e.extend({},Nt,t,{data:p,success:function(t){t=t||[];var n=ee(d,this,arguments);e.isArray(n)&&(t=n),r(t)},error:function(){ee(f,this,arguments),r()},complete:function(){ee(h,this,arguments),O.popLoading()}}))}else r()}}function s(e){var t=l(e);t&&(U.push(t),z++,o(t,j))}function l(t){var n,r,i=Ye.sourceNormalizers;if(e.isFunction(t)||e.isArray(t)?n={events:t}:"string"==typeof t?n={url:t}:"object"==typeof t&&(n=e.extend({},t)),n){for(n.className?"string"==typeof n.className&&(n.className=n.className.split(/\s+/)):n.className=[],e.isArray(n.events)&&(n.origArray=n.events,n.events=e.map(n.events,function(e){return y(e,n)})),r=0;r<i.length;r++)i[r].call(O,n);return n}}function u(t){U=e.grep(U,function(e){return!c(e,t)}),V=e.grep(V,function(e){return!c(e.source,t)}),I(V)}function c(e,t){return e&&t&&d(e)==d(t)}function d(e){return("object"==typeof e?e.origArray||e.googleCalendarId||e.url||e.events:null)||e}function f(e){e.start=O.moment(e.start),e.end?e.end=O.moment(e.end):e.end=null,S(e,h(e)),I(V)}function h(t){var n={};return e.each(t,function(e,t){p(e)&&void 0!==t&&J(t)&&(n[e]=t)}),n}function p(e){return!/^_|^(id|allDay|start|end)$/.test(e)}function g(e,t){var n,r,i,o=y(e);if(o){for(n=w(o),r=0;r<n.length;r++)i=n[r],i.source||(t&&(B.events.push(i),i.source=B),V.push(i));return I(V),n}return[]}function m(t){var n,r;for(null==t?t=function(){return!0}:e.isFunction(t)||(n=t+"",t=function(e){return e._id==n}),V=e.grep(V,t,!0),r=0;r<U.length;r++)e.isArray(U[r].events)&&(U[r].events=e.grep(U[r].events,t,!0));I(V)}function v(t){return e.isFunction(t)?e.grep(V,t):null!=t?(t+="",e.grep(V,function(e){return e._id==t})):V}function y(r,i){var o,a,s,l={};if(n.eventDataTransform&&(r=n.eventDataTransform(r)),i&&i.eventDataTransform&&(r=i.eventDataTransform(r)),e.extend(l,r),i&&(l.source=i),l._id=r._id||(void 0===r.id?"_fc"+_t++:r.id+""),r.className?"string"==typeof r.className?l.className=r.className.split(/\s+/):l.className=r.className:l.className=[],o=r.start||r.date,a=r.end,Y(o)&&(o=t.duration(o)),Y(a)&&(a=t.duration(a)),r.dow||t.isDuration(o)||t.isDuration(a))l.start=o?t.duration(o):null,l.end=a?t.duration(a):null,l._recurring=!0;else{if(o&&(o=O.moment(o),!o.isValid()))return!1;a&&(a=O.moment(a),a.isValid()||(a=null)),s=r.allDay,void 0===s&&(s=te(i?i.allDayDefault:void 0,n.allDayDefault)),b(o,a,s,l)}return O.normalizeEvent(l),l}function b(e,t,n,r){r.start=e,r.end=t,r.allDay=n,$(r),qe(r)}function $(e){E(e),e.end&&!e.end.isAfter(e.start)&&(e.end=null),e.end||(n.forceEventDuration?e.end=O.getDefaultEventEnd(e.allDay,e.start):e.end=null)}function E(e){null==e.allDay&&(e.allDay=!(e.start.hasTime()||e.end&&e.end.hasTime())),e.allDay?(e.start.stripTime(),e.end&&e.end.stripTime()):(e.start.hasTime()||(e.start=O.applyTimezone(e.start.time(0))),e.end&&!e.end.hasTime()&&(e.end=O.applyTimezone(e.end.time(0))))}function w(t,n,r){var i,o,a,s,l,u,c,d,f,h=[];if(n=n||F,r=r||R,t)if(t._recurring){if(o=t.dow)for(i={},a=0;a<o.length;a++)i[o[a]]=!0;for(s=n.clone().stripTime();s.isBefore(r);)i&&!i[s.day()]||(l=t.start,u=t.end,c=s.clone(),d=null,l&&(c=c.time(l)),u&&(d=s.clone().time(u)),f=e.extend({},t),b(c,d,!l&&!u,f),h.push(f)),s.add(1,"days")}else h.push(t);return h}function S(t,n,r){function i(e,t){return r?H(e,t,r):n.allDay?P(e,t):L(e,t)}var o,a,s,l,u,c,d={};return n=n||{},n.start||(n.start=t.start.clone()),void 0===n.end&&(n.end=t.end?t.end.clone():null),null==n.allDay&&(n.allDay=t.allDay),$(n),o={start:t._start.clone(),end:t._end?t._end.clone():O.getDefaultEventEnd(t._allDay,t._start),allDay:n.allDay},$(o),a=null!==t._end&&null===n.end,s=i(n.start,o.start),n.end?(l=i(n.end,o.end),u=l.subtract(s)):u=null,e.each(n,function(e,t){p(e)&&void 0!==t&&(d[e]=t)}),c=x(v(t._id),a,n.allDay,s,u,d),{dateDelta:s,durationDelta:u,undo:c}}function x(t,n,r,i,o,a){var s=O.getIsAmbigTimezone(),l=[];return i&&!i.valueOf()&&(i=null),o&&!o.valueOf()&&(o=null),e.each(t,function(t,u){var c,d;c={start:u.start.clone(),end:u.end?u.end.clone():null,allDay:u.allDay},e.each(a,function(e){c[e]=u[e]}),d={start:u._start,end:u._end,allDay:r},$(d),n?d.end=null:o&&!d.end&&(d.end=O.getDefaultEventEnd(d.allDay,d.start)),i&&(d.start.add(i),d.end&&d.end.add(i)),o&&d.end.add(o),s&&!d.allDay&&(i||o)&&(d.start.stripZone(),d.end&&d.end.stripZone()),e.extend(u,a,d),qe(u),l.push(function(){e.extend(u,c),qe(u)})}),function(){for(var e=0;e<l.length;e++)l[e]()}}function C(t){var r,i=n.businessHours,o={className:"fc-nonbusiness",start:"09:00",end:"17:00",dow:[1,2,3,4,5],rendering:"inverse-background"},a=O.getView();return i&&(r=e.extend({},o,"object"==typeof i?i:{})),r?(t&&(r.start=null,r.end=null),w(y(r),a.start,a.end)):[]}function T(e,t){var r=t.source||{},i=te(t.constraint,r.constraint,n.eventConstraint),o=te(t.overlap,r.overlap,n.eventOverlap);return N(e,i,o,t)}function D(t,n,r){var i,o;return r&&(i=e.extend({},r,n),o=w(y(i))[0]),o?T(t,o):k(t)}function k(e){return N(e,n.selectConstraint,n.selectOverlap)}function N(e,t,n,r){var i,o,a,s,l,u;if(null!=t){for(i=_(t),o=!1,s=0;s<i.length;s++)if(A(i[s],e)){o=!0;break}if(!o)return!1}for(a=O.getPeerEvents(e,r),s=0;s<a.length;s++)if(l=a[s],M(l,e)){if(n===!1)return!1;if("function"==typeof n&&!n(l,r))return!1;if(r){if(u=te(l.overlap,(l.source||{}).overlap),u===!1)return!1;if("function"==typeof u&&!u(r,l))return!1}}return!0}function _(e){return"businessHours"===e?C():"object"==typeof e?w(y(e)):v(e)}function A(e,t){var n=e.start.clone().stripZone(),r=O.getEventEnd(e).stripZone();return t.start>=n&&t.end<=r}function M(e,t){var n=e.start.clone().stripZone(),r=O.getEventEnd(e).stripZone();return t.start<r&&t.end>n}var O=this;O.isFetchNeeded=r,O.fetchEvents=i,O.addEventSource=s,O.removeEventSource=u,O.updateEvent=f,O.renderEvent=g,O.removeEvents=m,O.clientEvents=v,O.mutateEvent=S,O.normalizeEventDates=$,O.normalizeEventTimes=E;var F,R,I=O.reportEvents,B={events:[]},U=[B],j=0,z=0,V=[];e.each((n.events?[n.events]:[]).concat(n.eventSources||[]),function(e,t){var n=l(t);n&&U.push(n)}),O.getBusinessHoursEvents=C,O.isEventSpanAllowed=T,O.isExternalSpanAllowed=D,O.isSelectionSpanAllowed=k,O.getEventCache=function(){return V}}function qe(e){e._allDay=e.allDay,e._start=e.start.clone(),e._end=e.end?e.end.clone():null}var Ye=e.fullCalendar={version:"2.7.3",internalApiVersion:4},Ge=Ye.views={};e.fn.fullCalendar=function(t){var n=Array.prototype.slice.call(arguments,1),r=this;return this.each(function(i,o){var a,s=e(o),l=s.data("fullCalendar");"string"==typeof t?l&&e.isFunction(l[t])&&(a=l[t].apply(l,n),i||(r=a),"destroy"===t&&s.removeData("fullCalendar")):l||(l=new xt(s,t),s.data("fullCalendar",l),l.render())}),r};var Ke=["header","buttonText","buttonIcons","themeButtonIcons"];Ye.intersectRanges=I,Ye.applyAll=ee,Ye.debounce=ue,Ye.isInt=se,Ye.htmlEscape=ne,Ye.cssToStr=ie,Ye.proxy=le,Ye.capitaliseFirstLetter=oe,Ye.getOuterRect=h,Ye.getClientRect=p,Ye.getContentRect=g,Ye.getScrollbarWidths=m;var Xe=null;Ye.preventDefault=C,Ye.intersectRects=k,Ye.parseFieldSpecs=M,Ye.compareByFieldSpecs=O,Ye.compareByFieldSpec=F,Ye.flexibleCompare=R,Ye.computeIntervalUnit=B,Ye.divideRangeByDuration=j,Ye.divideDurationByDuration=z,Ye.multiplyDuration=V,Ye.durationHasTime=W;var Ze=["sun","mon","tue","wed","thu","fri","sat"],Qe=["year","month","week","day","hour","minute","second","millisecond"];Ye.log=function(){var e=window.console;return e&&e.log?e.log.apply(e,arguments):void 0},Ye.warn=function(){var e=window.console;return e&&e.warn?e.warn.apply(e,arguments):Ye.log.apply(Ye,arguments)};var Je,et,tt,nt={}.hasOwnProperty,rt=/^\s*\d{4}-\d\d$/,it=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/,ot=t.fn,at=e.extend({},ot);Ye.moment=function(){return ce(arguments)},Ye.moment.utc=function(){var e=ce(arguments,!0);return e.hasTime()&&e.utc(),e},Ye.moment.parseZone=function(){return ce(arguments,!0,!0)},ot.clone=function(){var e=at.clone.apply(this,arguments);return fe(this,e),this._fullCalendar&&(e._fullCalendar=!0),e},ot.week=ot.weeks=function(e){var t=(this._locale||this._lang)._fullCalendar_weekCalc;return null==e&&"function"==typeof t?t(this):"ISO"===t?at.isoWeek.apply(this,arguments):at.week.apply(this,arguments)},ot.time=function(e){if(!this._fullCalendar)return at.time.apply(this,arguments);if(null==e)return t.duration({hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()});this._ambigTime=!1,t.isDuration(e)||t.isMoment(e)||(e=t.duration(e));var n=0;return t.isDuration(e)&&(n=24*Math.floor(e.asDays())),this.hours(n+e.hours()).minutes(e.minutes()).seconds(e.seconds()).milliseconds(e.milliseconds())},ot.stripTime=function(){var e;return this._ambigTime||(e=this.toArray(),this.utc(),et(this,e.slice(0,3)),this._ambigTime=!0,this._ambigZone=!0),this},ot.hasTime=function(){return!this._ambigTime},ot.stripZone=function(){var e,t;return this._ambigZone||(e=this.toArray(),t=this._ambigTime,this.utc(),et(this,e),this._ambigTime=t||!1,this._ambigZone=!0),this},ot.hasZone=function(){return!this._ambigZone},ot.local=function(){var e=this.toArray(),t=this._ambigZone;return at.local.apply(this,arguments),this._ambigTime=!1,this._ambigZone=!1,t&&tt(this,e),this},ot.utc=function(){return at.utc.apply(this,arguments),this._ambigTime=!1,this._ambigZone=!1,this},e.each(["zone","utcOffset"],function(e,t){at[t]&&(ot[t]=function(e){return null!=e&&(this._ambigTime=!1,this._ambigZone=!1),at[t].apply(this,arguments)})}),ot.format=function(){return this._fullCalendar&&arguments[0]?ge(this,arguments[0]):this._ambigTime?pe(this,"YYYY-MM-DD"):this._ambigZone?pe(this,"YYYY-MM-DD[T]HH:mm:ss"):at.format.apply(this,arguments)},ot.toISOString=function(){return this._ambigTime?pe(this,"YYYY-MM-DD"):this._ambigZone?pe(this,"YYYY-MM-DD[T]HH:mm:ss"):at.toISOString.apply(this,arguments)},ot.isWithin=function(e,t){var n=de([this,e,t]);return n[0]>=n[1]&&n[0]<n[2]},ot.isSame=function(e,t){var n;return this._fullCalendar?t?(n=de([this,e],!0),at.isSame.call(n[0],n[1],t)):(e=Ye.moment.parseZone(e),at.isSame.call(this,e)&&Boolean(this._ambigTime)===Boolean(e._ambigTime)&&Boolean(this._ambigZone)===Boolean(e._ambigZone)):at.isSame.apply(this,arguments)},e.each(["isBefore","isAfter"],function(e,t){ot[t]=function(e,n){var r;return this._fullCalendar?(r=de([this,e]),at[t].call(r[0],r[1],n)):at[t].apply(this,arguments)}}),Je="_d"in t()&&"updateOffset"in t,et=Je?function(e,n){e._d.setTime(Date.UTC.apply(Date,n)),t.updateOffset(e,!1)}:he,tt=Je?function(e,n){e._d.setTime(+new Date(n[0]||0,n[1]||0,n[2]||0,n[3]||0,n[4]||0,n[5]||0,n[6]||0)),t.updateOffset(e,!1)}:he;var st={t:function(e){return pe(e,"a").charAt(0)},T:function(e){return pe(e,"A").charAt(0)}};Ye.formatRange=ye;var lt={Y:"year",M:"month",D:"day",d:"day",A:"second",a:"second",T:"second",t:"second",H:"second",h:"second",m:"second",s:"second"},ut={};Ye.Class=Se,Se.extend=function(){var e,t,n=arguments.length;for(e=0;n>e;e++)t=arguments[e],n-1>e&&Ce(this,t);return xe(this,t||{})},Se.mixin=function(e){Ce(this,e)};var ct=Ye.EmitterMixin={on:function(t,n){var r=function(e,t){return n.apply(t.context||this,t.args||[])};return n.guid||(n.guid=e.guid++),r.guid=n.guid,e(this).on(t,r),this},off:function(t,n){return e(this).off(t,n),this},trigger:function(t){var n=Array.prototype.slice.call(arguments,1);return e(this).triggerHandler(t,{args:n}),this},triggerWith:function(t,n,r){return e(this).triggerHandler(t,{context:n,args:r}),this}},dt=Ye.ListenerMixin=function(){var t=0,n={listenerId:null,listenTo:function(t,n,r){if("object"==typeof n)for(var i in n)n.hasOwnProperty(i)&&this.listenTo(t,i,n[i]);else"string"==typeof n&&t.on(n+"."+this.getListenerNamespace(),e.proxy(r,this))},stopListeningTo:function(e,t){e.off((t||"")+"."+this.getListenerNamespace())},getListenerNamespace:function(){return null==this.listenerId&&(this.listenerId=t++),"_listener"+this.listenerId}};return n}(),ft={isIgnoringMouse:!1,delayUnignoreMouse:null,initMouseIgnoring:function(e){this.delayUnignoreMouse=ue(le(this,"unignoreMouse"),e||1e3)},tempIgnoreMouse:function(){this.isIgnoringMouse=!0,this.delayUnignoreMouse()},unignoreMouse:function(){this.isIgnoringMouse=!1}},ht=Se.extend(dt,{isHidden:!0,options:null,el:null,margin:10,constructor:function(e){this.options=e||{}},show:function(){this.isHidden&&(this.el||this.render(),this.el.show(),this.position(),this.isHidden=!1,this.trigger("show"))},hide:function(){this.isHidden||(this.el.hide(),this.isHidden=!0,this.trigger("hide"))},render:function(){var t=this,n=this.options;this.el=e('<div class="fc-popover"/>').addClass(n.className||"").css({top:0,left:0}).append(n.content).appendTo(n.parentEl),this.el.on("click",".fc-close",function(){t.hide()}),n.autoHide&&this.listenTo(e(document),"mousedown",this.documentMousedown)},documentMousedown:function(t){this.el&&!e(t.target).closest(this.el).length&&this.hide()},removeElement:function(){this.hide(),this.el&&(this.el.remove(),this.el=null),this.stopListeningTo(e(document),"mousedown")},position:function(){var t,n,r,i,o,a=this.options,s=this.el.offsetParent().offset(),l=this.el.outerWidth(),u=this.el.outerHeight(),c=e(window),d=f(this.el);i=a.top||0,o=void 0!==a.left?a.left:void 0!==a.right?a.right-l:0,d.is(window)||d.is(document)?(d=c,t=0,n=0):(r=d.offset(),t=r.top,n=r.left),t+=c.scrollTop(),n+=c.scrollLeft(),a.viewportConstrain!==!1&&(i=Math.min(i,t+d.outerHeight()-u-this.margin),i=Math.max(i,t+this.margin),o=Math.min(o,n+d.outerWidth()-l-this.margin),o=Math.max(o,n+this.margin)),this.el.css({top:i-s.top,left:o-s.left})},trigger:function(e){this.options[e]&&this.options[e].apply(this,Array.prototype.slice.call(arguments,1))}}),pt=Ye.CoordCache=Se.extend({els:null,forcedOffsetParentEl:null,origin:null,boundingRect:null,isHorizontal:!1,isVertical:!1,lefts:null,rights:null,tops:null,bottoms:null,constructor:function(t){this.els=e(t.els),this.isHorizontal=t.isHorizontal,this.isVertical=t.isVertical,this.forcedOffsetParentEl=t.offsetParent?e(t.offsetParent):null},build:function(){var e=this.forcedOffsetParentEl||this.els.eq(0).offsetParent();this.origin=e.offset(),this.boundingRect=this.queryBoundingRect(),this.isHorizontal&&this.buildElHorizontals(),this.isVertical&&this.buildElVerticals()},clear:function(){this.origin=null,this.boundingRect=null,this.lefts=null,this.rights=null,this.tops=null,this.bottoms=null},ensureBuilt:function(){this.origin||this.build()},queryBoundingRect:function(){var e=f(this.els.eq(0));return e.is(document)?void 0:p(e)},buildElHorizontals:function(){var t=[],n=[];this.els.each(function(r,i){var o=e(i),a=o.offset().left,s=o.outerWidth();t.push(a),n.push(a+s)}),this.lefts=t,this.rights=n},buildElVerticals:function(){var t=[],n=[];this.els.each(function(r,i){var o=e(i),a=o.offset().top,s=o.outerHeight();t.push(a),n.push(a+s)}),this.tops=t,this.bottoms=n},getHorizontalIndex:function(e){this.ensureBuilt();var t,n=this.boundingRect,r=this.lefts,i=this.rights,o=r.length;if(!n||e>=n.left&&e<n.right)for(t=0;o>t;t++)if(e>=r[t]&&e<i[t])return t},getVerticalIndex:function(e){this.ensureBuilt();var t,n=this.boundingRect,r=this.tops,i=this.bottoms,o=r.length;if(!n||e>=n.top&&e<n.bottom)for(t=0;o>t;t++)if(e>=r[t]&&e<i[t])return t},getLeftOffset:function(e){return this.ensureBuilt(),this.lefts[e]},getLeftPosition:function(e){return this.ensureBuilt(),this.lefts[e]-this.origin.left},getRightOffset:function(e){return this.ensureBuilt(),this.rights[e]},getRightPosition:function(e){return this.ensureBuilt(),this.rights[e]-this.origin.left},getWidth:function(e){return this.ensureBuilt(),this.rights[e]-this.lefts[e]},getTopOffset:function(e){return this.ensureBuilt(),this.tops[e]},getTopPosition:function(e){return this.ensureBuilt(),this.tops[e]-this.origin.top},getBottomOffset:function(e){return this.ensureBuilt(),this.bottoms[e]},getBottomPosition:function(e){return this.ensureBuilt(),this.bottoms[e]-this.origin.top},getHeight:function(e){return this.ensureBuilt(),this.bottoms[e]-this.tops[e]}}),gt=Ye.DragListener=Se.extend(dt,ft,{options:null,subjectEl:null,subjectHref:null,originX:null,originY:null,scrollEl:null,isInteracting:!1,isDistanceSurpassed:!1,isDelayEnded:!1,isDragging:!1,isTouch:!1,delay:null,delayTimeoutId:null,minDistance:null,handleTouchScrollProxy:null,constructor:function(e){this.options=e||{},this.handleTouchScrollProxy=le(this,"handleTouchScroll"),this.initMouseIgnoring(500)},startInteraction:function(t,n){var r=S(t);if("mousedown"===t.type){if(this.isIgnoringMouse)return;if(!$(t))return;t.preventDefault()}this.isInteracting||(n=n||{},this.delay=te(n.delay,this.options.delay,0),this.minDistance=te(n.distance,this.options.distance,0),this.subjectEl=this.options.subjectEl,this.isInteracting=!0,this.isTouch=r,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.originX=E(t),this.originY=w(t),this.scrollEl=f(e(t.target)),this.bindHandlers(),this.initAutoScroll(),this.handleInteractionStart(t),this.startDelay(t),this.minDistance||this.handleDistanceSurpassed(t))},handleInteractionStart:function(e){this.trigger("interactionStart",e)},endInteraction:function(e,t){this.isInteracting&&(this.endDrag(e),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null),this.destroyAutoScroll(),this.unbindHandlers(),this.isInteracting=!1,this.handleInteractionEnd(e,t),this.isTouch&&this.tempIgnoreMouse())},handleInteractionEnd:function(e,t){this.trigger("interactionEnd",e,t||!1)},bindHandlers:function(){var t=this,n=1;this.isTouch?(this.listenTo(e(document),{touchmove:this.handleTouchMove,touchend:this.endInteraction,touchcancel:this.endInteraction,touchstart:function(e){n?n--:t.endInteraction(e,!0)}}),!T(this.handleTouchScrollProxy)&&this.scrollEl&&this.listenTo(this.scrollEl,"scroll",this.handleTouchScroll)):this.listenTo(e(document),{mousemove:this.handleMouseMove,mouseup:this.endInteraction}),this.listenTo(e(document),{selectstart:C,contextmenu:C})},unbindHandlers:function(){this.stopListeningTo(e(document)),D(this.handleTouchScrollProxy),this.scrollEl&&this.stopListeningTo(this.scrollEl,"scroll")},startDrag:function(e,t){this.startInteraction(e,t),this.isDragging||(this.isDragging=!0,this.handleDragStart(e))},handleDragStart:function(e){this.trigger("dragStart",e),this.initHrefHack()},handleMove:function(e){var t,n=E(e)-this.originX,r=w(e)-this.originY,i=this.minDistance;this.isDistanceSurpassed||(t=n*n+r*r,t>=i*i&&this.handleDistanceSurpassed(e)),this.isDragging&&this.handleDrag(n,r,e)},handleDrag:function(e,t,n){this.trigger("drag",e,t,n),this.updateAutoScroll(n)},endDrag:function(e){this.isDragging&&(this.isDragging=!1,this.handleDragEnd(e))},handleDragEnd:function(e){this.trigger("dragEnd",e),this.destroyHrefHack()},startDelay:function(e){var t=this;this.delay?this.delayTimeoutId=setTimeout(function(){t.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)},handleDelayEnd:function(e){this.isDelayEnded=!0,this.isDistanceSurpassed&&this.startDrag(e)},handleDistanceSurpassed:function(e){this.isDistanceSurpassed=!0,this.isDelayEnded&&this.startDrag(e)},handleTouchMove:function(e){this.isDragging&&e.preventDefault(),this.handleMove(e)},handleMouseMove:function(e){this.handleMove(e)},handleTouchScroll:function(e){this.isDragging||this.endInteraction(e,!0)},initHrefHack:function(){var e=this.subjectEl;(this.subjectHref=e?e.attr("href"):null)&&e.removeAttr("href")},destroyHrefHack:function(){var e=this.subjectEl,t=this.subjectHref;setTimeout(function(){t&&e.attr("href",t)},0)},trigger:function(e){this.options[e]&&this.options[e].apply(this,Array.prototype.slice.call(arguments,1)),this["_"+e]&&this["_"+e].apply(this,Array.prototype.slice.call(arguments,1))}});gt.mixin({isAutoScroll:!1,scrollBounds:null,scrollTopVel:null,scrollLeftVel:null,scrollIntervalId:null,scrollSensitivity:30,scrollSpeed:200,scrollIntervalMs:50,initAutoScroll:function(){var e=this.scrollEl;this.isAutoScroll=this.options.scroll&&e&&!e.is(window)&&!e.is(document),this.isAutoScroll&&this.listenTo(e,"scroll",ue(this.handleDebouncedScroll,100))},destroyAutoScroll:function(){this.endAutoScroll(),this.isAutoScroll&&this.stopListeningTo(this.scrollEl,"scroll")},computeScrollBounds:function(){this.isAutoScroll&&(this.scrollBounds=h(this.scrollEl));
},updateAutoScroll:function(e){var t,n,r,i,o=this.scrollSensitivity,a=this.scrollBounds,s=0,l=0;a&&(t=(o-(w(e)-a.top))/o,n=(o-(a.bottom-w(e)))/o,r=(o-(E(e)-a.left))/o,i=(o-(a.right-E(e)))/o,t>=0&&1>=t?s=t*this.scrollSpeed*-1:n>=0&&1>=n&&(s=n*this.scrollSpeed),r>=0&&1>=r?l=r*this.scrollSpeed*-1:i>=0&&1>=i&&(l=i*this.scrollSpeed)),this.setScrollVel(s,l)},setScrollVel:function(e,t){this.scrollTopVel=e,this.scrollLeftVel=t,this.constrainScrollVel(),!this.scrollTopVel&&!this.scrollLeftVel||this.scrollIntervalId||(this.scrollIntervalId=setInterval(le(this,"scrollIntervalFunc"),this.scrollIntervalMs))},constrainScrollVel:function(){var e=this.scrollEl;this.scrollTopVel<0?e.scrollTop()<=0&&(this.scrollTopVel=0):this.scrollTopVel>0&&e.scrollTop()+e[0].clientHeight>=e[0].scrollHeight&&(this.scrollTopVel=0),this.scrollLeftVel<0?e.scrollLeft()<=0&&(this.scrollLeftVel=0):this.scrollLeftVel>0&&e.scrollLeft()+e[0].clientWidth>=e[0].scrollWidth&&(this.scrollLeftVel=0)},scrollIntervalFunc:function(){var e=this.scrollEl,t=this.scrollIntervalMs/1e3;this.scrollTopVel&&e.scrollTop(e.scrollTop()+this.scrollTopVel*t),this.scrollLeftVel&&e.scrollLeft(e.scrollLeft()+this.scrollLeftVel*t),this.constrainScrollVel(),this.scrollTopVel||this.scrollLeftVel||this.endAutoScroll()},endAutoScroll:function(){this.scrollIntervalId&&(clearInterval(this.scrollIntervalId),this.scrollIntervalId=null,this.handleScrollEnd())},handleDebouncedScroll:function(){this.scrollIntervalId||this.handleScrollEnd()},handleScrollEnd:function(){}});var mt=gt.extend({component:null,origHit:null,hit:null,coordAdjust:null,constructor:function(e,t){gt.call(this,t),this.component=e},handleInteractionStart:function(e){var t,n,r,i=this.subjectEl;this.computeCoords(),e?(n={left:E(e),top:w(e)},r=n,i&&(t=h(i),r=N(r,t)),this.origHit=this.queryHit(r.left,r.top),i&&this.options.subjectCenter&&(this.origHit&&(t=k(this.origHit,t)||t),r=_(t)),this.coordAdjust=A(r,n)):(this.origHit=null,this.coordAdjust=null),gt.prototype.handleInteractionStart.apply(this,arguments)},computeCoords:function(){this.component.prepareHits(),this.computeScrollBounds()},handleDragStart:function(e){var t;gt.prototype.handleDragStart.apply(this,arguments),t=this.queryHit(E(e),w(e)),t&&this.handleHitOver(t)},handleDrag:function(e,t,n){var r;gt.prototype.handleDrag.apply(this,arguments),r=this.queryHit(E(n),w(n)),Te(r,this.hit)||(this.hit&&this.handleHitOut(),r&&this.handleHitOver(r))},handleDragEnd:function(){this.handleHitDone(),gt.prototype.handleDragEnd.apply(this,arguments)},handleHitOver:function(e){var t=Te(e,this.origHit);this.hit=e,this.trigger("hitOver",this.hit,t,this.origHit)},handleHitOut:function(){this.hit&&(this.trigger("hitOut",this.hit),this.handleHitDone(),this.hit=null)},handleHitDone:function(){this.hit&&this.trigger("hitDone",this.hit)},handleInteractionEnd:function(){gt.prototype.handleInteractionEnd.apply(this,arguments),this.origHit=null,this.hit=null,this.component.releaseHits()},handleScrollEnd:function(){gt.prototype.handleScrollEnd.apply(this,arguments),this.computeCoords()},queryHit:function(e,t){return this.coordAdjust&&(e+=this.coordAdjust.left,t+=this.coordAdjust.top),this.component.queryHit(e,t)}}),vt=Se.extend(dt,{options:null,sourceEl:null,el:null,parentEl:null,top0:null,left0:null,y0:null,x0:null,topDelta:null,leftDelta:null,isFollowing:!1,isHidden:!1,isAnimating:!1,constructor:function(t,n){this.options=n=n||{},this.sourceEl=t,this.parentEl=n.parentEl?e(n.parentEl):t.parent()},start:function(t){this.isFollowing||(this.isFollowing=!0,this.y0=w(t),this.x0=E(t),this.topDelta=0,this.leftDelta=0,this.isHidden||this.updatePosition(),S(t)?this.listenTo(e(document),"touchmove",this.handleMove):this.listenTo(e(document),"mousemove",this.handleMove))},stop:function(t,n){function r(){this.isAnimating=!1,i.removeElement(),this.top0=this.left0=null,n&&n()}var i=this,o=this.options.revertDuration;this.isFollowing&&!this.isAnimating&&(this.isFollowing=!1,this.stopListeningTo(e(document)),t&&o&&!this.isHidden?(this.isAnimating=!0,this.el.animate({top:this.top0,left:this.left0},{duration:o,complete:r})):r())},getEl:function(){var e=this.el;return e||(this.sourceEl.width(),e=this.el=this.sourceEl.clone().addClass(this.options.additionalClass||"").css({position:"absolute",visibility:"",display:this.isHidden?"none":"",margin:0,right:"auto",bottom:"auto",width:this.sourceEl.width(),height:this.sourceEl.height(),opacity:this.options.opacity||"",zIndex:this.options.zIndex}),e.addClass("fc-unselectable"),e.appendTo(this.parentEl)),e},removeElement:function(){this.el&&(this.el.remove(),this.el=null)},updatePosition:function(){var e,t;this.getEl(),null===this.top0&&(this.sourceEl.width(),e=this.sourceEl.offset(),t=this.el.offsetParent().offset(),this.top0=e.top-t.top,this.left0=e.left-t.left),this.el.css({top:this.top0+this.topDelta,left:this.left0+this.leftDelta})},handleMove:function(e){this.topDelta=w(e)-this.y0,this.leftDelta=E(e)-this.x0,this.isHidden||this.updatePosition()},hide:function(){this.isHidden||(this.isHidden=!0,this.el&&this.el.hide())},show:function(){this.isHidden&&(this.isHidden=!1,this.updatePosition(),this.getEl().show())}}),yt=Ye.Grid=Se.extend(dt,ft,{view:null,isRTL:null,start:null,end:null,el:null,elsByFill:null,eventTimeFormat:null,displayEventTime:null,displayEventEnd:null,minResizeDuration:null,largeUnit:null,dayDragListener:null,segDragListener:null,segResizeListener:null,externalDragListener:null,constructor:function(e){this.view=e,this.isRTL=e.opt("isRTL"),this.elsByFill={},this.dayDragListener=this.buildDayDragListener(),this.initMouseIgnoring()},computeEventTimeFormat:function(){return this.view.opt("smallTimeFormat")},computeDisplayEventTime:function(){return!0},computeDisplayEventEnd:function(){return!0},setRange:function(e){this.start=e.start.clone(),this.end=e.end.clone(),this.rangeUpdated(),this.processRangeOptions()},rangeUpdated:function(){},processRangeOptions:function(){var e,t,n=this.view;this.eventTimeFormat=n.opt("eventTimeFormat")||n.opt("timeFormat")||this.computeEventTimeFormat(),e=n.opt("displayEventTime"),null==e&&(e=this.computeDisplayEventTime()),t=n.opt("displayEventEnd"),null==t&&(t=this.computeDisplayEventEnd()),this.displayEventTime=e,this.displayEventEnd=t},spanToSegs:function(e){},diffDates:function(e,t){return this.largeUnit?H(e,t,this.largeUnit):L(e,t)},prepareHits:function(){},releaseHits:function(){},queryHit:function(e,t){},getHitSpan:function(e){},getHitEl:function(e){},setElement:function(e){this.el=e,x(e),this.bindDayHandler("touchstart",this.dayTouchStart),this.bindDayHandler("mousedown",this.dayMousedown),this.bindSegHandlers(),this.bindGlobalHandlers()},bindDayHandler:function(t,n){var r=this;this.el.on(t,function(t){return e(t.target).is(".fc-event-container *, .fc-more")||e(t.target).closest(".fc-popover").length?void 0:n.call(r,t)})},removeElement:function(){this.unbindGlobalHandlers(),this.clearDragListeners(),this.el.remove()},renderSkeleton:function(){},renderDates:function(){},unrenderDates:function(){},bindGlobalHandlers:function(){this.listenTo(e(document),{dragstart:this.externalDragStart,sortstart:this.externalDragStart})},unbindGlobalHandlers:function(){this.stopListeningTo(e(document))},dayMousedown:function(e){this.isIgnoringMouse||this.dayDragListener.startInteraction(e,{})},dayTouchStart:function(e){var t=this.view;(t.isSelected||t.selectedEvent)&&this.tempIgnoreMouse(),this.dayDragListener.startInteraction(e,{delay:this.view.opt("longPressDelay")})},buildDayDragListener:function(){var e,t,n=this,r=this.view,i=r.opt("selectable"),o=new mt(this,{scroll:r.opt("dragScroll"),interactionStart:function(){e=o.origHit},dragStart:function(){r.unselect()},hitOver:function(r,o,s){s&&(o||(e=null),i&&(t=n.computeSelection(n.getHitSpan(s),n.getHitSpan(r)),t?n.renderSelection(t):t===!1&&a()))},hitOut:function(){e=null,t=null,n.unrenderSelection(),s()},interactionEnd:function(i,o){o||(e&&!n.isIgnoringMouse&&r.triggerDayClick(n.getHitSpan(e),n.getHitEl(e),i),t&&r.reportSelection(t,i),s())}});return o},clearDragListeners:function(){this.dayDragListener.endInteraction(),this.segDragListener&&this.segDragListener.endInteraction(),this.segResizeListener&&this.segResizeListener.endInteraction(),this.externalDragListener&&this.externalDragListener.endInteraction()},renderEventLocationHelper:function(e,t){var n=this.fabricateHelperEvent(e,t);return this.renderHelper(n,t)},fabricateHelperEvent:function(e,t){var n=t?K(t.event):{};return n.start=e.start.clone(),n.end=e.end?e.end.clone():null,n.allDay=null,this.view.calendar.normalizeEventDates(n),n.className=(n.className||[]).concat("fc-helper"),t||(n.editable=!1),n},renderHelper:function(e,t){},unrenderHelper:function(){},renderSelection:function(e){this.renderHighlight(e)},unrenderSelection:function(){this.unrenderHighlight()},computeSelection:function(e,t){var n=this.computeSelectionSpan(e,t);return!(n&&!this.view.calendar.isSelectionSpanAllowed(n))&&n},computeSelectionSpan:function(e,t){var n=[e.start,e.end,t.start,t.end];return n.sort(ae),{start:n[0].clone(),end:n[3].clone()}},renderHighlight:function(e){this.renderFill("highlight",this.spanToSegs(e))},unrenderHighlight:function(){this.unrenderFill("highlight")},highlightSegClasses:function(){return["fc-highlight"]},renderBusinessHours:function(){},unrenderBusinessHours:function(){},getNowIndicatorUnit:function(){},renderNowIndicator:function(e){},unrenderNowIndicator:function(){},renderFill:function(e,t){},unrenderFill:function(e){var t=this.elsByFill[e];t&&(t.remove(),delete this.elsByFill[e])},renderFillSegEls:function(t,n){var r,i=this,o=this[t+"SegEl"],a="",s=[];if(n.length){for(r=0;r<n.length;r++)a+=this.fillSegHtml(t,n[r]);e(a).each(function(t,r){var a=n[t],l=e(r);o&&(l=o.call(i,a,l)),l&&(l=e(l),l.is(i.fillSegTag)&&(a.el=l,s.push(a)))})}return s},fillSegTag:"div",fillSegHtml:function(e,t){var n=this[e+"SegClasses"],r=this[e+"SegCss"],i=n?n.call(this,t):[],o=ie(r?r.call(this,t):{});return"<"+this.fillSegTag+(i.length?' class="'+i.join(" ")+'"':"")+(o?' style="'+o+'"':"")+" />"},getDayClasses:function(e){var t=this.view,n=t.calendar.getNow(),r=["fc-"+Ze[e.day()]];return 1==t.intervalDuration.as("months")&&e.month()!=t.intervalStart.month()&&r.push("fc-other-month"),e.isSame(n,"day")?r.push("fc-today",t.highlightStateClass):n>e?r.push("fc-past"):r.push("fc-future"),r}});yt.mixin({mousedOverSeg:null,isDraggingSeg:!1,isResizingSeg:!1,isDraggingExternal:!1,segs:null,renderEvents:function(e){var t,n=[],r=[];for(t=0;t<e.length;t++)(ke(e[t])?n:r).push(e[t]);this.segs=[].concat(this.renderBgEvents(n),this.renderFgEvents(r))},renderBgEvents:function(e){var t=this.eventsToSegs(e);return this.renderBgSegs(t)||t},renderFgEvents:function(e){var t=this.eventsToSegs(e);return this.renderFgSegs(t)||t},unrenderEvents:function(){this.handleSegMouseout(),this.clearDragListeners(),this.unrenderFgSegs(),this.unrenderBgSegs(),this.segs=null},getEventSegs:function(){return this.segs||[]},renderFgSegs:function(e){},unrenderFgSegs:function(){},renderFgSegEls:function(t,n){var r,i=this.view,o="",a=[];if(t.length){for(r=0;r<t.length;r++)o+=this.fgSegHtml(t[r],n);e(o).each(function(n,r){var o=t[n],s=i.resolveEventEl(o.event,e(r));s&&(s.data("fc-seg",o),o.el=s,a.push(o))})}return a},fgSegHtml:function(e,t){},renderBgSegs:function(e){return this.renderFill("bgEvent",e)},unrenderBgSegs:function(){this.unrenderFill("bgEvent")},bgEventSegEl:function(e,t){return this.view.resolveEventEl(e.event,t)},bgEventSegClasses:function(e){var t=e.event,n=t.source||{};return["fc-bgevent"].concat(t.className,n.className||[])},bgEventSegCss:function(e){return{"background-color":this.getSegSkinCss(e)["background-color"]}},businessHoursSegClasses:function(e){return["fc-nonbusiness","fc-bgevent"]},bindSegHandlers:function(){this.bindSegHandler("touchstart",this.handleSegTouchStart),this.bindSegHandler("touchend",this.handleSegTouchEnd),this.bindSegHandler("mouseenter",this.handleSegMouseover),this.bindSegHandler("mouseleave",this.handleSegMouseout),this.bindSegHandler("mousedown",this.handleSegMousedown),this.bindSegHandler("click",this.handleSegClick)},bindSegHandler:function(t,n){var r=this;this.el.on(t,".fc-event-container > *",function(t){var i=e(this).data("fc-seg");return!i||r.isDraggingSeg||r.isResizingSeg?void 0:n.call(r,i,t)})},handleSegClick:function(e,t){return this.view.trigger("eventClick",e.el[0],e.event,t)},handleSegMouseover:function(e,t){this.isIgnoringMouse||this.mousedOverSeg||(this.mousedOverSeg=e,e.el.addClass("fc-allow-mouse-resize"),this.view.trigger("eventMouseover",e.el[0],e.event,t))},handleSegMouseout:function(e,t){t=t||{},this.mousedOverSeg&&(e=e||this.mousedOverSeg,this.mousedOverSeg=null,e.el.removeClass("fc-allow-mouse-resize"),this.view.trigger("eventMouseout",e.el[0],e.event,t))},handleSegMousedown:function(e,t){var n=this.startSegResize(e,t,{distance:5});!n&&this.view.isEventDraggable(e.event)&&this.buildSegDragListener(e).startInteraction(t,{distance:5})},handleSegTouchStart:function(e,t){var n,r=this.view,i=e.event,o=r.isEventSelected(i),a=r.isEventDraggable(i),s=r.isEventResizable(i),l=!1;o&&s&&(l=this.startSegResize(e,t)),l||!a&&!s||(n=a?this.buildSegDragListener(e):this.buildSegSelectListener(e),n.startInteraction(t,{delay:o?0:this.view.opt("longPressDelay")})),this.tempIgnoreMouse()},handleSegTouchEnd:function(e,t){this.tempIgnoreMouse()},startSegResize:function(t,n,r){return!!e(n.target).is(".fc-resizer")&&(this.buildSegResizeListener(t,e(n.target).is(".fc-start-resizer")).startInteraction(n,r),!0)},buildSegDragListener:function(e){var t,n,r,i=this,o=this.view,l=o.calendar,u=e.el,c=e.event;if(this.segDragListener)return this.segDragListener;var d=this.segDragListener=new mt(o,{scroll:o.opt("dragScroll"),subjectEl:u,subjectCenter:!0,interactionStart:function(r){t=!1,n=new vt(e.el,{additionalClass:"fc-dragging",parentEl:o.el,opacity:d.isTouch?null:o.opt("dragOpacity"),revertDuration:o.opt("dragRevertDuration"),zIndex:2}),n.hide(),n.start(r)},dragStart:function(n){d.isTouch&&!o.isEventSelected(c)&&o.selectEvent(c),t=!0,i.handleSegMouseout(e,n),i.segDragStart(e,n),o.hideEvent(c)},hitOver:function(t,s,u){var f;e.hit&&(u=e.hit),r=i.computeEventDrop(u.component.getHitSpan(u),t.component.getHitSpan(t),c),r&&!l.isEventSpanAllowed(i.eventToSpan(r),c)&&(a(),r=null),r&&(f=o.renderDrag(r,e))?(f.addClass("fc-dragging"),d.isTouch||i.applyDragOpacity(f),n.hide()):n.show(),s&&(r=null)},hitOut:function(){o.unrenderDrag(),n.show(),r=null},hitDone:function(){s()},interactionEnd:function(a){n.stop(!r,function(){t&&(o.unrenderDrag(),o.showEvent(c),i.segDragStop(e,a)),r&&o.reportEventDrop(c,r,this.largeUnit,u,a)}),i.segDragListener=null}});return d},buildSegSelectListener:function(e){var t=this,n=this.view,r=e.event;if(this.segDragListener)return this.segDragListener;var i=this.segDragListener=new gt({dragStart:function(e){i.isTouch&&!n.isEventSelected(r)&&n.selectEvent(r)},interactionEnd:function(e){t.segDragListener=null}});return i},segDragStart:function(e,t){this.isDraggingSeg=!0,this.view.trigger("eventDragStart",e.el[0],e.event,t,{})},segDragStop:function(e,t){this.isDraggingSeg=!1,this.view.trigger("eventDragStop",e.el[0],e.event,t,{})},computeEventDrop:function(e,t,n){var r,i,o=this.view.calendar,a=e.start,s=t.start;return a.hasTime()===s.hasTime()?(r=this.diffDates(s,a),n.allDay&&W(r)?(i={start:n.start.clone(),end:o.getEventEnd(n),allDay:!1},o.normalizeEventTimes(i)):i={start:n.start.clone(),end:n.end?n.end.clone():null,allDay:n.allDay},i.start.add(r),i.end&&i.end.add(r)):i={start:s.clone(),end:null,allDay:!s.hasTime()},i},applyDragOpacity:function(e){var t=this.view.opt("dragOpacity");null!=t&&e.each(function(e,n){n.style.opacity=t})},externalDragStart:function(t,n){var r,i,o=this.view;o.opt("droppable")&&(r=e((n?n.item:null)||t.target),i=o.opt("dropAccept"),(e.isFunction(i)?i.call(r[0],r):r.is(i))&&(this.isDraggingExternal||this.listenToExternalDrag(r,t,n)))},listenToExternalDrag:function(e,t,n){var r,i=this,o=this.view.calendar,l=Oe(e),u=i.externalDragListener=new mt(this,{interactionStart:function(){i.isDraggingExternal=!0},hitOver:function(e){r=i.computeExternalDrop(e.component.getHitSpan(e),l),r&&!o.isExternalSpanAllowed(i.eventToSpan(r),r,l.eventProps)&&(a(),r=null),r&&i.renderDrag(r)},hitOut:function(){r=null},hitDone:function(){s(),i.unrenderDrag()},interactionEnd:function(t){r&&i.view.reportExternalDrop(l,r,e,t,n),i.isDraggingExternal=!1,i.externalDragListener=null}});u.startDrag(t)},computeExternalDrop:function(e,t){var n=this.view.calendar,r={start:n.applyTimezone(e.start),end:null};return t.startTime&&!r.start.hasTime()&&r.start.time(t.startTime),t.duration&&(r.end=r.start.clone().add(t.duration)),r},renderDrag:function(e,t){},unrenderDrag:function(){},buildSegResizeListener:function(e,t){var n,r,i=this,o=this.view,l=o.calendar,u=e.el,c=e.event,d=l.getEventEnd(c),f=this.segResizeListener=new mt(this,{scroll:o.opt("dragScroll"),subjectEl:u,interactionStart:function(){n=!1},dragStart:function(t){n=!0,i.handleSegMouseout(e,t),i.segResizeStart(e,t)},hitOver:function(n,s,u){var f=i.getHitSpan(u),h=i.getHitSpan(n);r=t?i.computeEventStartResize(f,h,c):i.computeEventEndResize(f,h,c),r&&(l.isEventSpanAllowed(i.eventToSpan(r),c)?r.start.isSame(c.start)&&r.end.isSame(d)&&(r=null):(a(),r=null)),r&&(o.hideEvent(c),i.renderEventResize(r,e))},hitOut:function(){r=null},hitDone:function(){i.unrenderEventResize(),o.showEvent(c),s()},interactionEnd:function(t){n&&i.segResizeStop(e,t),r&&o.reportEventResize(c,r,this.largeUnit,u,t),i.segResizeListener=null}});return f},segResizeStart:function(e,t){this.isResizingSeg=!0,this.view.trigger("eventResizeStart",e.el[0],e.event,t,{})},segResizeStop:function(e,t){this.isResizingSeg=!1,this.view.trigger("eventResizeStop",e.el[0],e.event,t,{})},computeEventStartResize:function(e,t,n){return this.computeEventResize("start",e,t,n)},computeEventEndResize:function(e,t,n){return this.computeEventResize("end",e,t,n)},computeEventResize:function(e,t,n,r){var i,o,a=this.view.calendar,s=this.diffDates(n[e],t[e]);return i={start:r.start.clone(),end:a.getEventEnd(r),allDay:r.allDay},i.allDay&&W(s)&&(i.allDay=!1,a.normalizeEventTimes(i)),i[e].add(s),i.start.isBefore(i.end)||(o=this.minResizeDuration||(r.allDay?a.defaultAllDayEventDuration:a.defaultTimedEventDuration),"start"==e?i.start=i.end.clone().subtract(o):i.end=i.start.clone().add(o)),i},renderEventResize:function(e,t){},unrenderEventResize:function(){},getEventTimeText:function(e,t,n){return null==t&&(t=this.eventTimeFormat),null==n&&(n=this.displayEventEnd),this.displayEventTime&&e.start.hasTime()?n&&e.end?this.view.formatRange(e,t):e.start.format(t):""},getSegClasses:function(e,t,n){var r=this.view,i=e.event,o=["fc-event",e.isStart?"fc-start":"fc-not-start",e.isEnd?"fc-end":"fc-not-end"].concat(i.className,i.source?i.source.className:[]);return t&&o.push("fc-draggable"),n&&o.push("fc-resizable"),r.isEventSelected(i)&&o.push("fc-selected"),o},getSegSkinCss:function(e){var t=e.event,n=this.view,r=t.source||{},i=t.color,o=r.color,a=n.opt("eventColor");return{"background-color":t.backgroundColor||i||r.backgroundColor||o||n.opt("eventBackgroundColor")||a,"border-color":t.borderColor||i||r.borderColor||o||n.opt("eventBorderColor")||a,color:t.textColor||r.textColor||n.opt("eventTextColor")}},eventToSegs:function(e){return this.eventsToSegs([e])},eventToSpan:function(e){return this.eventToSpans(e)[0]},eventToSpans:function(e){var t=this.eventToRange(e);return this.eventRangeToSpans(t,e)},eventsToSegs:function(t,n){var r=this,i=Ae(t),o=[];return e.each(i,function(e,t){var i,a=[];for(i=0;i<t.length;i++)a.push(r.eventToRange(t[i]));if(Ne(t[0]))for(a=r.invertRanges(a),i=0;i<a.length;i++)o.push.apply(o,r.eventRangeToSegs(a[i],t[0],n));else for(i=0;i<a.length;i++)o.push.apply(o,r.eventRangeToSegs(a[i],t[i],n))}),o},eventToRange:function(e){return{start:e.start.clone().stripZone(),end:(e.end?e.end.clone():this.view.calendar.getDefaultEventEnd(null!=e.allDay?e.allDay:!e.start.hasTime(),e.start)).stripZone()}},eventRangeToSegs:function(e,t,n){var r,i=this.eventRangeToSpans(e,t),o=[];for(r=0;r<i.length;r++)o.push.apply(o,this.eventSpanToSegs(i[r],t,n));return o},eventRangeToSpans:function(t,n){return[e.extend({},t)]},eventSpanToSegs:function(e,t,n){var r,i,o=n?n(e):this.spanToSegs(e);for(r=0;r<o.length;r++)i=o[r],i.event=t,i.eventStartMS=+e.start,i.eventDurationMS=e.end-e.start;return o},invertRanges:function(e){var t,n,r=this.view,i=r.start.clone(),o=r.end.clone(),a=[],s=i;for(e.sort(Me),t=0;t<e.length;t++)n=e[t],n.start>s&&a.push({start:s,end:n.start}),s=n.end;return o>s&&a.push({start:s,end:o}),a},sortEventSegs:function(e){e.sort(le(this,"compareEventSegs"))},compareEventSegs:function(e,t){return e.eventStartMS-t.eventStartMS||t.eventDurationMS-e.eventDurationMS||t.event.allDay-e.event.allDay||O(e.event,t.event,this.view.eventOrderSpecs)}}),Ye.isBgEvent=ke,Ye.dataAttrPrefix="";var bt=Ye.DayTableMixin={breakOnWeeks:!1,dayDates:null,dayIndices:null,daysPerRow:null,rowCnt:null,colCnt:null,colHeadFormat:null,updateDayTable:function(){for(var e,t,n,r=this.view,i=this.start.clone(),o=-1,a=[],s=[];i.isBefore(this.end);)r.isHiddenDay(i)?a.push(o+.5):(o++,a.push(o),s.push(i.clone())),i.add(1,"days");if(this.breakOnWeeks){for(t=s[0].day(),e=1;e<s.length&&s[e].day()!=t;e++);n=Math.ceil(s.length/e)}else n=1,e=s.length;this.dayDates=s,this.dayIndices=a,this.daysPerRow=e,this.rowCnt=n,this.updateDayTableCols()},updateDayTableCols:function(){this.colCnt=this.computeColCnt(),this.colHeadFormat=this.view.opt("columnFormat")||this.computeColHeadFormat()},computeColCnt:function(){return this.daysPerRow},getCellDate:function(e,t){return this.dayDates[this.getCellDayIndex(e,t)].clone()},getCellRange:function(e,t){var n=this.getCellDate(e,t),r=n.clone().add(1,"days");return{start:n,end:r}},getCellDayIndex:function(e,t){return e*this.daysPerRow+this.getColDayIndex(t)},getColDayIndex:function(e){return this.isRTL?this.colCnt-1-e:e},getDateDayIndex:function(e){var t=this.dayIndices,n=e.diff(this.start,"days");return 0>n?t[0]-1:n>=t.length?t[t.length-1]+1:t[n]},computeColHeadFormat:function(){return this.rowCnt>1||this.colCnt>10?"ddd":this.colCnt>1?this.view.opt("dayOfMonthFormat"):"dddd"},sliceRangeByRow:function(e){var t,n,r,i,o,a=this.daysPerRow,s=this.view.computeDayRange(e),l=this.getDateDayIndex(s.start),u=this.getDateDayIndex(s.end.clone().subtract(1,"days")),c=[];for(t=0;t<this.rowCnt;t++)n=t*a,r=n+a-1,i=Math.max(l,n),o=Math.min(u,r),i=Math.ceil(i),o=Math.floor(o),o>=i&&c.push({row:t,firstRowDayIndex:i-n,lastRowDayIndex:o-n,isStart:i===l,isEnd:o===u});return c},sliceRangeByDay:function(e){var t,n,r,i,o,a,s=this.daysPerRow,l=this.view.computeDayRange(e),u=this.getDateDayIndex(l.start),c=this.getDateDayIndex(l.end.clone().subtract(1,"days")),d=[];for(t=0;t<this.rowCnt;t++)for(n=t*s,r=n+s-1,i=n;r>=i;i++)o=Math.max(u,i),a=Math.min(c,i),o=Math.ceil(o),a=Math.floor(a),a>=o&&d.push({row:t,firstRowDayIndex:o-n,lastRowDayIndex:a-n,isStart:o===u,isEnd:a===c});return d},renderHeadHtml:function(){var e=this.view;return'<div class="fc-row '+e.widgetHeaderClass+'"><table><thead>'+this.renderHeadTrHtml()+"</thead></table></div>"},renderHeadIntroHtml:function(){return this.renderIntroHtml()},renderHeadTrHtml:function(){return"<tr>"+(this.isRTL?"":this.renderHeadIntroHtml())+this.renderHeadDateCellsHtml()+(this.isRTL?this.renderHeadIntroHtml():"")+"</tr>"},renderHeadDateCellsHtml:function(){var e,t,n=[];for(e=0;e<this.colCnt;e++)t=this.getCellDate(0,e),n.push(this.renderHeadDateCellHtml(t));return n.join("")},renderHeadDateCellHtml:function(e,t,n){var r=this.view;return'<th class="fc-day-header '+r.widgetHeaderClass+" fc-"+Ze[e.day()]+'"'+(1==this.rowCnt?' data-date="'+e.format("YYYY-MM-DD")+'"':"")+(t>1?' colspan="'+t+'"':"")+(n?" "+n:"")+">"+ne(e.format(this.colHeadFormat))+"</th>"},renderBgTrHtml:function(e){return"<tr>"+(this.isRTL?"":this.renderBgIntroHtml(e))+this.renderBgCellsHtml(e)+(this.isRTL?this.renderBgIntroHtml(e):"")+"</tr>"},renderBgIntroHtml:function(e){return this.renderIntroHtml()},renderBgCellsHtml:function(e){var t,n,r=[];for(t=0;t<this.colCnt;t++)n=this.getCellDate(e,t),r.push(this.renderBgCellHtml(n));return r.join("")},renderBgCellHtml:function(e,t){var n=this.view,r=this.getDayClasses(e);return r.unshift("fc-day",n.widgetContentClass),'<td class="'+r.join(" ")+'" data-date="'+e.format("YYYY-MM-DD")+'"'+(t?" "+t:"")+"></td>"},renderIntroHtml:function(){},bookendCells:function(e){var t=this.renderIntroHtml();t&&(this.isRTL?e.append(t):e.prepend(t))}},$t=Ye.DayGrid=yt.extend(bt,{numbersVisible:!1,bottomCoordPadding:0,rowEls:null,cellEls:null,helperEls:null,rowCoordCache:null,colCoordCache:null,renderDates:function(e){var t,n,r=this.view,i=this.rowCnt,o=this.colCnt,a="";for(t=0;i>t;t++)a+=this.renderDayRowHtml(t,e);for(this.el.html(a),this.rowEls=this.el.find(".fc-row"),this.cellEls=this.el.find(".fc-day"),this.rowCoordCache=new pt({els:this.rowEls,isVertical:!0}),this.colCoordCache=new pt({els:this.cellEls.slice(0,this.colCnt),isHorizontal:!0}),t=0;i>t;t++)for(n=0;o>n;n++)r.trigger("dayRender",null,this.getCellDate(t,n),this.getCellEl(t,n))},unrenderDates:function(){this.removeSegPopover()},renderBusinessHours:function(){var e=this.view.calendar.getBusinessHoursEvents(!0),t=this.eventsToSegs(e);this.renderFill("businessHours",t,"bgevent")},renderDayRowHtml:function(e,t){var n=this.view,r=["fc-row","fc-week",n.widgetContentClass];return t&&r.push("fc-rigid"),'<div class="'+r.join(" ")+'"><div class="fc-bg"><table>'+this.renderBgTrHtml(e)+'</table></div><div class="fc-content-skeleton"><table>'+(this.numbersVisible?"<thead>"+this.renderNumberTrHtml(e)+"</thead>":"")+"</table></div></div>"},renderNumberTrHtml:function(e){return"<tr>"+(this.isRTL?"":this.renderNumberIntroHtml(e))+this.renderNumberCellsHtml(e)+(this.isRTL?this.renderNumberIntroHtml(e):"")+"</tr>"},renderNumberIntroHtml:function(e){return this.renderIntroHtml()},renderNumberCellsHtml:function(e){var t,n,r=[];for(t=0;t<this.colCnt;t++)n=this.getCellDate(e,t),r.push(this.renderNumberCellHtml(n));return r.join("")},renderNumberCellHtml:function(e){var t;return this.view.dayNumbersVisible?(t=this.getDayClasses(e),t.unshift("fc-day-number"),'<td class="'+t.join(" ")+'" data-date="'+e.format()+'">'+e.date()+"</td>"):"<td/>"},computeEventTimeFormat:function(){return this.view.opt("extraSmallTimeFormat")},computeDisplayEventEnd:function(){return 1==this.colCnt},rangeUpdated:function(){this.updateDayTable()},spanToSegs:function(e){var t,n,r=this.sliceRangeByRow(e);for(t=0;t<r.length;t++)n=r[t],this.isRTL?(n.leftCol=this.daysPerRow-1-n.lastRowDayIndex,n.rightCol=this.daysPerRow-1-n.firstRowDayIndex):(n.leftCol=n.firstRowDayIndex,n.rightCol=n.lastRowDayIndex);return r},prepareHits:function(){this.colCoordCache.build(),this.rowCoordCache.build(),this.rowCoordCache.bottoms[this.rowCnt-1]+=this.bottomCoordPadding},releaseHits:function(){this.colCoordCache.clear(),this.rowCoordCache.clear()},queryHit:function(e,t){var n=this.colCoordCache.getHorizontalIndex(e),r=this.rowCoordCache.getVerticalIndex(t);return null!=r&&null!=n?this.getCellHit(r,n):void 0},getHitSpan:function(e){return this.getCellRange(e.row,e.col)},getHitEl:function(e){return this.getCellEl(e.row,e.col)},getCellHit:function(e,t){return{row:e,col:t,component:this,left:this.colCoordCache.getLeftOffset(t),right:this.colCoordCache.getRightOffset(t),top:this.rowCoordCache.getTopOffset(e),bottom:this.rowCoordCache.getBottomOffset(e)}},getCellEl:function(e,t){return this.cellEls.eq(e*this.colCnt+t)},renderDrag:function(e,t){return this.renderHighlight(this.eventToSpan(e)),t&&!t.el.closest(this.el).length?this.renderEventLocationHelper(e,t):void 0},unrenderDrag:function(){this.unrenderHighlight(),this.unrenderHelper()},renderEventResize:function(e,t){return this.renderHighlight(this.eventToSpan(e)),this.renderEventLocationHelper(e,t)},unrenderEventResize:function(){this.unrenderHighlight(),this.unrenderHelper()},renderHelper:function(t,n){var r,i=[],o=this.eventToSegs(t);return o=this.renderFgSegEls(o),r=this.renderSegRows(o),this.rowEls.each(function(t,o){var a,s=e(o),l=e('<div class="fc-helper-skeleton"><table/></div>');a=n&&n.row===t?n.el.position().top:s.find(".fc-content-skeleton tbody").position().top,l.css("top",a).find("table").append(r[t].tbodyEl),s.append(l),i.push(l[0])}),this.helperEls=e(i)},unrenderHelper:function(){this.helperEls&&(this.helperEls.remove(),this.helperEls=null)},fillSegTag:"td",renderFill:function(t,n,r){var i,o,a,s=[];for(n=this.renderFillSegEls(t,n),i=0;i<n.length;i++)o=n[i],a=this.renderFillRow(t,o,r),this.rowEls.eq(o.row).append(a),s.push(a[0]);return this.elsByFill[t]=e(s),n},renderFillRow:function(t,n,r){var i,o,a=this.colCnt,s=n.leftCol,l=n.rightCol+1;return r=r||t.toLowerCase(),i=e('<div class="fc-'+r+'-skeleton"><table><tr/></table></div>'),o=i.find("tr"),s>0&&o.append('<td colspan="'+s+'"/>'),o.append(n.el.attr("colspan",l-s)),a>l&&o.append('<td colspan="'+(a-l)+'"/>'),this.bookendCells(o),i}});$t.mixin({rowStructs:null,unrenderEvents:function(){this.removeSegPopover(),yt.prototype.unrenderEvents.apply(this,arguments)},getEventSegs:function(){return yt.prototype.getEventSegs.call(this).concat(this.popoverSegs||[])},renderBgSegs:function(t){var n=e.grep(t,function(e){return e.event.allDay});return yt.prototype.renderBgSegs.call(this,n)},renderFgSegs:function(t){var n;return t=this.renderFgSegEls(t),n=this.rowStructs=this.renderSegRows(t),this.rowEls.each(function(t,r){e(r).find(".fc-content-skeleton > table").append(n[t].tbodyEl)}),t},unrenderFgSegs:function(){for(var e,t=this.rowStructs||[];e=t.pop();)e.tbodyEl.remove();this.rowStructs=null},renderSegRows:function(e){var t,n,r=[];for(t=this.groupSegRows(e),n=0;n<t.length;n++)r.push(this.renderSegRow(n,t[n]));return r},fgSegHtml:function(e,t){var n,r,i=this.view,o=e.event,a=i.isEventDraggable(o),s=!t&&o.allDay&&e.isStart&&i.isEventResizableFromStart(o),l=!t&&o.allDay&&e.isEnd&&i.isEventResizableFromEnd(o),u=this.getSegClasses(e,a,s||l),c=ie(this.getSegSkinCss(e)),d="";return u.unshift("fc-day-grid-event","fc-h-event"),e.isStart&&(n=this.getEventTimeText(o),n&&(d='<span class="fc-time">'+ne(n)+"</span>")),r='<span class="fc-title">'+(ne(o.title||"")||"&nbsp;")+"</span>",'<a class="'+u.join(" ")+'"'+(o.url?' href="'+ne(o.url)+'"':"")+(c?' style="'+c+'"':"")+'><div class="fc-content">'+(this.isRTL?r+" "+d:d+" "+r)+"</div>"+(s?'<div class="fc-resizer fc-start-resizer" />':"")+(l?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},renderSegRow:function(t,n){function r(t){for(;t>a;)c=(v[i-1]||[])[a],c?c.attr("rowspan",parseInt(c.attr("rowspan")||1,10)+1):(c=e("<td/>"),s.append(c)),m[i][a]=c,v[i][a]=c,a++}var i,o,a,s,l,u,c,d=this.colCnt,f=this.buildSegLevels(n),h=Math.max(1,f.length),p=e("<tbody/>"),g=[],m=[],v=[];for(i=0;h>i;i++){if(o=f[i],a=0,s=e("<tr/>"),g.push([]),m.push([]),v.push([]),o)for(l=0;l<o.length;l++){for(u=o[l],r(u.leftCol),c=e('<td class="fc-event-container"/>').append(u.el),u.leftCol!=u.rightCol?c.attr("colspan",u.rightCol-u.leftCol+1):v[i][a]=c;a<=u.rightCol;)m[i][a]=c,g[i][a]=u,a++;s.append(c)}r(d),this.bookendCells(s),p.append(s)}return{row:t,tbodyEl:p,cellMatrix:m,segMatrix:g,segLevels:f,segs:n}},buildSegLevels:function(e){var t,n,r,i=[];for(this.sortEventSegs(e),t=0;t<e.length;t++){for(n=e[t],r=0;r<i.length&&Fe(n,i[r]);r++);n.level=r,(i[r]||(i[r]=[])).push(n)}for(r=0;r<i.length;r++)i[r].sort(Re);return i},groupSegRows:function(e){var t,n=[];for(t=0;t<this.rowCnt;t++)n.push([]);for(t=0;t<e.length;t++)n[e[t].row].push(e[t]);return n}}),$t.mixin({segPopover:null,popoverSegs:null,removeSegPopover:function(){this.segPopover&&this.segPopover.hide()},limitRows:function(e){var t,n,r=this.rowStructs||[];for(t=0;t<r.length;t++)this.unlimitRow(t),n=!!e&&("number"==typeof e?e:this.computeRowLevelLimit(t)),n!==!1&&this.limitRow(t,n)},computeRowLevelLimit:function(t){function n(t,n){o=Math.max(o,e(n).outerHeight())}var r,i,o,a=this.rowEls.eq(t),s=a.height(),l=this.rowStructs[t].tbodyEl.children();
for(r=0;r<l.length;r++)if(i=l.eq(r).removeClass("fc-limited"),o=0,i.find("> td > :first-child").each(n),i.position().top+o>s)return r;return!1},limitRow:function(t,n){function r(r){for(;r>w;)u=b.getCellSegs(t,w,n),u.length&&(f=o[n-1][w],y=b.renderMoreLink(t,w,u),v=e("<div/>").append(y),f.append(v),E.push(v[0])),w++}var i,o,a,s,l,u,c,d,f,h,p,g,m,v,y,b=this,$=this.rowStructs[t],E=[],w=0;if(n&&n<$.segLevels.length){for(i=$.segLevels[n-1],o=$.cellMatrix,a=$.tbodyEl.children().slice(n).addClass("fc-limited").get(),s=0;s<i.length;s++){for(l=i[s],r(l.leftCol),d=[],c=0;w<=l.rightCol;)u=this.getCellSegs(t,w,n),d.push(u),c+=u.length,w++;if(c){for(f=o[n-1][l.leftCol],h=f.attr("rowspan")||1,p=[],g=0;g<d.length;g++)m=e('<td class="fc-more-cell"/>').attr("rowspan",h),u=d[g],y=this.renderMoreLink(t,l.leftCol+g,[l].concat(u)),v=e("<div/>").append(y),m.append(v),p.push(m[0]),E.push(m[0]);f.addClass("fc-limited").after(e(p)),a.push(f[0])}}r(this.colCnt),$.moreEls=e(E),$.limitedEls=e(a)}},unlimitRow:function(e){var t=this.rowStructs[e];t.moreEls&&(t.moreEls.remove(),t.moreEls=null),t.limitedEls&&(t.limitedEls.removeClass("fc-limited"),t.limitedEls=null)},renderMoreLink:function(t,n,r){var i=this,o=this.view;return e('<a class="fc-more"/>').text(this.getMoreLinkText(r.length)).on("click",function(a){var s=o.opt("eventLimitClick"),l=i.getCellDate(t,n),u=e(this),c=i.getCellEl(t,n),d=i.getCellSegs(t,n),f=i.resliceDaySegs(d,l),h=i.resliceDaySegs(r,l);"function"==typeof s&&(s=o.trigger("eventLimitClick",null,{date:l,dayEl:c,moreEl:u,segs:f,hiddenSegs:h},a)),"popover"===s?i.showSegPopover(t,n,u,f):"string"==typeof s&&o.calendar.zoomTo(l,s)})},showSegPopover:function(e,t,n,r){var i,o,a=this,s=this.view,l=n.parent();i=1==this.rowCnt?s.el:this.rowEls.eq(e),o={className:"fc-more-popover",content:this.renderSegPopoverContent(e,t,r),parentEl:this.el,top:i.offset().top,autoHide:!0,viewportConstrain:s.opt("popoverViewportConstrain"),hide:function(){a.segPopover.removeElement(),a.segPopover=null,a.popoverSegs=null}},this.isRTL?o.right=l.offset().left+l.outerWidth()+1:o.left=l.offset().left-1,this.segPopover=new ht(o),this.segPopover.show()},renderSegPopoverContent:function(t,n,r){var i,o=this.view,a=o.opt("theme"),s=this.getCellDate(t,n).format(o.opt("dayPopoverFormat")),l=e('<div class="fc-header '+o.widgetHeaderClass+'"><span class="fc-close '+(a?"ui-icon ui-icon-closethick":"fc-icon fc-icon-x")+'"></span><span class="fc-title">'+ne(s)+'</span><div class="fc-clear"/></div><div class="fc-body '+o.widgetContentClass+'"><div class="fc-event-container"></div></div>'),u=l.find(".fc-event-container");for(r=this.renderFgSegEls(r,!0),this.popoverSegs=r,i=0;i<r.length;i++)this.prepareHits(),r[i].hit=this.getCellHit(t,n),this.releaseHits(),u.append(r[i].el);return l},resliceDaySegs:function(t,n){var r=e.map(t,function(e){return e.event}),i=n.clone(),o=i.clone().add(1,"days"),a={start:i,end:o};return t=this.eventsToSegs(r,function(e){var t=I(e,a);return t?[t]:[]}),this.sortEventSegs(t),t},getMoreLinkText:function(e){var t=this.view.opt("eventLimitText");return"function"==typeof t?t(e):"+"+e+" "+t},getCellSegs:function(e,t,n){for(var r,i=this.rowStructs[e].segMatrix,o=n||0,a=[];o<i.length;)r=i[o][t],r&&a.push(r),o++;return a}});var Et=Ye.TimeGrid=yt.extend(bt,{slotDuration:null,snapDuration:null,snapsPerSlot:null,minTime:null,maxTime:null,labelFormat:null,labelInterval:null,colEls:null,slatContainerEl:null,slatEls:null,nowIndicatorEls:null,colCoordCache:null,slatCoordCache:null,constructor:function(){yt.apply(this,arguments),this.processOptions()},renderDates:function(){this.el.html(this.renderHtml()),this.colEls=this.el.find(".fc-day"),this.slatContainerEl=this.el.find(".fc-slats"),this.slatEls=this.slatContainerEl.find("tr"),this.colCoordCache=new pt({els:this.colEls,isHorizontal:!0}),this.slatCoordCache=new pt({els:this.slatEls,isVertical:!0}),this.renderContentSkeleton()},renderHtml:function(){return'<div class="fc-bg"><table>'+this.renderBgTrHtml(0)+'</table></div><div class="fc-slats"><table>'+this.renderSlatRowHtml()+"</table></div>"},renderSlatRowHtml:function(){for(var e,n,r,i=this.view,o=this.isRTL,a="",s=t.duration(+this.minTime);s<this.maxTime;)e=this.start.clone().time(s),n=se(z(s,this.labelInterval)),r='<td class="fc-axis fc-time '+i.widgetContentClass+'" '+i.axisStyleAttr()+">"+(n?"<span>"+ne(e.format(this.labelFormat))+"</span>":"")+"</td>",a+='<tr data-time="'+e.format("HH:mm:ss")+'"'+(n?"":' class="fc-minor"')+">"+(o?"":r)+'<td class="'+i.widgetContentClass+'"/>'+(o?r:"")+"</tr>",s.add(this.slotDuration);return a},processOptions:function(){var n,r=this.view,i=r.opt("slotDuration"),o=r.opt("snapDuration");i=t.duration(i),o=o?t.duration(o):i,this.slotDuration=i,this.snapDuration=o,this.snapsPerSlot=i/o,this.minResizeDuration=o,this.minTime=t.duration(r.opt("minTime")),this.maxTime=t.duration(r.opt("maxTime")),n=r.opt("slotLabelFormat"),e.isArray(n)&&(n=n[n.length-1]),this.labelFormat=n||r.opt("axisFormat")||r.opt("smallTimeFormat"),n=r.opt("slotLabelInterval"),this.labelInterval=n?t.duration(n):this.computeLabelInterval(i)},computeLabelInterval:function(e){var n,r,i;for(n=Pt.length-1;n>=0;n--)if(r=t.duration(Pt[n]),i=z(r,e),se(i)&&i>1)return r;return t.duration(e)},computeEventTimeFormat:function(){return this.view.opt("noMeridiemTimeFormat")},computeDisplayEventEnd:function(){return!0},prepareHits:function(){this.colCoordCache.build(),this.slatCoordCache.build()},releaseHits:function(){this.colCoordCache.clear()},queryHit:function(e,t){var n=this.snapsPerSlot,r=this.colCoordCache,i=this.slatCoordCache,o=r.getHorizontalIndex(e),a=i.getVerticalIndex(t);if(null!=o&&null!=a){var s=i.getTopOffset(a),l=i.getHeight(a),u=(t-s)/l,c=Math.floor(u*n),d=a*n+c,f=s+c/n*l,h=s+(c+1)/n*l;return{col:o,snap:d,component:this,left:r.getLeftOffset(o),right:r.getRightOffset(o),top:f,bottom:h}}},getHitSpan:function(e){var t,n=this.getCellDate(0,e.col),r=this.computeSnapTime(e.snap);return n.time(r),t=n.clone().add(this.snapDuration),{start:n,end:t}},getHitEl:function(e){return this.colEls.eq(e.col)},rangeUpdated:function(){this.updateDayTable()},computeSnapTime:function(e){return t.duration(this.minTime+this.snapDuration*e)},spanToSegs:function(e){var t,n=this.sliceRangeByTimes(e);for(t=0;t<n.length;t++)this.isRTL?n[t].col=this.daysPerRow-1-n[t].dayIndex:n[t].col=n[t].dayIndex;return n},sliceRangeByTimes:function(e){var t,n,r,i,o=[];for(n=0;n<this.daysPerRow;n++)r=this.dayDates[n].clone(),i={start:r.clone().time(this.minTime),end:r.clone().time(this.maxTime)},t=I(e,i),t&&(t.dayIndex=n,o.push(t));return o},updateSize:function(e){this.slatCoordCache.build(),e&&this.updateSegVerticals([].concat(this.fgSegs||[],this.bgSegs||[],this.businessSegs||[]))},getTotalSlatHeight:function(){return this.slatContainerEl.outerHeight()},computeDateTop:function(e,n){return this.computeTimeTop(t.duration(e-n.clone().stripTime()))},computeTimeTop:function(e){var t,n,r=this.slatEls.length,i=(e-this.minTime)/this.slotDuration;return i=Math.max(0,i),i=Math.min(r,i),t=Math.floor(i),t=Math.min(t,r-1),n=i-t,this.slatCoordCache.getTopPosition(t)+this.slatCoordCache.getHeight(t)*n},renderDrag:function(e,t){return t?this.renderEventLocationHelper(e,t):void this.renderHighlight(this.eventToSpan(e))},unrenderDrag:function(){this.unrenderHelper(),this.unrenderHighlight()},renderEventResize:function(e,t){return this.renderEventLocationHelper(e,t)},unrenderEventResize:function(){this.unrenderHelper()},renderHelper:function(e,t){return this.renderHelperSegs(this.eventToSegs(e),t)},unrenderHelper:function(){this.unrenderHelperSegs()},renderBusinessHours:function(){var e=this.view.calendar.getBusinessHoursEvents(),t=this.eventsToSegs(e);this.renderBusinessSegs(t)},unrenderBusinessHours:function(){this.unrenderBusinessSegs()},getNowIndicatorUnit:function(){return"minute"},renderNowIndicator:function(t){var n,r=this.spanToSegs({start:t,end:t}),i=this.computeDateTop(t,t),o=[];for(n=0;n<r.length;n++)o.push(e('<div class="fc-now-indicator fc-now-indicator-line"></div>').css("top",i).appendTo(this.colContainerEls.eq(r[n].col))[0]);r.length>0&&o.push(e('<div class="fc-now-indicator fc-now-indicator-arrow"></div>').css("top",i).appendTo(this.el.find(".fc-content-skeleton"))[0]),this.nowIndicatorEls=e(o)},unrenderNowIndicator:function(){this.nowIndicatorEls&&(this.nowIndicatorEls.remove(),this.nowIndicatorEls=null)},renderSelection:function(e){this.view.opt("selectHelper")?this.renderEventLocationHelper(e):this.renderHighlight(e)},unrenderSelection:function(){this.unrenderHelper(),this.unrenderHighlight()},renderHighlight:function(e){this.renderHighlightSegs(this.spanToSegs(e))},unrenderHighlight:function(){this.unrenderHighlightSegs()}});Et.mixin({colContainerEls:null,fgContainerEls:null,bgContainerEls:null,helperContainerEls:null,highlightContainerEls:null,businessContainerEls:null,fgSegs:null,bgSegs:null,helperSegs:null,highlightSegs:null,businessSegs:null,renderContentSkeleton:function(){var t,n,r="";for(t=0;t<this.colCnt;t++)r+='<td><div class="fc-content-col"><div class="fc-event-container fc-helper-container"></div><div class="fc-event-container"></div><div class="fc-highlight-container"></div><div class="fc-bgevent-container"></div><div class="fc-business-container"></div></div></td>';n=e('<div class="fc-content-skeleton"><table><tr>'+r+"</tr></table></div>"),this.colContainerEls=n.find(".fc-content-col"),this.helperContainerEls=n.find(".fc-helper-container"),this.fgContainerEls=n.find(".fc-event-container:not(.fc-helper-container)"),this.bgContainerEls=n.find(".fc-bgevent-container"),this.highlightContainerEls=n.find(".fc-highlight-container"),this.businessContainerEls=n.find(".fc-business-container"),this.bookendCells(n.find("tr")),this.el.append(n)},renderFgSegs:function(e){return e=this.renderFgSegsIntoContainers(e,this.fgContainerEls),this.fgSegs=e,e},unrenderFgSegs:function(){this.unrenderNamedSegs("fgSegs")},renderHelperSegs:function(t,n){var r,i,o,a=[];for(t=this.renderFgSegsIntoContainers(t,this.helperContainerEls),r=0;r<t.length;r++)i=t[r],n&&n.col===i.col&&(o=n.el,i.el.css({left:o.css("left"),right:o.css("right"),"margin-left":o.css("margin-left"),"margin-right":o.css("margin-right")})),a.push(i.el[0]);return this.helperSegs=t,e(a)},unrenderHelperSegs:function(){this.unrenderNamedSegs("helperSegs")},renderBgSegs:function(e){return e=this.renderFillSegEls("bgEvent",e),this.updateSegVerticals(e),this.attachSegsByCol(this.groupSegsByCol(e),this.bgContainerEls),this.bgSegs=e,e},unrenderBgSegs:function(){this.unrenderNamedSegs("bgSegs")},renderHighlightSegs:function(e){e=this.renderFillSegEls("highlight",e),this.updateSegVerticals(e),this.attachSegsByCol(this.groupSegsByCol(e),this.highlightContainerEls),this.highlightSegs=e},unrenderHighlightSegs:function(){this.unrenderNamedSegs("highlightSegs")},renderBusinessSegs:function(e){e=this.renderFillSegEls("businessHours",e),this.updateSegVerticals(e),this.attachSegsByCol(this.groupSegsByCol(e),this.businessContainerEls),this.businessSegs=e},unrenderBusinessSegs:function(){this.unrenderNamedSegs("businessSegs")},groupSegsByCol:function(e){var t,n=[];for(t=0;t<this.colCnt;t++)n.push([]);for(t=0;t<e.length;t++)n[e[t].col].push(e[t]);return n},attachSegsByCol:function(e,t){var n,r,i;for(n=0;n<this.colCnt;n++)for(r=e[n],i=0;i<r.length;i++)t.eq(n).append(r[i].el)},unrenderNamedSegs:function(e){var t,n=this[e];if(n){for(t=0;t<n.length;t++)n[t].el.remove();this[e]=null}},renderFgSegsIntoContainers:function(e,t){var n,r;for(e=this.renderFgSegEls(e),n=this.groupSegsByCol(e),r=0;r<this.colCnt;r++)this.updateFgSegCoords(n[r]);return this.attachSegsByCol(n,t),e},fgSegHtml:function(e,t){var n,r,i,o=this.view,a=e.event,s=o.isEventDraggable(a),l=!t&&e.isStart&&o.isEventResizableFromStart(a),u=!t&&e.isEnd&&o.isEventResizableFromEnd(a),c=this.getSegClasses(e,s,l||u),d=ie(this.getSegSkinCss(e));return c.unshift("fc-time-grid-event","fc-v-event"),o.isMultiDayEvent(a)?(e.isStart||e.isEnd)&&(n=this.getEventTimeText(e),r=this.getEventTimeText(e,"LT"),i=this.getEventTimeText(e,null,!1)):(n=this.getEventTimeText(a),r=this.getEventTimeText(a,"LT"),i=this.getEventTimeText(a,null,!1)),'<a class="'+c.join(" ")+'"'+(a.url?' href="'+ne(a.url)+'"':"")+(d?' style="'+d+'"':"")+'><div class="fc-content">'+(n?'<div class="fc-time" data-start="'+ne(i)+'" data-full="'+ne(r)+'"><span>'+ne(n)+"</span></div>":"")+(a.title?'<div class="fc-title">'+ne(a.title)+"</div>":"")+'</div><div class="fc-bg"/>'+(u?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},updateSegVerticals:function(e){this.computeSegVerticals(e),this.assignSegVerticals(e)},computeSegVerticals:function(e){var t,n;for(t=0;t<e.length;t++)n=e[t],n.top=this.computeDateTop(n.start,n.start),n.bottom=this.computeDateTop(n.end,n.start)},assignSegVerticals:function(e){var t,n;for(t=0;t<e.length;t++)n=e[t],n.el.css(this.generateSegVerticalCss(n))},generateSegVerticalCss:function(e){return{top:e.top,bottom:-e.bottom}},updateFgSegCoords:function(e){this.computeSegVerticals(e),this.computeFgSegHorizontals(e),this.assignSegVerticals(e),this.assignFgSegHorizontals(e)},computeFgSegHorizontals:function(e){var t,n,r;if(this.sortEventSegs(e),t=Ie(e),Le(t),n=t[0]){for(r=0;r<n.length;r++)Pe(n[r]);for(r=0;r<n.length;r++)this.computeFgSegForwardBack(n[r],0,0)}},computeFgSegForwardBack:function(e,t,n){var r,i=e.forwardSegs;if(void 0===e.forwardCoord)for(i.length?(this.sortForwardSegs(i),this.computeFgSegForwardBack(i[0],t+1,n),e.forwardCoord=i[0].backwardCoord):e.forwardCoord=1,e.backwardCoord=e.forwardCoord-(e.forwardCoord-n)/(t+1),r=0;r<i.length;r++)this.computeFgSegForwardBack(i[r],0,e.forwardCoord)},sortForwardSegs:function(e){e.sort(le(this,"compareForwardSegs"))},compareForwardSegs:function(e,t){return t.forwardPressure-e.forwardPressure||(e.backwardCoord||0)-(t.backwardCoord||0)||this.compareEventSegs(e,t)},assignFgSegHorizontals:function(e){var t,n;for(t=0;t<e.length;t++)n=e[t],n.el.css(this.generateFgSegHorizontalCss(n)),n.bottom-n.top<30&&n.el.addClass("fc-short")},generateFgSegHorizontalCss:function(e){var t,n,r=this.view.opt("slotEventOverlap"),i=e.backwardCoord,o=e.forwardCoord,a=this.generateSegVerticalCss(e);return r&&(o=Math.min(1,i+2*(o-i))),this.isRTL?(t=1-o,n=i):(t=i,n=1-o),a.zIndex=e.level+1,a.left=100*t+"%",a.right=100*n+"%",r&&e.forwardPressure&&(a[this.isRTL?"marginLeft":"marginRight"]=20),a}});var wt=Ye.View=Se.extend(ct,dt,{type:null,name:null,title:null,calendar:null,options:null,el:null,displaying:null,isSkeletonRendered:!1,isEventsRendered:!1,start:null,end:null,intervalStart:null,intervalEnd:null,intervalDuration:null,intervalUnit:null,isRTL:!1,isSelected:!1,selectedEvent:null,eventOrderSpecs:null,widgetHeaderClass:null,widgetContentClass:null,highlightStateClass:null,nextDayThreshold:null,isHiddenDayHash:null,isNowIndicatorRendered:null,initialNowDate:null,initialNowQueriedMs:null,nowIndicatorTimeoutID:null,nowIndicatorIntervalID:null,constructor:function(e,n,r,i){this.calendar=e,this.type=this.name=n,this.options=r,this.intervalDuration=i||t.duration(1,"day"),this.nextDayThreshold=t.duration(this.opt("nextDayThreshold")),this.initThemingProps(),this.initHiddenDays(),this.isRTL=this.opt("isRTL"),this.eventOrderSpecs=M(this.opt("eventOrder")),this.initialize()},initialize:function(){},opt:function(e){return this.options[e]},trigger:function(e,t){var n=this.calendar;return n.trigger.apply(n,[e,t||this].concat(Array.prototype.slice.call(arguments,2),[this]))},setDate:function(e){this.setRange(this.computeRange(e))},setRange:function(t){e.extend(this,t),this.updateTitle()},computeRange:function(e){var t,n,r=B(this.intervalDuration),i=e.clone().startOf(r),o=i.clone().add(this.intervalDuration);return/year|month|week|day/.test(r)?(i.stripTime(),o.stripTime()):(i.hasTime()||(i=this.calendar.time(0)),o.hasTime()||(o=this.calendar.time(0))),t=i.clone(),t=this.skipHiddenDays(t),n=o.clone(),n=this.skipHiddenDays(n,-1,!0),{intervalUnit:r,intervalStart:i,intervalEnd:o,start:t,end:n}},computePrevDate:function(e){return this.massageCurrentDate(e.clone().startOf(this.intervalUnit).subtract(this.intervalDuration),-1)},computeNextDate:function(e){return this.massageCurrentDate(e.clone().startOf(this.intervalUnit).add(this.intervalDuration))},massageCurrentDate:function(e,t){return this.intervalDuration.as("days")<=1&&this.isHiddenDay(e)&&(e=this.skipHiddenDays(e,t),e.startOf("day")),e},updateTitle:function(){this.title=this.computeTitle()},computeTitle:function(){return this.formatRange({start:this.calendar.applyTimezone(this.intervalStart),end:this.calendar.applyTimezone(this.intervalEnd)},this.opt("titleFormat")||this.computeTitleFormat(),this.opt("titleRangeSeparator"))},computeTitleFormat:function(){return"year"==this.intervalUnit?"YYYY":"month"==this.intervalUnit?this.opt("monthYearFormat"):this.intervalDuration.as("days")>1?"ll":"LL"},formatRange:function(e,t,n){var r=e.end;return r.hasTime()||(r=r.clone().subtract(1)),ye(e.start,r,t,n,this.opt("isRTL"))},setElement:function(e){this.el=e,this.bindGlobalHandlers()},removeElement:function(){this.clear(),this.isSkeletonRendered&&(this.unrenderSkeleton(),this.isSkeletonRendered=!1),this.unbindGlobalHandlers(),this.el.remove()},display:function(t){var n=this,r=null;return this.displaying&&(r=this.queryScroll()),this.calendar.freezeContentHeight(),this.clear().then(function(){return n.displaying=e.when(n.displayView(t)).then(function(){n.forceScroll(n.computeInitialScroll(r)),n.calendar.unfreezeContentHeight(),n.triggerRender()})})},clear:function(){var t=this,n=this.displaying;return n?n.then(function(){return t.displaying=null,t.clearEvents(),t.clearView()}):e.when()},displayView:function(e){this.isSkeletonRendered||(this.renderSkeleton(),this.isSkeletonRendered=!0),e&&this.setDate(e),this.render&&this.render(),this.renderDates(),this.updateSize(),this.renderBusinessHours(),this.startNowIndicator()},clearView:function(){this.unselect(),this.stopNowIndicator(),this.triggerUnrender(),this.unrenderBusinessHours(),this.unrenderDates(),this.destroy&&this.destroy()},renderSkeleton:function(){},unrenderSkeleton:function(){},renderDates:function(){},unrenderDates:function(){},triggerRender:function(){this.trigger("viewRender",this,this,this.el)},triggerUnrender:function(){this.trigger("viewDestroy",this,this,this.el)},bindGlobalHandlers:function(){this.listenTo(e(document),"mousedown",this.handleDocumentMousedown),this.listenTo(e(document),"touchstart",this.processUnselect)},unbindGlobalHandlers:function(){this.stopListeningTo(e(document))},initThemingProps:function(){var e=this.opt("theme")?"ui":"fc";this.widgetHeaderClass=e+"-widget-header",this.widgetContentClass=e+"-widget-content",this.highlightStateClass=e+"-state-highlight"},renderBusinessHours:function(){},unrenderBusinessHours:function(){},startNowIndicator:function(){var e,n,r,i=this;this.opt("nowIndicator")&&(e=this.getNowIndicatorUnit(),e&&(n=le(this,"updateNowIndicator"),this.initialNowDate=this.calendar.getNow(),this.initialNowQueriedMs=+new Date,this.renderNowIndicator(this.initialNowDate),this.isNowIndicatorRendered=!0,r=this.initialNowDate.clone().startOf(e).add(1,e)-this.initialNowDate,this.nowIndicatorTimeoutID=setTimeout(function(){i.nowIndicatorTimeoutID=null,n(),r=+t.duration(1,e),r=Math.max(100,r),i.nowIndicatorIntervalID=setInterval(n,r)},r)))},updateNowIndicator:function(){this.isNowIndicatorRendered&&(this.unrenderNowIndicator(),this.renderNowIndicator(this.initialNowDate.clone().add(new Date-this.initialNowQueriedMs)))},stopNowIndicator:function(){this.isNowIndicatorRendered&&(this.nowIndicatorTimeoutID&&(clearTimeout(this.nowIndicatorTimeoutID),this.nowIndicatorTimeoutID=null),this.nowIndicatorIntervalID&&(clearTimeout(this.nowIndicatorIntervalID),this.nowIndicatorIntervalID=null),this.unrenderNowIndicator(),this.isNowIndicatorRendered=!1)},getNowIndicatorUnit:function(){},renderNowIndicator:function(e){},unrenderNowIndicator:function(){},updateSize:function(e){var t;e&&(t=this.queryScroll()),this.updateHeight(e),this.updateWidth(e),this.updateNowIndicator(),e&&this.setScroll(t)},updateWidth:function(e){},updateHeight:function(e){var t=this.calendar;this.setHeight(t.getSuggestedViewHeight(),t.isHeightAuto())},setHeight:function(e,t){},computeInitialScroll:function(e){return 0},queryScroll:function(){},setScroll:function(e){},forceScroll:function(e){var t=this;this.setScroll(e),setTimeout(function(){t.setScroll(e)},0)},displayEvents:function(e){var t=this.queryScroll();this.clearEvents(),this.renderEvents(e),this.isEventsRendered=!0,this.setScroll(t),this.triggerEventRender()},clearEvents:function(){var e;this.isEventsRendered&&(e=this.queryScroll(),this.triggerEventUnrender(),this.destroyEvents&&this.destroyEvents(),this.unrenderEvents(),this.setScroll(e),this.isEventsRendered=!1)},renderEvents:function(e){},unrenderEvents:function(){},triggerEventRender:function(){this.renderedEventSegEach(function(e){this.trigger("eventAfterRender",e.event,e.event,e.el)}),this.trigger("eventAfterAllRender")},triggerEventUnrender:function(){this.renderedEventSegEach(function(e){this.trigger("eventDestroy",e.event,e.event,e.el)})},resolveEventEl:function(t,n){var r=this.trigger("eventRender",t,t,n);return r===!1?n=null:r&&r!==!0&&(n=e(r)),n},showEvent:function(e){this.renderedEventSegEach(function(e){e.el.css("visibility","")},e)},hideEvent:function(e){this.renderedEventSegEach(function(e){e.el.css("visibility","hidden")},e)},renderedEventSegEach:function(e,t){var n,r=this.getEventSegs();for(n=0;n<r.length;n++)t&&r[n].event._id!==t._id||r[n].el&&e.call(this,r[n])},getEventSegs:function(){return[]},isEventDraggable:function(e){var t=e.source||{};return te(e.startEditable,t.startEditable,this.opt("eventStartEditable"),e.editable,t.editable,this.opt("editable"))},reportEventDrop:function(e,t,n,r,i){var o=this.calendar,a=o.mutateEvent(e,t,n),s=function(){a.undo(),o.reportEventChange()};this.triggerEventDrop(e,a.dateDelta,s,r,i),o.reportEventChange()},triggerEventDrop:function(e,t,n,r,i){this.trigger("eventDrop",r[0],e,t,n,i,{})},reportExternalDrop:function(t,n,r,i,o){var a,s,l=t.eventProps;l&&(a=e.extend({},l,n),s=this.calendar.renderEvent(a,t.stick)[0]),this.triggerExternalDrop(s,n,r,i,o)},triggerExternalDrop:function(e,t,n,r,i){this.trigger("drop",n[0],t.start,r,i),e&&this.trigger("eventReceive",null,e)},renderDrag:function(e,t){},unrenderDrag:function(){},isEventResizableFromStart:function(e){return this.opt("eventResizableFromStart")&&this.isEventResizable(e)},isEventResizableFromEnd:function(e){return this.isEventResizable(e)},isEventResizable:function(e){var t=e.source||{};return te(e.durationEditable,t.durationEditable,this.opt("eventDurationEditable"),e.editable,t.editable,this.opt("editable"))},reportEventResize:function(e,t,n,r,i){var o=this.calendar,a=o.mutateEvent(e,t,n),s=function(){a.undo(),o.reportEventChange()};this.triggerEventResize(e,a.durationDelta,s,r,i),o.reportEventChange()},triggerEventResize:function(e,t,n,r,i){this.trigger("eventResize",r[0],e,t,n,i,{})},select:function(e,t){this.unselect(t),this.renderSelection(e),this.reportSelection(e,t)},renderSelection:function(e){},reportSelection:function(e,t){this.isSelected=!0,this.triggerSelect(e,t)},triggerSelect:function(e,t){this.trigger("select",null,this.calendar.applyTimezone(e.start),this.calendar.applyTimezone(e.end),t)},unselect:function(e){this.isSelected&&(this.isSelected=!1,this.destroySelection&&this.destroySelection(),this.unrenderSelection(),this.trigger("unselect",null,e))},unrenderSelection:function(){},selectEvent:function(e){this.selectedEvent&&this.selectedEvent===e||(this.unselectEvent(),this.renderedEventSegEach(function(e){e.el.addClass("fc-selected")},e),this.selectedEvent=e)},unselectEvent:function(){this.selectedEvent&&(this.renderedEventSegEach(function(e){e.el.removeClass("fc-selected")},this.selectedEvent),this.selectedEvent=null)},isEventSelected:function(e){return this.selectedEvent&&this.selectedEvent._id===e._id},handleDocumentMousedown:function(e){$(e)&&this.processUnselect(e)},processUnselect:function(e){this.processRangeUnselect(e),this.processEventUnselect(e)},processRangeUnselect:function(t){var n;this.isSelected&&this.opt("unselectAuto")&&(n=this.opt("unselectCancel"),n&&e(t.target).closest(n).length||this.unselect(t))},processEventUnselect:function(t){this.selectedEvent&&(e(t.target).closest(".fc-selected").length||this.unselectEvent())},triggerDayClick:function(e,t,n){this.trigger("dayClick",t,this.calendar.applyTimezone(e.start),n)},initHiddenDays:function(){var t,n=this.opt("hiddenDays")||[],r=[],i=0;for(this.opt("weekends")===!1&&n.push(0,6),t=0;7>t;t++)(r[t]=-1!==e.inArray(t,n))||i++;if(!i)throw"invalid hiddenDays";this.isHiddenDayHash=r},isHiddenDay:function(e){return t.isMoment(e)&&(e=e.day()),this.isHiddenDayHash[e]},skipHiddenDays:function(e,t,n){var r=e.clone();for(t=t||1;this.isHiddenDayHash[(r.day()+(n?t:0)+7)%7];)r.add(t,"days");return r},computeDayRange:function(e){var t,n=e.start.clone().stripTime(),r=e.end,i=null;return r&&(i=r.clone().stripTime(),t=+r.time(),t&&t>=this.nextDayThreshold&&i.add(1,"days")),(!r||n>=i)&&(i=n.clone().add(1,"days")),{start:n,end:i}},isMultiDayEvent:function(e){var t=this.computeDayRange(e);return t.end.diff(t.start,"days")>1}}),St=Ye.Scroller=Se.extend({el:null,scrollEl:null,overflowX:null,overflowY:null,constructor:function(e){e=e||{},this.overflowX=e.overflowX||e.overflow||"auto",this.overflowY=e.overflowY||e.overflow||"auto"},render:function(){this.el=this.renderEl(),this.applyOverflow()},renderEl:function(){return this.scrollEl=e('<div class="fc-scroller"></div>')},clear:function(){this.setHeight("auto"),this.applyOverflow()},destroy:function(){this.el.remove()},applyOverflow:function(){this.scrollEl.css({"overflow-x":this.overflowX,"overflow-y":this.overflowY})},lockOverflow:function(e){var t=this.overflowX,n=this.overflowY;e=e||this.getScrollbarWidths(),"auto"===t&&(t=e.top||e.bottom||this.scrollEl[0].scrollWidth-1>this.scrollEl[0].clientWidth?"scroll":"hidden"),"auto"===n&&(n=e.left||e.right||this.scrollEl[0].scrollHeight-1>this.scrollEl[0].clientHeight?"scroll":"hidden"),this.scrollEl.css({"overflow-x":t,"overflow-y":n})},setHeight:function(e){this.scrollEl.height(e)},getScrollTop:function(){return this.scrollEl.scrollTop()},setScrollTop:function(e){this.scrollEl.scrollTop(e)},getClientWidth:function(){return this.scrollEl[0].clientWidth},getClientHeight:function(){return this.scrollEl[0].clientHeight},getScrollbarWidths:function(){return m(this.scrollEl)}}),xt=Ye.Calendar=Se.extend({dirDefaults:null,langDefaults:null,overrides:null,options:null,viewSpecCache:null,view:null,header:null,loadingLevel:0,constructor:Ue,initialize:function(){},initOptions:function(e){var t,i,o,a;e=r(e),t=e.lang,i=Ct[t],i||(t=xt.defaults.lang,i=Ct[t]||{}),o=te(e.isRTL,i.isRTL,xt.defaults.isRTL),a=o?xt.rtlDefaults:{},this.dirDefaults=a,this.langDefaults=i,this.overrides=e,this.options=n([xt.defaults,a,i,e]),je(this.options),this.viewSpecCache={}},getViewSpec:function(e){var t=this.viewSpecCache;return t[e]||(t[e]=this.buildViewSpec(e))},getUnitViewSpec:function(t){var n,r,i;if(-1!=e.inArray(t,Qe))for(n=this.header.getViewsWithButtons(),e.each(Ye.views,function(e){n.push(e)}),r=0;r<n.length;r++)if(i=this.getViewSpec(n[r]),i&&i.singleUnit==t)return i},buildViewSpec:function(e){for(var r,i,o,a,s=this.overrides.views||{},l=[],u=[],c=[],d=e;d;)r=Ge[d],i=s[d],d=null,"function"==typeof r&&(r={"class":r}),r&&(l.unshift(r),u.unshift(r.defaults||{}),o=o||r.duration,d=d||r.type),i&&(c.unshift(i),o=o||i.duration,d=d||i.type);return r=G(l),r.type=e,!!r["class"]&&(o&&(o=t.duration(o),o.valueOf()&&(r.duration=o,a=B(o),1===o.as(a)&&(r.singleUnit=a,c.unshift(s[a]||{})))),r.defaults=n(u),r.overrides=n(c),this.buildViewSpecOptions(r),this.buildViewSpecButtonText(r,e),r)},buildViewSpecOptions:function(e){e.options=n([xt.defaults,e.defaults,this.dirDefaults,this.langDefaults,this.overrides,e.overrides]),je(e.options)},buildViewSpecButtonText:function(e,t){function n(n){var r=n.buttonText||{};return r[t]||(e.singleUnit?r[e.singleUnit]:null)}e.buttonTextOverride=n(this.overrides)||e.overrides.buttonText,e.buttonTextDefault=n(this.langDefaults)||n(this.dirDefaults)||e.defaults.buttonText||n(xt.defaults)||(e.duration?this.humanizeDuration(e.duration):null)||t},instantiateView:function(e){var t=this.getViewSpec(e);return new t["class"](this,e,t.options,t.duration)},isValidViewType:function(e){return Boolean(this.getViewSpec(e))},pushLoading:function(){this.loadingLevel++||this.trigger("loading",null,!0,this.view)},popLoading:function(){--this.loadingLevel||this.trigger("loading",null,!1,this.view)},buildSelectSpan:function(e,t){var n,r=this.moment(e).stripZone();return n=t?this.moment(t).stripZone():r.hasTime()?r.clone().add(this.defaultTimedEventDuration):r.clone().add(this.defaultAllDayEventDuration),{start:r,end:n}}});xt.mixin(ct),xt.defaults={titleRangeSeparator:" — ",monthYearFormat:"MMMM YYYY",defaultTimedEventDuration:"02:00:00",defaultAllDayEventDuration:{days:1},forceEventDuration:!1,nextDayThreshold:"09:00:00",defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberTitle:"W",weekNumberCalculation:"local",scrollTime:"06:00:00",lazyFetching:!0,startParam:"start",endParam:"end",timezoneParam:"timezone",timezone:!1,isRTL:!1,buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day"},buttonIcons:{prev:"left-single-arrow",next:"right-single-arrow",prevYear:"left-double-arrow",nextYear:"right-double-arrow"},theme:!1,themeButtonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e",prevYear:"seek-prev",nextYear:"seek-next"},dragOpacity:.75,dragRevertDuration:500,dragScroll:!0,unselectAuto:!0,dropAccept:"*",eventOrder:"title",eventLimit:!1,eventLimitText:"more",eventLimitClick:"popover",dayPopoverFormat:"LL",handleWindowResize:!0,windowResizeDelay:200,longPressDelay:1e3},xt.englishDefaults={dayPopoverFormat:"dddd, MMMM D"},xt.rtlDefaults={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:"right-single-arrow",next:"left-single-arrow",prevYear:"right-double-arrow",nextYear:"left-double-arrow"},themeButtonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w",nextYear:"seek-prev",prevYear:"seek-next"}};var Ct=Ye.langs={};Ye.datepickerLang=function(t,n,r){var i=Ct[t]||(Ct[t]={});i.isRTL=r.isRTL,i.weekNumberTitle=r.weekHeader,e.each(Tt,function(e,t){i[e]=t(r)}),e.datepicker&&(e.datepicker.regional[n]=e.datepicker.regional[t]=r,e.datepicker.regional.en=e.datepicker.regional[""],e.datepicker.setDefaults(r))},Ye.lang=function(t,r){var i,o;i=Ct[t]||(Ct[t]={}),r&&(i=Ct[t]=n([i,r])),o=ze(t),e.each(Dt,function(e,t){null==i[e]&&(i[e]=t(o,i))}),xt.defaults.lang=t};var Tt={buttonText:function(e){return{prev:re(e.prevText),next:re(e.nextText),today:re(e.currentText)}},monthYearFormat:function(e){return e.showMonthAfterYear?"YYYY["+e.yearSuffix+"] MMMM":"MMMM YYYY["+e.yearSuffix+"]"}},Dt={dayOfMonthFormat:function(e,t){var n=e.longDateFormat("l");return n=n.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g,""),t.isRTL?n+=" ddd":n="ddd "+n,n},mediumTimeFormat:function(e){return e.longDateFormat("LT").replace(/\s*a$/i,"a")},smallTimeFormat:function(e){return e.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"a")},extraSmallTimeFormat:function(e){return e.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"t")},hourFormat:function(e){return e.longDateFormat("LT").replace(":mm","").replace(/(\Wmm)$/,"").replace(/\s*a$/i,"a")},noMeridiemTimeFormat:function(e){return e.longDateFormat("LT").replace(/\s*a$/i,"")}},kt={smallDayDateFormat:function(e){return e.isRTL?"D dd":"dd D"},weekFormat:function(e){return e.isRTL?"w[ "+e.weekNumberTitle+"]":"["+e.weekNumberTitle+" ]w"},smallWeekFormat:function(e){return e.isRTL?"w["+e.weekNumberTitle+"]":"["+e.weekNumberTitle+"]w"}};Ye.lang("en",xt.englishDefaults),
Ye.sourceNormalizers=[],Ye.sourceFetchers=[];var Nt={dataType:"json",cache:!1},_t=1;xt.prototype.normalizeEvent=function(e){},xt.prototype.getPeerEvents=function(e,t){var n,r,i=this.getEventCache(),o=[];for(n=0;n<i.length;n++)r=i[n],t&&t._id===r._id||o.push(r);return o};var At=Ye.BasicView=wt.extend({scroller:null,dayGridClass:$t,dayGrid:null,dayNumbersVisible:!1,weekNumbersVisible:!1,weekNumberWidth:null,headContainerEl:null,headRowEl:null,initialize:function(){this.dayGrid=this.instantiateDayGrid(),this.scroller=new St({overflowX:"hidden",overflowY:"auto"})},instantiateDayGrid:function(){var e=this.dayGridClass.extend(Mt);return new e(this)},setRange:function(e){wt.prototype.setRange.call(this,e),this.dayGrid.breakOnWeeks=/year|month|week/.test(this.intervalUnit),this.dayGrid.setRange(e)},computeRange:function(e){var t=wt.prototype.computeRange.call(this,e);return/year|month/.test(t.intervalUnit)&&(t.start.startOf("week"),t.start=this.skipHiddenDays(t.start),t.end.weekday()&&(t.end.add(1,"week").startOf("week"),t.end=this.skipHiddenDays(t.end,-1,!0))),t},renderDates:function(){this.dayNumbersVisible=this.dayGrid.rowCnt>1,this.weekNumbersVisible=this.opt("weekNumbers"),this.dayGrid.numbersVisible=this.dayNumbersVisible||this.weekNumbersVisible,this.el.addClass("fc-basic-view").html(this.renderSkeletonHtml()),this.renderHead(),this.scroller.render();var t=this.scroller.el.addClass("fc-day-grid-container"),n=e('<div class="fc-day-grid" />').appendTo(t);this.el.find(".fc-body > tr > td").append(t),this.dayGrid.setElement(n),this.dayGrid.renderDates(this.hasRigidRows())},renderHead:function(){this.headContainerEl=this.el.find(".fc-head-container").html(this.dayGrid.renderHeadHtml()),this.headRowEl=this.headContainerEl.find(".fc-row")},unrenderDates:function(){this.dayGrid.unrenderDates(),this.dayGrid.removeElement(),this.scroller.destroy()},renderBusinessHours:function(){this.dayGrid.renderBusinessHours()},renderSkeletonHtml:function(){return'<table><thead class="fc-head"><tr><td class="fc-head-container '+this.widgetHeaderClass+'"></td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'"></td></tr></tbody></table>'},weekNumberStyleAttr:function(){return null!==this.weekNumberWidth?'style="width:'+this.weekNumberWidth+'px"':""},hasRigidRows:function(){var e=this.opt("eventLimit");return e&&"number"!=typeof e},updateWidth:function(){this.weekNumbersVisible&&(this.weekNumberWidth=c(this.el.find(".fc-week-number")))},setHeight:function(e,t){var n,r,a=this.opt("eventLimit");this.scroller.clear(),o(this.headRowEl),this.dayGrid.removeSegPopover(),a&&"number"==typeof a&&this.dayGrid.limitRows(a),n=this.computeScrollerHeight(e),this.setGridHeight(n,t),a&&"number"!=typeof a&&this.dayGrid.limitRows(a),t||(this.scroller.setHeight(n),r=this.scroller.getScrollbarWidths(),(r.left||r.right)&&(i(this.headRowEl,r),n=this.computeScrollerHeight(e),this.scroller.setHeight(n)),this.scroller.lockOverflow(r))},computeScrollerHeight:function(e){return e-d(this.el,this.scroller.el)},setGridHeight:function(e,t){t?u(this.dayGrid.rowEls):l(this.dayGrid.rowEls,e,!0)},queryScroll:function(){return this.scroller.getScrollTop()},setScroll:function(e){this.scroller.setScrollTop(e)},prepareHits:function(){this.dayGrid.prepareHits()},releaseHits:function(){this.dayGrid.releaseHits()},queryHit:function(e,t){return this.dayGrid.queryHit(e,t)},getHitSpan:function(e){return this.dayGrid.getHitSpan(e)},getHitEl:function(e){return this.dayGrid.getHitEl(e)},renderEvents:function(e){this.dayGrid.renderEvents(e),this.updateHeight()},getEventSegs:function(){return this.dayGrid.getEventSegs()},unrenderEvents:function(){this.dayGrid.unrenderEvents()},renderDrag:function(e,t){return this.dayGrid.renderDrag(e,t)},unrenderDrag:function(){this.dayGrid.unrenderDrag()},renderSelection:function(e){this.dayGrid.renderSelection(e)},unrenderSelection:function(){this.dayGrid.unrenderSelection()}}),Mt={renderHeadIntroHtml:function(){var e=this.view;return e.weekNumbersVisible?'<th class="fc-week-number '+e.widgetHeaderClass+'" '+e.weekNumberStyleAttr()+"><span>"+ne(e.opt("weekNumberTitle"))+"</span></th>":""},renderNumberIntroHtml:function(e){var t=this.view;return t.weekNumbersVisible?'<td class="fc-week-number" '+t.weekNumberStyleAttr()+"><span>"+this.getCellDate(e,0).format("w")+"</span></td>":""},renderBgIntroHtml:function(){var e=this.view;return e.weekNumbersVisible?'<td class="fc-week-number '+e.widgetContentClass+'" '+e.weekNumberStyleAttr()+"></td>":""},renderIntroHtml:function(){var e=this.view;return e.weekNumbersVisible?'<td class="fc-week-number" '+e.weekNumberStyleAttr()+"></td>":""}},Ot=Ye.MonthView=At.extend({computeRange:function(e){var t,n=At.prototype.computeRange.call(this,e);return this.isFixedWeeks()&&(t=Math.ceil(n.end.diff(n.start,"weeks",!0)),n.end.add(6-t,"weeks")),n},setGridHeight:function(e,t){t=t||"variable"===this.opt("weekMode"),t&&(e*=this.rowCnt/6),l(this.dayGrid.rowEls,e,!t)},isFixedWeeks:function(){var e=this.opt("weekMode");return e?"fixed"===e:this.opt("fixedWeekCount")}});Ge.basic={"class":At},Ge.basicDay={type:"basic",duration:{days:1}},Ge.basicWeek={type:"basic",duration:{weeks:1}},Ge.month={"class":Ot,duration:{months:1},defaults:{fixedWeekCount:!0}};var Ft=Ye.AgendaView=wt.extend({scroller:null,timeGridClass:Et,timeGrid:null,dayGridClass:$t,dayGrid:null,axisWidth:null,headContainerEl:null,noScrollRowEls:null,bottomRuleEl:null,initialize:function(){this.timeGrid=this.instantiateTimeGrid(),this.opt("allDaySlot")&&(this.dayGrid=this.instantiateDayGrid()),this.scroller=new St({overflowX:"hidden",overflowY:"auto"})},instantiateTimeGrid:function(){var e=this.timeGridClass.extend(Rt);return new e(this)},instantiateDayGrid:function(){var e=this.dayGridClass.extend(It);return new e(this)},setRange:function(e){wt.prototype.setRange.call(this,e),this.timeGrid.setRange(e),this.dayGrid&&this.dayGrid.setRange(e)},renderDates:function(){this.el.addClass("fc-agenda-view").html(this.renderSkeletonHtml()),this.renderHead(),this.scroller.render();var t=this.scroller.el.addClass("fc-time-grid-container"),n=e('<div class="fc-time-grid" />').appendTo(t);this.el.find(".fc-body > tr > td").append(t),this.timeGrid.setElement(n),this.timeGrid.renderDates(),this.bottomRuleEl=e('<hr class="fc-divider '+this.widgetHeaderClass+'"/>').appendTo(this.timeGrid.el),this.dayGrid&&(this.dayGrid.setElement(this.el.find(".fc-day-grid")),this.dayGrid.renderDates(),this.dayGrid.bottomCoordPadding=this.dayGrid.el.next("hr").outerHeight()),this.noScrollRowEls=this.el.find(".fc-row:not(.fc-scroller *)")},renderHead:function(){this.headContainerEl=this.el.find(".fc-head-container").html(this.timeGrid.renderHeadHtml())},unrenderDates:function(){this.timeGrid.unrenderDates(),this.timeGrid.removeElement(),this.dayGrid&&(this.dayGrid.unrenderDates(),this.dayGrid.removeElement()),this.scroller.destroy()},renderSkeletonHtml:function(){return'<table><thead class="fc-head"><tr><td class="fc-head-container '+this.widgetHeaderClass+'"></td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'">'+(this.dayGrid?'<div class="fc-day-grid"/><hr class="fc-divider '+this.widgetHeaderClass+'"/>':"")+"</td></tr></tbody></table>"},axisStyleAttr:function(){return null!==this.axisWidth?'style="width:'+this.axisWidth+'px"':""},renderBusinessHours:function(){this.timeGrid.renderBusinessHours(),this.dayGrid&&this.dayGrid.renderBusinessHours()},unrenderBusinessHours:function(){this.timeGrid.unrenderBusinessHours(),this.dayGrid&&this.dayGrid.unrenderBusinessHours()},getNowIndicatorUnit:function(){return this.timeGrid.getNowIndicatorUnit()},renderNowIndicator:function(e){this.timeGrid.renderNowIndicator(e)},unrenderNowIndicator:function(){this.timeGrid.unrenderNowIndicator()},updateSize:function(e){this.timeGrid.updateSize(e),wt.prototype.updateSize.call(this,e)},updateWidth:function(){this.axisWidth=c(this.el.find(".fc-axis"))},setHeight:function(e,t){var n,r,a;this.bottomRuleEl.hide(),this.scroller.clear(),o(this.noScrollRowEls),this.dayGrid&&(this.dayGrid.removeSegPopover(),n=this.opt("eventLimit"),n&&"number"!=typeof n&&(n=Lt),n&&this.dayGrid.limitRows(n)),t||(r=this.computeScrollerHeight(e),this.scroller.setHeight(r),a=this.scroller.getScrollbarWidths(),(a.left||a.right)&&(i(this.noScrollRowEls,a),r=this.computeScrollerHeight(e),this.scroller.setHeight(r)),this.scroller.lockOverflow(a),this.timeGrid.getTotalSlatHeight()<r&&this.bottomRuleEl.show())},computeScrollerHeight:function(e){return e-d(this.el,this.scroller.el)},computeInitialScroll:function(){var e=t.duration(this.opt("scrollTime")),n=this.timeGrid.computeTimeTop(e);return n=Math.ceil(n),n&&n++,n},queryScroll:function(){return this.scroller.getScrollTop()},setScroll:function(e){this.scroller.setScrollTop(e)},prepareHits:function(){this.timeGrid.prepareHits(),this.dayGrid&&this.dayGrid.prepareHits()},releaseHits:function(){this.timeGrid.releaseHits(),this.dayGrid&&this.dayGrid.releaseHits()},queryHit:function(e,t){var n=this.timeGrid.queryHit(e,t);return!n&&this.dayGrid&&(n=this.dayGrid.queryHit(e,t)),n},getHitSpan:function(e){return e.component.getHitSpan(e)},getHitEl:function(e){return e.component.getHitEl(e)},renderEvents:function(e){var t,n,r=[],i=[],o=[];for(n=0;n<e.length;n++)e[n].allDay?r.push(e[n]):i.push(e[n]);t=this.timeGrid.renderEvents(i),this.dayGrid&&(o=this.dayGrid.renderEvents(r)),this.updateHeight()},getEventSegs:function(){return this.timeGrid.getEventSegs().concat(this.dayGrid?this.dayGrid.getEventSegs():[])},unrenderEvents:function(){this.timeGrid.unrenderEvents(),this.dayGrid&&this.dayGrid.unrenderEvents()},renderDrag:function(e,t){return e.start.hasTime()?this.timeGrid.renderDrag(e,t):this.dayGrid?this.dayGrid.renderDrag(e,t):void 0},unrenderDrag:function(){this.timeGrid.unrenderDrag(),this.dayGrid&&this.dayGrid.unrenderDrag()},renderSelection:function(e){e.start.hasTime()||e.end.hasTime()?this.timeGrid.renderSelection(e):this.dayGrid&&this.dayGrid.renderSelection(e)},unrenderSelection:function(){this.timeGrid.unrenderSelection(),this.dayGrid&&this.dayGrid.unrenderSelection()}}),Rt={renderHeadIntroHtml:function(){var e,t=this.view;return t.opt("weekNumbers")?(e=this.start.format(t.opt("smallWeekFormat")),'<th class="fc-axis fc-week-number '+t.widgetHeaderClass+'" '+t.axisStyleAttr()+"><span>"+ne(e)+"</span></th>"):'<th class="fc-axis '+t.widgetHeaderClass+'" '+t.axisStyleAttr()+"></th>"},renderBgIntroHtml:function(){var e=this.view;return'<td class="fc-axis '+e.widgetContentClass+'" '+e.axisStyleAttr()+"></td>"},renderIntroHtml:function(){var e=this.view;return'<td class="fc-axis" '+e.axisStyleAttr()+"></td>"}},It={renderBgIntroHtml:function(){var e=this.view;return'<td class="fc-axis '+e.widgetContentClass+'" '+e.axisStyleAttr()+"><span>"+(e.opt("allDayHtml")||ne(e.opt("allDayText")))+"</span></td>"},renderIntroHtml:function(){var e=this.view;return'<td class="fc-axis" '+e.axisStyleAttr()+"></td>"}},Lt=5,Pt=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];return Ge.agenda={"class":Ft,defaults:{allDaySlot:!0,allDayText:"all-day",slotDuration:"00:30:00",minTime:"00:00:00",maxTime:"24:00:00",slotEventOverlap:!0}},Ge.agendaDay={type:"agenda",duration:{days:1}},Ge.agendaWeek={type:"agenda",duration:{weeks:1}},Ye}),!function(e,t){"use strict";var n=864e5,r=function(){if(t.userAgent&&(t.userAgent.match(/Android/i)||t.userAgent.match(/webOS/i)||t.userAgent.match(/iPhone/i)||t.userAgent.match(/iPad/i)||t.userAgent.match(/iPod/i)||t.userAgent.match(/BlackBerry/i)||t.userAgent.match(/Windows Phone/i)))return!0}(),i=function(e,t){return r?['<div class="_720kb-datepicker-calendar-header">','<div class="_720kb-datepicker-calendar-header-middle _720kb-datepicker-mobile-item _720kb-datepicker-calendar-month">','<select ng-model="month" title="{{ dateMonthTitle }}" ng-change="selectedMonthHandle(month)">','<option ng-repeat="item in months" ng-selected="item === month" ng-disabled=\'!isSelectableMaxDate(item + " " + day + ", " + year) || !isSelectableMinDate(item + " " + day + ", " + year)\' ng-value="$index + 1" value="$index + 1">',"{{ item }}","</option>","</select>","</div>","</div>",'<div class="_720kb-datepicker-calendar-header">','<div class="_720kb-datepicker-calendar-header-middle _720kb-datepicker-mobile-item _720kb-datepicker-calendar-month">','<select ng-model="mobileYear" title="{{ dateYearTitle }}" ng-change="setNewYear(mobileYear)">','<option ng-repeat="item in paginationYears track by $index" ng-selected="year === item" ng-disabled="!isSelectableMinYear(item) || !isSelectableMaxYear(item)" ng-value="item" value="item">',"{{ item }}","</option>","</select>","</div>","</div>"]:['<div class="_720kb-datepicker-calendar-header">','<div class="_720kb-datepicker-calendar-header-left">','<a class="_720kb-datepicker-calendar-month-button" href="javascript:void(0)" ng-class="{\'_720kb-datepicker-item-hidden\': !willPrevMonthBeSelectable()}" ng-click="prevMonth()" title="{{ buttonPrevTitle }}">',e,"</a>","</div>",'<div class="_720kb-datepicker-calendar-header-middle _720kb-datepicker-calendar-month">',"{{month}}&nbsp;",'<a href="javascript:void(0)" ng-click="paginateYears(year); showYearsPagination = !showYearsPagination;">',"<span>","{{year}}","<i ng-class=\"{'_720kb-datepicker-calendar-header-closed-pagination': !showYearsPagination, '_720kb-datepicker-calendar-header-opened-pagination': showYearsPagination}\"></i>","</span>","</a>","</div>",'<div class="_720kb-datepicker-calendar-header-right">','<a class="_720kb-datepicker-calendar-month-button" ng-class="{\'_720kb-datepicker-item-hidden\': !willNextMonthBeSelectable()}" href="javascript:void(0)" ng-click="nextMonth()" title="{{ buttonNextTitle }}">',t,"</a>","</div>","</div>"]},o=function(e,t){return['<div class="_720kb-datepicker-calendar-header" ng-show="showYearsPagination">','<div class="_720kb-datepicker-calendar-years-pagination">','<a ng-class="{\'_720kb-datepicker-active\': y === year, \'_720kb-datepicker-disabled\': !isSelectableMaxYear(y) || !isSelectableMinYear(y)}" href="javascript:void(0)" ng-click="setNewYear(y)" ng-repeat="y in paginationYears track by $index">',"{{y}}","</a>","</div>",'<div class="_720kb-datepicker-calendar-years-pagination-pages">','<a href="javascript:void(0)" ng-click="paginateYears(paginationYears[0])" ng-class="{\'_720kb-datepicker-item-hidden\': paginationYearsPrevDisabled}">',e,"</a>",'<a href="javascript:void(0)" ng-click="paginateYears(paginationYears[paginationYears.length -1 ])" ng-class="{\'_720kb-datepicker-item-hidden\': paginationYearsNextDisabled}">',t,"</a>","</div>","</div>"]},a=function(){return['<div class="_720kb-datepicker-calendar-days-header">','<div ng-repeat="d in daysInString">',"{{d}}","</div>","</div>"]},s=function(){return['<div class="_720kb-datepicker-calendar-body">','<a href="javascript:void(0)" ng-repeat="px in prevMonthDays" class="_720kb-datepicker-calendar-day _720kb-datepicker-disabled">',"{{px}}","</a>","<a href=\"javascript:void(0)\" ng-repeat=\"item in days\" ng-click=\"setDatepickerDay(item)\" ng-class=\"{'_720kb-datepicker-active': day === item, '_720kb-datepicker-disabled': !isSelectableMinDate(year + '/' + monthNumber + '/' + item ) || !isSelectableMaxDate(year + '/' + monthNumber + '/' + item) || !isSelectableDate(monthNumber, year, item)}\" class=\"_720kb-datepicker-calendar-day\">","{{item}}","</a>",'<a href="javascript:void(0)" ng-repeat="nx in nextMonthDays" class="_720kb-datepicker-calendar-day _720kb-datepicker-disabled">',"{{nx}}","</a>","</div>"]},l=function(e,t){var n=['<div class="_720kb-datepicker-calendar {{datepickerClass}} {{datepickerID}}" ng-class="{\'_720kb-datepicker-forced-to-open\': checkVisibility()}" ng-blur="hideCalendar()">',"</div>"],r=i(e,t),l=o(e,t),u=a(),c=s(),d=function(e){n.splice(n.length-1,0,e)};return r.forEach(d),l.forEach(d),u.forEach(d),c.forEach(d),n.join("")},u=function(t,i,o,a,s){var u=function(u,c,d){var f,h,p=d.selector,g=e.element(p?c[0].querySelector("."+p):c[0].children[0]),m='<b class="_720kb-datepicker-default-button">&lang;</b>',v='<b class="_720kb-datepicker-default-button">&rang;</b>',y=d.buttonPrev||m,b=d.buttonNext||v,$=d.dateFormat,E=u.$eval(u.dateDisabledDates),w=new Date,S=!1,x=!1,C=o.DATETIME_FORMATS,T=864e5,D=l(y,b),k=function(){S||x||!f||u.hideCalendar()},N=function(){u.month=a("date")(new Date(u.dateMinLimit),"MMMM"),u.monthNumber=Number(a("date")(new Date(u.dateMinLimit),"MM")),u.day=Number(a("date")(new Date(u.dateMinLimit),"dd")),u.year=Number(a("date")(new Date(u.dateMinLimit),"yyyy"))},_=function(){u.month=a("date")(new Date(u.dateMaxLimit),"MMMM"),u.monthNumber=Number(a("date")(new Date(u.dateMaxLimit),"MM")),u.day=Number(a("date")(new Date(u.dateMaxLimit),"dd")),u.year=Number(a("date")(new Date(u.dateMaxLimit),"yyyy"))},A=function(){u.year=Number(u.year)-1},M=function(){u.year=Number(u.year)+1},O=function(){if(!u.isSelectableMinDate(u.year+"/"+u.monthNumber+"/"+u.day)||!u.isSelectableMaxDate(u.year+"/"+u.monthNumber+"/"+u.day))return!1;var e=new Date(u.year+"/"+u.monthNumber+"/"+u.day);d.dateFormat?g.val(a("date")(e,$)):g.val(e),g.triggerHandler("input"),g.triggerHandler("change")},F={add:function(e,t){var n;e.className.indexOf(t)>-1||(n=e.className.split(" "),n.push(t),e.className=n.join(" "))},remove:function(e,t){var n,r;if(e.className.indexOf(t)!==-1){for(r=e.className.split(" "),n=0;n<r.length;n+=1)if(r[n]===t){r=r.slice(0,n).concat(r.slice(n+1));break}e.className=r.join(" ")}}},R=function(){h=t.document.getElementsByClassName("_720kb-datepicker-calendar"),e.forEach(h,function(e,t){h[t].classList?h[t].classList.remove("_720kb-datepicker-open"):F.remove(h[t],"_720kb-datepicker-open")}),f.classList?f.classList.add("_720kb-datepicker-open"):F.add(f,"_720kb-datepicker-open")},I=function(){return!u.datepickerToggle||u.$eval(u.datepickerToggle)},L=function(){return!!u.datepickerShow&&u.$eval(u.datepickerShow)},P=function(e,t){var n,r,i,o,a=new Date(t,e,0).getDate(),s=new Date(t+"/"+e+"/1").getDay(),l=new Date(t+"/"+e+"/"+a).getDay(),c=[],d=[];for(u.days=[],n=1;n<=a;n+=1)u.days.push(n);if(0===s)u.prevMonthDays=[];else{for(i=s,o=1===Number(e)?12:e-1,n=1;n<=new Date(t,o,0).getDate();n+=1)c.push(n);u.prevMonthDays=c.slice(-i)}if(l<6){for(r=6-l,n=1;n<=r;n+=1)d.push(n);u.nextMonthDays=d}else u.nextMonthDays=[]},H=u.$watch("dateSet",function(e){e&&(w=new Date(e),u.month=a("date")(w,"MMMM"),u.monthNumber=Number(a("date")(w,"MM")),u.day=Number(a("date")(w,"dd")),u.year=Number(a("date")(w,"yyyy")),P(u.monthNumber,u.year),"true"!==u.dateSetHidden&&O())});u.nextMonth=function(){12===u.monthNumber?(u.monthNumber=1,M()):u.monthNumber+=1,u.dateMaxLimit&&(u.isSelectableMaxDate(u.year+"/"+u.monthNumber+"/"+u.days[0])||_()),u.month=a("date")(new Date(u.year,u.monthNumber-1),"MMMM"),P(u.monthNumber,u.year),u.day=void 0},u.willPrevMonthBeSelectable=function(){var e=u.monthNumber,t=u.year,n=a("date")(new Date(new Date(t+"/"+e+"/01").getTime()-T),"dd");return 1===e?(e=12,t-=1):e-=1,!(u.dateMinLimit&&!u.isSelectableMinDate(t+"/"+e+"/"+n))},u.willNextMonthBeSelectable=function(){var e=u.monthNumber,t=u.year;return 12===e?(e=1,t+=1):e+=1,!(u.dateMaxLimit&&!u.isSelectableMaxDate(t+"/"+e+"/01"))},u.prevMonth=function(){1===u.monthNumber?(u.monthNumber=12,A()):u.monthNumber-=1,u.dateMinLimit&&(u.isSelectableMinDate(u.year+"/"+u.monthNumber+"/"+u.days[u.days.length-1])||N()),u.month=a("date")(new Date(u.year,u.monthNumber-1),"MMMM"),P(u.monthNumber,u.year),u.day=void 0},u.selectedMonthHandle=function(e){u.monthNumber=Number(a("date")(new Date(e+"/01/2000"),"MM")),P(u.monthNumber,u.year),O()},u.setNewYear=function(e){if(r||(u.day=void 0),u.dateMaxLimit&&u.year<Number(e)){if(!u.isSelectableMaxYear(e))return}else if(u.dateMinLimit&&u.year>Number(e)&&!u.isSelectableMinYear(e))return;u.year=Number(e),P(u.monthNumber,u.year),u.paginateYears(e),u.showYearsPagination=!1},u.hideCalendar=function(){f.classList?f.classList.remove("_720kb-datepicker-open"):F.remove(f,"_720kb-datepicker-open")},u.setDatepickerDay=function(e){u.isSelectableDate(u.monthNumber,u.year,e)&&u.isSelectableMaxDate(u.year+"/"+u.monthNumber+"/"+e)&&u.isSelectableMinDate(u.year+"/"+u.monthNumber+"/"+e)&&(u.day=Number(e),O(),d.hasOwnProperty("dateRefocus")&&g[0].focus(),u.hideCalendar())},u.paginateYears=function(e){var t,n=[],i=10,o=10;for(u.paginationYears=[],r&&(i=50,o=50,u.dateMinLimit&&u.dateMaxLimit&&(e=new Date(u.dateMaxLimit).getFullYear(),i=e-new Date(u.dateMinLimit).getFullYear(),o=1)),t=i;t>0;t-=1)n.push(Number(e)-t);for(t=0;t<o;t+=1)n.push(Number(e)+t);"true"===u.dateTyper&&g.on("keyup blur",function(){if(g[0].value&&g[0].value.length&&g[0].value.length>0)try{w=new Date(g[0].value.toString()),w.getFullYear()&&!isNaN(w.getDay())&&!isNaN(w.getMonth())&&u.isSelectableDate(w)&&u.isSelectableMaxDate(w)&&u.isSelectableMinDate(w)&&u.$apply(function(){u.month=a("date")(w,"MMMM"),u.monthNumber=Number(a("date")(w,"MM")),u.day=Number(a("date")(w,"dd")),4===w.getFullYear().toString().length&&(u.year=Number(a("date")(w,"yyyy"))),P(u.monthNumber,u.year)})}catch(e){return e}}),u.dateMaxLimit&&n&&n.length&&!u.isSelectableMaxYear(Number(n[n.length-1])+1)?u.paginationYearsNextDisabled=!0:u.paginationYearsNextDisabled=!1,u.dateMinLimit&&n&&n.length&&!u.isSelectableMinYear(Number(n[0])-1)?u.paginationYearsPrevDisabled=!0:u.paginationYearsPrevDisabled=!1,u.paginationYears=n},u.isSelectableDate=function(e,t,n){var r=0;if(E&&E.length>0)for(r;r<=E.length;r+=1)if(new Date(E[r]).getTime()===new Date(e+"/"+n+"/"+t).getTime())return!1;return!0},u.isSelectableMinDate=function(e){return!(u.dateMinLimit&&new Date(u.dateMinLimit)&&new Date(e).getTime()<new Date(u.dateMinLimit).getTime())},u.isSelectableMaxDate=function(e){return!(u.dateMaxLimit&&new Date(u.dateMaxLimit)&&new Date(e).getTime()>new Date(u.dateMaxLimit).getTime())},u.isSelectableMaxYear=function(e){return!(u.dateMaxLimit&&e>new Date(u.dateMaxLimit).getFullYear())},u.isSelectableMinYear=function(e){return!(u.dateMinLimit&&e<new Date(u.dateMinLimit).getFullYear())},D=D.replace(/{{/g,s.startSymbol()).replace(/}}/g,s.endSymbol()),u.dateMonthTitle=u.dateMonthTitle||"Select month",u.dateYearTitle=u.dateYearTitle||"Select year",u.buttonNextTitle=u.buttonNextTitle||"Next",u.buttonPrevTitle=u.buttonPrevTitle||"Prev",u.month=a("date")(w,"MMMM"),u.monthNumber=Number(a("date")(w,"MM")),u.day=Number(a("date")(w,"dd")),u.dateMaxLimit?u.year=Number(a("date")(new Date(u.dateMaxLimit),"yyyy")):u.year=Number(a("date")(w,"yyyy")),u.months=C.MONTH,u.daysInString=["0","1","2","3","4","5","6"].map(function(e){return a("date")(new Date(new Date("06/08/2014").valueOf()+n*e),"EEE")}),u.datepickerAppendTo&&u.datepickerAppendTo.indexOf(".")!==-1?(u.datepickerID="datepicker-id-"+(new Date).getTime()+(Math.floor(6*Math.random())+8),e.element(document.getElementsByClassName(u.datepickerAppendTo.replace(".",""))[0]).append(i(e.element(D))(u,function(t){f=e.element(t)[0]}))):u.datepickerAppendTo&&u.datepickerAppendTo.indexOf("#")!==-1?(u.datepickerID="datepicker-id-"+(new Date).getTime()+(Math.floor(6*Math.random())+8),e.element(document.getElementById(u.datepickerAppendTo.replace("#",""))).append(i(e.element(D))(u,function(t){f=e.element(t)[0]}))):u.datepickerAppendTo&&"body"===u.datepickerAppendTo?(u.datepickerID="datepicker-id-"+((new Date).getTime()+(Math.floor(6*Math.random())+8)),e.element(document).find("body").append(i(e.element(D))(u,function(t){f=e.element(t)[0]}))):(g.after(i(e.element(D))(u)),f=c[0].querySelector("._720kb-datepicker-calendar")),I()&&g.on("focus click focusin",function(){x=!0,S||x||!f?R():u.hideCalendar()}),g.on("focusout blur",function(){x=!1}),e.element(f).on("mouseenter",function(){S=!0}),e.element(f).on("mouseleave",function(){S=!1}),e.element(f).on("focusin",function(){S=!0}),e.element(t).on("click focus focusin",k),(u.dateMinLimit&&!u.isSelectableMinYear(u.year)||!u.isSelectableMinDate(u.year+"/"+u.monthNumber+"/"+u.day))&&N(),(u.dateMaxLimit&&!u.isSelectableMaxYear(u.year)||!u.isSelectableMaxDate(u.year+"/"+u.monthNumber+"/"+u.day))&&_(),u.paginateYears(u.year),P(u.monthNumber,u.year),u.checkVisibility=L,u.$on("$destroy",function(){H(),g.off("focus click focusout blur"),e.element(f).off("mouseenter mouseleave focusin"),e.element(t).off("click focus focusin",k)})};return{restrict:"AEC",scope:{dateSet:"@",dateMinLimit:"@",dateMaxLimit:"@",dateMonthTitle:"@",dateYearTitle:"@",buttonNextTitle:"@",buttonPrevTitle:"@",dateDisabledDates:"@",dateSetHidden:"@",dateTyper:"@",datepickerAppendTo:"@",datepickerToggle:"@",datepickerClass:"@",datepickerShow:"@"},link:u}};e.module("720kb.datepicker",[]).directive("datepicker",["$window","$compile","$locale","$filter","$interpolate",u])}(angular,navigator);