angular.module("MuscleMan",["ngFileUpload","ngRoute","Services"]).config(["$routeProvider",function(t){t.when("/",{templateUrl:"tpl/main.tpl",controller:"MainCtrl"}).when("/auth",{templateUrl:"tpl/auth.tpl",controller:"AuthCtrl"}).when("/album/:id",{templateUrl:"tpl/album.tpl",controller:"AlbumCtrl"}).when("/articles",{templateUrl:"tpl/articles.tpl",controller:"ArticlesCtrl"}).when("/article/:id",{templateUrl:"tpl/article.tpl",controller:"ArticleCtrl"}).when("/competitions",{templateUrl:"tpl/competitions.tpl",controller:"CompetitionsCtrl"}).when("/competition/:id",{templateUrl:"tpl/competition.tpl",controller:"CompetitionCtrl"}).when("/contests",{templateUrl:"tpl/contests.tpl",controller:"ContestsCtrl"}).when("/contest/:id",{templateUrl:"tpl/contest.tpl",controller:"ContestCtrl"}).when("/dialogs",{templateUrl:"tpl/dialogs.tpl",controller:"DialogsCtrl"}).when("/favs",{templateUrl:"tpl/favs.tpl",controller:"FavsCtrl"}).when("/photos",{templateUrl:"tpl/photos.tpl",controller:"PhotosCtrl"}).when("/options",{templateUrl:"tpl/options.tpl",controller:"OptionsCtrl"}).when("/search",{templateUrl:"tpl/search.tpl",controller:"SearchCtrl"}).when("/status",{templateUrl:"tpl/status.tpl",controller:"StatusCtrl"}).when("/user",{templateUrl:"tpl/user.tpl",controller:"UserCtrl"}).otherwise({redirectTo:"/auth"})}]),angular.module("Services",[]).factory("User",["$http",function(t){return{get:function(l,o){return t.get("/user").then(l,o)},set:function(l,o,e){return t.put("/user",l).then(o,e)},auth:function(l,o,e){return t.post("/auth",l).then(o,e)}}}]).factory("LS",function(){return{get:function(t){try{var t=localStorage.getItem(t);return t?JSON.parse(t):null}catch(l){return console.error(l),null}},set:function(t,l){try{var o=l?JSON.stringify(l):"";return localStorage.setItem(t,o),!0}catch(e){return localStorage.clear(),console.error(e),!1}}}}),angular.module("MuscleMan").controller("AlbumCtrl",["$scope",function(t){t.options={}}]),angular.module("MuscleMan").controller("ArticleCtrl",["$scope",function(t){t.options={}}]),angular.module("MuscleMan").controller("ArticlesCtrl",["$scope",function(t){t.options={}}]),angular.module("MuscleMan").controller("AuthCtrl",["$scope","$location","User","LS",function(t,l,o,e){t.cred={mail:"",pass:""},t.auth=function(){t.cred.mail.$error||o.auth(t.cred,function(o){switch(t.options.loading=!1,o.status){case 202:t.options.user=o.data,e.set("user",o.data),l.path("/user");break;default:l.path("/options")}},function(t){})}}]),angular.module("MuscleMan").controller("CompetitionCtrl",["$scope",function(t){t.options={}}]),angular.module("MuscleMan").controller("CompetitionsCtrl",["$scope",function(t){t.options={}}]),angular.module("MuscleMan").controller("ContestCtrl",["$scope",function(t){t.options={}}]),angular.module("MuscleMan").controller("ContestsCtrl",["$scope",function(t){t.options={}}]),angular.module("MuscleMan").controller("DialogsCtrl",["$scope",function(t){t.options={}}]),angular.module("MuscleMan").controller("FavsCtrl",["$scope",function(t){t.options={}}]),angular.module("MuscleMan").controller("MainCtrl",["$scope","LS",function(t,l){t.options={user:l.get("user")},t.getloc=function(){return"#/"===location.hash}}]),angular.module("MuscleMan").controller("OptionsCtrl",["$scope",function(t){t.options={}}]),angular.module("MuscleMan").controller("PhotosCtrl",["$scope",function(t){t.options={}}]),angular.module("MuscleMan").controller("SearchCtrl",["$scope",function(t){t.options={}}]),angular.module("MuscleMan").controller("StatusCtrl",["$scope",function(t){t.options={}}]),angular.module("MuscleMan").controller("UserCtrl",["$scope",function(t){}]);